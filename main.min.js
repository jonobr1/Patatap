(()=>{var Ko=Object.create;var un=Object.defineProperty;var Qo=Object.getOwnPropertyDescriptor;var Jo=Object.getOwnPropertyNames;var Zo=Object.getPrototypeOf,tl=Object.prototype.hasOwnProperty;var el=(t,e,r)=>e in t?un(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var il=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var rl=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Jo(e))!tl.call(t,a)&&a!==r&&un(t,a,{get:()=>e[a],enumerable:!(s=Qo(e,a))||s.enumerable});return t};var As=(t,e,r)=>(r=t!=null?Ko(Zo(t)):{},rl(e||!t||!t.__esModule?un(r,"default",{value:t,enumerable:!0}):r,t));var Ue=(t,e,r)=>(el(t,typeof e!="symbol"?e+"":e,r),r),dn=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var re=(t,e,r)=>(dn(t,e,"read from private field"),r?r.call(t):e.get(t)),si=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Le=(t,e,r,s)=>(dn(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r);var Cs=(t,e,r)=>(dn(t,e,"access private method"),r);var pn=il((Es,cr)=>{(function(t,e){"use strict";typeof cr=="object"&&typeof cr.exports=="object"?cr.exports=t.document?e(t,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return e(r)}:e(t)})(typeof window<"u"?window:Es,function(t,e){"use strict";var r=[],s=Object.getPrototypeOf,a=r.slice,c=r.flat?function(i){return r.flat.call(i)}:function(i){return r.concat.apply([],i)},f=r.push,p=r.indexOf,y={},_=y.toString,T=y.hasOwnProperty,C=T.toString,A=C.call(Object),x={},k=function(n){return typeof n=="function"&&typeof n.nodeType!="number"&&typeof n.item!="function"},N=function(n){return n!=null&&n===n.window},M=t.document,R={type:!0,src:!0,nonce:!0,noModule:!0};function L(i,n,o){o=o||M;var h,u,d=o.createElement("script");if(d.text=i,n)for(h in R)u=n[h]||n.getAttribute&&n.getAttribute(h),u&&d.setAttribute(h,u);o.head.appendChild(d).parentNode.removeChild(d)}function q(i){return i==null?i+"":typeof i=="object"||typeof i=="function"?y[_.call(i)]||"object":typeof i}var z="3.7.0",H=/HTML$/i,l=function(i,n){return new l.fn.init(i,n)};l.fn=l.prototype={jquery:z,constructor:l,length:0,toArray:function(){return a.call(this)},get:function(i){return i==null?a.call(this):i<0?this[i+this.length]:this[i]},pushStack:function(i){var n=l.merge(this.constructor(),i);return n.prevObject=this,n},each:function(i){return l.each(this,i)},map:function(i){return this.pushStack(l.map(this,function(n,o){return i.call(n,o,n)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(l.grep(this,function(i,n){return(n+1)%2}))},odd:function(){return this.pushStack(l.grep(this,function(i,n){return n%2}))},eq:function(i){var n=this.length,o=+i+(i<0?n:0);return this.pushStack(o>=0&&o<n?[this[o]]:[])},end:function(){return this.prevObject||this.constructor()},push:f,sort:r.sort,splice:r.splice},l.extend=l.fn.extend=function(){var i,n,o,h,u,d,g=arguments[0]||{},w=1,v=arguments.length,E=!1;for(typeof g=="boolean"&&(E=g,g=arguments[w]||{},w++),typeof g!="object"&&!k(g)&&(g={}),w===v&&(g=this,w--);w<v;w++)if((i=arguments[w])!=null)for(n in i)h=i[n],!(n==="__proto__"||g===h)&&(E&&h&&(l.isPlainObject(h)||(u=Array.isArray(h)))?(o=g[n],u&&!Array.isArray(o)?d=[]:!u&&!l.isPlainObject(o)?d={}:d=o,u=!1,g[n]=l.extend(E,d,h)):h!==void 0&&(g[n]=h));return g},l.extend({expando:"jQuery"+(z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(i){throw new Error(i)},noop:function(){},isPlainObject:function(i){var n,o;return!i||_.call(i)!=="[object Object]"?!1:(n=s(i),n?(o=T.call(n,"constructor")&&n.constructor,typeof o=="function"&&C.call(o)===A):!0)},isEmptyObject:function(i){var n;for(n in i)return!1;return!0},globalEval:function(i,n,o){L(i,{nonce:n&&n.nonce},o)},each:function(i,n){var o,h=0;if(Z(i))for(o=i.length;h<o&&n.call(i[h],h,i[h])!==!1;h++);else for(h in i)if(n.call(i[h],h,i[h])===!1)break;return i},text:function(i){var n,o="",h=0,u=i.nodeType;if(u){if(u===1||u===9||u===11)return i.textContent;if(u===3||u===4)return i.nodeValue}else for(;n=i[h++];)o+=l.text(n);return o},makeArray:function(i,n){var o=n||[];return i!=null&&(Z(Object(i))?l.merge(o,typeof i=="string"?[i]:i):f.call(o,i)),o},inArray:function(i,n,o){return n==null?-1:p.call(n,i,o)},isXMLDoc:function(i){var n=i&&i.namespaceURI,o=i&&(i.ownerDocument||i).documentElement;return!H.test(n||o&&o.nodeName||"HTML")},merge:function(i,n){for(var o=+n.length,h=0,u=i.length;h<o;h++)i[u++]=n[h];return i.length=u,i},grep:function(i,n,o){for(var h,u=[],d=0,g=i.length,w=!o;d<g;d++)h=!n(i[d],d),h!==w&&u.push(i[d]);return u},map:function(i,n,o){var h,u,d=0,g=[];if(Z(i))for(h=i.length;d<h;d++)u=n(i[d],d,o),u!=null&&g.push(u);else for(d in i)u=n(i[d],d,o),u!=null&&g.push(u);return c(g)},guid:1,support:x}),typeof Symbol=="function"&&(l.fn[Symbol.iterator]=r[Symbol.iterator]),l.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(i,n){y["[object "+n+"]"]=n.toLowerCase()});function Z(i){var n=!!i&&"length"in i&&i.length,o=q(i);return k(i)||N(i)?!1:o==="array"||n===0||typeof n=="number"&&n>0&&n-1 in i}function G(i,n){return i.nodeName&&i.nodeName.toLowerCase()===n.toLowerCase()}var nt=r.pop,Q=r.sort,_t=r.splice,K="[\\x20\\t\\r\\n\\f]",Tt=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g");l.contains=function(i,n){var o=n&&n.parentNode;return i===o||!!(o&&o.nodeType===1&&(i.contains?i.contains(o):i.compareDocumentPosition&&i.compareDocumentPosition(o)&16))};var gt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function zt(i,n){return n?i==="\0"?"\uFFFD":i.slice(0,-1)+"\\"+i.charCodeAt(i.length-1).toString(16)+" ":"\\"+i}l.escapeSelector=function(i){return(i+"").replace(gt,zt)};var St=M,at=f;(function(){var i,n,o,h,u,d=at,g,w,v,E,I,D=l.expando,O=0,U=0,ut=ar(),At=ar(),yt=ar(),te=ar(),Qt=function(b,S){return b===S&&(u=!0),0},Re="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Me="(?:\\\\[\\da-fA-F]{1,6}"+K+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",wt="\\["+K+"*("+Me+")(?:"+K+"*([*^$|!~]?=)"+K+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Me+"))|)"+K+"*\\]",ri=":("+Me+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+wt+")*)|.*)\\)|)",Ct=new RegExp(K+"+","g"),qt=new RegExp("^"+K+"*,"+K+"*"),Di=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),sn=new RegExp(K+"|>"),Fe=new RegExp(ri),Bi=new RegExp("^"+Me+"$"),Oe={ID:new RegExp("^#("+Me+")"),CLASS:new RegExp("^\\.("+Me+")"),TAG:new RegExp("^("+Me+"|[*])"),ATTR:new RegExp("^"+wt),PSEUDO:new RegExp("^"+ri),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+Re+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},$e=/^(?:input|select|textarea|button)$/i,Xe=/^h\d$/i,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,an=/[+~]/,He=new RegExp("\\\\[\\da-fA-F]{1,6}"+K+"?|\\\\([^\\r\\n\\f])","g"),ze=function(b,S){var F="0x"+b.slice(1)-65536;return S||(F<0?String.fromCharCode(F+65536):String.fromCharCode(F>>10|55296,F&1023|56320))},Uo=function(){Ye()},Vo=hr(function(b){return b.disabled===!0&&G(b,"fieldset")},{dir:"parentNode",next:"legend"});function Wo(){try{return g.activeElement}catch{}}try{d.apply(r=a.call(St.childNodes),St.childNodes),r[St.childNodes.length].nodeType}catch{d={apply:function(S,F){at.apply(S,a.call(F))},call:function(S){at.apply(S,a.call(arguments,1))}}}function Mt(b,S,F,P){var j,W,X,et,Y,vt,ft,pt=S&&S.ownerDocument,xt=S?S.nodeType:9;if(F=F||[],typeof b!="string"||!b||xt!==1&&xt!==9&&xt!==11)return F;if(!P&&(Ye(S),S=S||g,v)){if(xt!==11&&(Y=ye.exec(b)))if(j=Y[1]){if(xt===9)if(X=S.getElementById(j)){if(X.id===j)return d.call(F,X),F}else return F;else if(pt&&(X=pt.getElementById(j))&&Mt.contains(S,X)&&X.id===j)return d.call(F,X),F}else{if(Y[2])return d.apply(F,S.getElementsByTagName(b)),F;if((j=Y[3])&&S.getElementsByClassName)return d.apply(F,S.getElementsByClassName(j)),F}if(!te[b+" "]&&(!E||!E.test(b))){if(ft=b,pt=S,xt===1&&(sn.test(b)||Di.test(b))){for(pt=an.test(b)&&on(S.parentNode)||S,(pt!=S||!x.scope)&&((et=S.getAttribute("id"))?et=l.escapeSelector(et):S.setAttribute("id",et=D)),vt=or(b),W=vt.length;W--;)vt[W]=(et?"#"+et:":scope")+" "+lr(vt[W]);ft=vt.join(",")}try{return d.apply(F,pt.querySelectorAll(ft)),F}catch{te(b,!0)}finally{et===D&&S.removeAttribute("id")}}}return Ss(b.replace(Tt,"$1"),S,F,P)}function ar(){var b=[];function S(F,P){return b.push(F+" ")>n.cacheLength&&delete S[b.shift()],S[F+" "]=P}return S}function Se(b){return b[D]=!0,b}function vi(b){var S=g.createElement("fieldset");try{return!!b(S)}catch{return!1}finally{S.parentNode&&S.parentNode.removeChild(S),S=null}}function $o(b){return function(S){return G(S,"input")&&S.type===b}}function Xo(b){return function(S){return(G(S,"input")||G(S,"button"))&&S.type===b}}function ks(b){return function(S){return"form"in S?S.parentNode&&S.disabled===!1?"label"in S?"label"in S.parentNode?S.parentNode.disabled===b:S.disabled===b:S.isDisabled===b||S.isDisabled!==!b&&Vo(S)===b:S.disabled===b:"label"in S?S.disabled===b:!1}}function ni(b){return Se(function(S){return S=+S,Se(function(F,P){for(var j,W=b([],F.length,S),X=W.length;X--;)F[j=W[X]]&&(F[j]=!(P[j]=F[j]))})})}function on(b){return b&&typeof b.getElementsByTagName<"u"&&b}function Ye(b){var S,F=b?b.ownerDocument||b:St;return F==g||F.nodeType!==9||!F.documentElement||(g=F,w=g.documentElement,v=!l.isXMLDoc(g),I=w.matches||w.webkitMatchesSelector||w.msMatchesSelector,St!=g&&(S=g.defaultView)&&S.top!==S&&S.addEventListener("unload",Uo),x.getById=vi(function(P){return w.appendChild(P).id=l.expando,!g.getElementsByName||!g.getElementsByName(l.expando).length}),x.disconnectedMatch=vi(function(P){return I.call(P,"*")}),x.scope=vi(function(){return g.querySelectorAll(":scope")}),x.cssHas=vi(function(){try{return g.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),x.getById?(n.filter.ID=function(P){var j=P.replace(He,ze);return function(W){return W.getAttribute("id")===j}},n.find.ID=function(P,j){if(typeof j.getElementById<"u"&&v){var W=j.getElementById(P);return W?[W]:[]}}):(n.filter.ID=function(P){var j=P.replace(He,ze);return function(W){var X=typeof W.getAttributeNode<"u"&&W.getAttributeNode("id");return X&&X.value===j}},n.find.ID=function(P,j){if(typeof j.getElementById<"u"&&v){var W,X,et,Y=j.getElementById(P);if(Y){if(W=Y.getAttributeNode("id"),W&&W.value===P)return[Y];for(et=j.getElementsByName(P),X=0;Y=et[X++];)if(W=Y.getAttributeNode("id"),W&&W.value===P)return[Y]}return[]}}),n.find.TAG=function(P,j){return typeof j.getElementsByTagName<"u"?j.getElementsByTagName(P):j.querySelectorAll(P)},n.find.CLASS=function(P,j){if(typeof j.getElementsByClassName<"u"&&v)return j.getElementsByClassName(P)},E=[],vi(function(P){var j;w.appendChild(P).innerHTML="<a id='"+D+"' href='' disabled='disabled'></a><select id='"+D+"-\r\\' disabled='disabled'><option selected=''></option></select>",P.querySelectorAll("[selected]").length||E.push("\\["+K+"*(?:value|"+Re+")"),P.querySelectorAll("[id~="+D+"-]").length||E.push("~="),P.querySelectorAll("a#"+D+"+*").length||E.push(".#.+[+~]"),P.querySelectorAll(":checked").length||E.push(":checked"),j=g.createElement("input"),j.setAttribute("type","hidden"),P.appendChild(j).setAttribute("name","D"),w.appendChild(P).disabled=!0,P.querySelectorAll(":disabled").length!==2&&E.push(":enabled",":disabled"),j=g.createElement("input"),j.setAttribute("name",""),P.appendChild(j),P.querySelectorAll("[name='']").length||E.push("\\["+K+"*name"+K+"*="+K+`*(?:''|"")`)}),x.cssHas||E.push(":has"),E=E.length&&new RegExp(E.join("|")),Qt=function(P,j){if(P===j)return u=!0,0;var W=!P.compareDocumentPosition-!j.compareDocumentPosition;return W||(W=(P.ownerDocument||P)==(j.ownerDocument||j)?P.compareDocumentPosition(j):1,W&1||!x.sortDetached&&j.compareDocumentPosition(P)===W?P===g||P.ownerDocument==St&&Mt.contains(St,P)?-1:j===g||j.ownerDocument==St&&Mt.contains(St,j)?1:h?p.call(h,P)-p.call(h,j):0:W&4?-1:1)}),g}Mt.matches=function(b,S){return Mt(b,null,null,S)},Mt.matchesSelector=function(b,S){if(Ye(b),v&&!te[S+" "]&&(!E||!E.test(S)))try{var F=I.call(b,S);if(F||x.disconnectedMatch||b.document&&b.document.nodeType!==11)return F}catch{te(S,!0)}return Mt(S,g,null,[b]).length>0},Mt.contains=function(b,S){return(b.ownerDocument||b)!=g&&Ye(b),l.contains(b,S)},Mt.attr=function(b,S){(b.ownerDocument||b)!=g&&Ye(b);var F=n.attrHandle[S.toLowerCase()],P=F&&T.call(n.attrHandle,S.toLowerCase())?F(b,S,!v):void 0;return P!==void 0?P:b.getAttribute(S)},Mt.error=function(b){throw new Error("Syntax error, unrecognized expression: "+b)},l.uniqueSort=function(b){var S,F=[],P=0,j=0;if(u=!x.sortStable,h=!x.sortStable&&a.call(b,0),Q.call(b,Qt),u){for(;S=b[j++];)S===b[j]&&(P=F.push(j));for(;P--;)_t.call(b,F[P],1)}return h=null,b},l.fn.uniqueSort=function(){return this.pushStack(l.uniqueSort(a.apply(this)))},n=l.expr={cacheLength:50,createPseudo:Se,match:Oe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(He,ze),b[3]=(b[3]||b[4]||b[5]||"").replace(He,ze),b[2]==="~="&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),b[1].slice(0,3)==="nth"?(b[3]||Mt.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*(b[3]==="even"||b[3]==="odd")),b[5]=+(b[7]+b[8]||b[3]==="odd")):b[3]&&Mt.error(b[0]),b},PSEUDO:function(b){var S,F=!b[6]&&b[2];return Oe.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":F&&Fe.test(F)&&(S=or(F,!0))&&(S=F.indexOf(")",F.length-S)-F.length)&&(b[0]=b[0].slice(0,S),b[2]=F.slice(0,S)),b.slice(0,3))}},filter:{TAG:function(b){var S=b.replace(He,ze).toLowerCase();return b==="*"?function(){return!0}:function(F){return G(F,S)}},CLASS:function(b){var S=ut[b+" "];return S||(S=new RegExp("(^|"+K+")"+b+"("+K+"|$)"))&&ut(b,function(F){return S.test(typeof F.className=="string"&&F.className||typeof F.getAttribute<"u"&&F.getAttribute("class")||"")})},ATTR:function(b,S,F){return function(P){var j=Mt.attr(P,b);return j==null?S==="!=":S?(j+="",S==="="?j===F:S==="!="?j!==F:S==="^="?F&&j.indexOf(F)===0:S==="*="?F&&j.indexOf(F)>-1:S==="$="?F&&j.slice(-F.length)===F:S==="~="?(" "+j.replace(Ct," ")+" ").indexOf(F)>-1:S==="|="?j===F||j.slice(0,F.length+1)===F+"-":!1):!0}},CHILD:function(b,S,F,P,j){var W=b.slice(0,3)!=="nth",X=b.slice(-4)!=="last",et=S==="of-type";return P===1&&j===0?function(Y){return!!Y.parentNode}:function(Y,vt,ft){var pt,xt,st,Ft,fe,ie=W!==X?"nextSibling":"previousSibling",be=Y.parentNode,Pe=et&&Y.nodeName.toLowerCase(),xi=!ft&&!et,se=!1;if(be){if(W){for(;ie;){for(st=Y;st=st[ie];)if(et?G(st,Pe):st.nodeType===1)return!1;fe=ie=b==="only"&&!fe&&"nextSibling"}return!0}if(fe=[X?be.firstChild:be.lastChild],X&&xi){for(xt=be[D]||(be[D]={}),pt=xt[b]||[],Ft=pt[0]===O&&pt[1],se=Ft&&pt[2],st=Ft&&be.childNodes[Ft];st=++Ft&&st&&st[ie]||(se=Ft=0)||fe.pop();)if(st.nodeType===1&&++se&&st===Y){xt[b]=[O,Ft,se];break}}else if(xi&&(xt=Y[D]||(Y[D]={}),pt=xt[b]||[],Ft=pt[0]===O&&pt[1],se=Ft),se===!1)for(;(st=++Ft&&st&&st[ie]||(se=Ft=0)||fe.pop())&&!((et?G(st,Pe):st.nodeType===1)&&++se&&(xi&&(xt=st[D]||(st[D]={}),xt[b]=[O,se]),st===Y)););return se-=j,se===P||se%P===0&&se/P>=0}}},PSEUDO:function(b,S){var F,P=n.pseudos[b]||n.setFilters[b.toLowerCase()]||Mt.error("unsupported pseudo: "+b);return P[D]?P(S):P.length>1?(F=[b,b,"",S],n.setFilters.hasOwnProperty(b.toLowerCase())?Se(function(j,W){for(var X,et=P(j,S),Y=et.length;Y--;)X=p.call(j,et[Y]),j[X]=!(W[X]=et[Y])}):function(j){return P(j,0,F)}):P}},pseudos:{not:Se(function(b){var S=[],F=[],P=cn(b.replace(Tt,"$1"));return P[D]?Se(function(j,W,X,et){for(var Y,vt=P(j,null,et,[]),ft=j.length;ft--;)(Y=vt[ft])&&(j[ft]=!(W[ft]=Y))}):function(j,W,X){return S[0]=j,P(S,null,X,F),S[0]=null,!F.pop()}}),has:Se(function(b){return function(S){return Mt(b,S).length>0}}),contains:Se(function(b){return b=b.replace(He,ze),function(S){return(S.textContent||l.text(S)).indexOf(b)>-1}}),lang:Se(function(b){return Bi.test(b||"")||Mt.error("unsupported lang: "+b),b=b.replace(He,ze).toLowerCase(),function(S){var F;do if(F=v?S.lang:S.getAttribute("xml:lang")||S.getAttribute("lang"))return F=F.toLowerCase(),F===b||F.indexOf(b+"-")===0;while((S=S.parentNode)&&S.nodeType===1);return!1}}),target:function(b){var S=t.location&&t.location.hash;return S&&S.slice(1)===b.id},root:function(b){return b===w},focus:function(b){return b===Wo()&&g.hasFocus()&&!!(b.type||b.href||~b.tabIndex)},enabled:ks(!1),disabled:ks(!0),checked:function(b){return G(b,"input")&&!!b.checked||G(b,"option")&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,b.selected===!0},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(b.nodeType<6)return!1;return!0},parent:function(b){return!n.pseudos.empty(b)},header:function(b){return Xe.test(b.nodeName)},input:function(b){return $e.test(b.nodeName)},button:function(b){return G(b,"input")&&b.type==="button"||G(b,"button")},text:function(b){var S;return G(b,"input")&&b.type==="text"&&((S=b.getAttribute("type"))==null||S.toLowerCase()==="text")},first:ni(function(){return[0]}),last:ni(function(b,S){return[S-1]}),eq:ni(function(b,S,F){return[F<0?F+S:F]}),even:ni(function(b,S){for(var F=0;F<S;F+=2)b.push(F);return b}),odd:ni(function(b,S){for(var F=1;F<S;F+=2)b.push(F);return b}),lt:ni(function(b,S,F){var P;for(F<0?P=F+S:F>S?P=S:P=F;--P>=0;)b.push(P);return b}),gt:ni(function(b,S,F){for(var P=F<0?F+S:F;++P<S;)b.push(P);return b})}},n.pseudos.nth=n.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[i]=$o(i);for(i in{submit:!0,reset:!0})n.pseudos[i]=Xo(i);function Ts(){}Ts.prototype=n.filters=n.pseudos,n.setFilters=new Ts;function or(b,S){var F,P,j,W,X,et,Y,vt=At[b+" "];if(vt)return S?0:vt.slice(0);for(X=b,et=[],Y=n.preFilter;X;){(!F||(P=qt.exec(X)))&&(P&&(X=X.slice(P[0].length)||X),et.push(j=[])),F=!1,(P=Di.exec(X))&&(F=P.shift(),j.push({value:F,type:P[0].replace(Tt," ")}),X=X.slice(F.length));for(W in n.filter)(P=Oe[W].exec(X))&&(!Y[W]||(P=Y[W](P)))&&(F=P.shift(),j.push({value:F,type:W,matches:P}),X=X.slice(F.length));if(!F)break}return S?X.length:X?Mt.error(b):At(b,et).slice(0)}function lr(b){for(var S=0,F=b.length,P="";S<F;S++)P+=b[S].value;return P}function hr(b,S,F){var P=S.dir,j=S.next,W=j||P,X=F&&W==="parentNode",et=U++;return S.first?function(Y,vt,ft){for(;Y=Y[P];)if(Y.nodeType===1||X)return b(Y,vt,ft);return!1}:function(Y,vt,ft){var pt,xt,st=[O,et];if(ft){for(;Y=Y[P];)if((Y.nodeType===1||X)&&b(Y,vt,ft))return!0}else for(;Y=Y[P];)if(Y.nodeType===1||X)if(xt=Y[D]||(Y[D]={}),j&&G(Y,j))Y=Y[P]||Y;else{if((pt=xt[W])&&pt[0]===O&&pt[1]===et)return st[2]=pt[2];if(xt[W]=st,st[2]=b(Y,vt,ft))return!0}return!1}}function ln(b){return b.length>1?function(S,F,P){for(var j=b.length;j--;)if(!b[j](S,F,P))return!1;return!0}:b[0]}function Yo(b,S,F){for(var P=0,j=S.length;P<j;P++)Mt(b,S[P],F);return F}function fr(b,S,F,P,j){for(var W,X=[],et=0,Y=b.length,vt=S!=null;et<Y;et++)(W=b[et])&&(!F||F(W,P,j))&&(X.push(W),vt&&S.push(et));return X}function hn(b,S,F,P,j,W){return P&&!P[D]&&(P=hn(P)),j&&!j[D]&&(j=hn(j,W)),Se(function(X,et,Y,vt){var ft,pt,xt,st,Ft=[],fe=[],ie=et.length,be=X||Yo(S||"*",Y.nodeType?[Y]:Y,[]),Pe=b&&(X||!S)?fr(be,Ft,b,Y,vt):be;if(F?(st=j||(X?b:ie||P)?[]:et,F(Pe,st,Y,vt)):st=Pe,P)for(ft=fr(st,fe),P(ft,[],Y,vt),pt=ft.length;pt--;)(xt=ft[pt])&&(st[fe[pt]]=!(Pe[fe[pt]]=xt));if(X){if(j||b){if(j){for(ft=[],pt=st.length;pt--;)(xt=st[pt])&&ft.push(Pe[pt]=xt);j(null,st=[],ft,vt)}for(pt=st.length;pt--;)(xt=st[pt])&&(ft=j?p.call(X,xt):Ft[pt])>-1&&(X[ft]=!(et[ft]=xt))}}else st=fr(st===et?st.splice(ie,st.length):st),j?j(null,et,st,vt):d.apply(et,st)})}function fn(b){for(var S,F,P,j=b.length,W=n.relative[b[0].type],X=W||n.relative[" "],et=W?1:0,Y=hr(function(pt){return pt===S},X,!0),vt=hr(function(pt){return p.call(S,pt)>-1},X,!0),ft=[function(pt,xt,st){var Ft=!W&&(st||xt!=o)||((S=xt).nodeType?Y(pt,xt,st):vt(pt,xt,st));return S=null,Ft}];et<j;et++)if(F=n.relative[b[et].type])ft=[hr(ln(ft),F)];else{if(F=n.filter[b[et].type].apply(null,b[et].matches),F[D]){for(P=++et;P<j&&!n.relative[b[P].type];P++);return hn(et>1&&ln(ft),et>1&&lr(b.slice(0,et-1).concat({value:b[et-2].type===" "?"*":""})).replace(Tt,"$1"),F,et<P&&fn(b.slice(et,P)),P<j&&fn(b=b.slice(P)),P<j&&lr(b))}ft.push(F)}return ln(ft)}function Go(b,S){var F=S.length>0,P=b.length>0,j=function(W,X,et,Y,vt){var ft,pt,xt,st=0,Ft="0",fe=W&&[],ie=[],be=o,Pe=W||P&&n.find.TAG("*",vt),xi=O+=be==null?1:Math.random()||.1,se=Pe.length;for(vt&&(o=X==g||X||vt);Ft!==se&&(ft=Pe[Ft])!=null;Ft++){if(P&&ft){for(pt=0,!X&&ft.ownerDocument!=g&&(Ye(ft),et=!v);xt=b[pt++];)if(xt(ft,X||g,et)){d.call(Y,ft);break}vt&&(O=xi)}F&&((ft=!xt&&ft)&&st--,W&&fe.push(ft))}if(st+=Ft,F&&Ft!==st){for(pt=0;xt=S[pt++];)xt(fe,ie,X,et);if(W){if(st>0)for(;Ft--;)fe[Ft]||ie[Ft]||(ie[Ft]=nt.call(Y));ie=fr(ie)}d.apply(Y,ie),vt&&!W&&ie.length>0&&st+S.length>1&&l.uniqueSort(Y)}return vt&&(O=xi,o=be),fe};return F?Se(j):j}function cn(b,S){var F,P=[],j=[],W=yt[b+" "];if(!W){for(S||(S=or(b)),F=S.length;F--;)W=fn(S[F]),W[D]?P.push(W):j.push(W);W=yt(b,Go(j,P)),W.selector=b}return W}function Ss(b,S,F,P){var j,W,X,et,Y,vt=typeof b=="function"&&b,ft=!P&&or(b=vt.selector||b);if(F=F||[],ft.length===1){if(W=ft[0]=ft[0].slice(0),W.length>2&&(X=W[0]).type==="ID"&&S.nodeType===9&&v&&n.relative[W[1].type]){if(S=(n.find.ID(X.matches[0].replace(He,ze),S)||[])[0],S)vt&&(S=S.parentNode);else return F;b=b.slice(W.shift().value.length)}for(j=Oe.needsContext.test(b)?0:W.length;j--&&(X=W[j],!n.relative[et=X.type]);)if((Y=n.find[et])&&(P=Y(X.matches[0].replace(He,ze),an.test(W[0].type)&&on(S.parentNode)||S))){if(W.splice(j,1),b=P.length&&lr(W),!b)return d.apply(F,P),F;break}}return(vt||cn(b,ft))(P,S,!v,F,!S||an.test(b)&&on(S.parentNode)||S),F}x.sortStable=D.split("").sort(Qt).join("")===D,Ye(),x.sortDetached=vi(function(b){return b.compareDocumentPosition(g.createElement("fieldset"))&1}),l.find=Mt,l.expr[":"]=l.expr.pseudos,l.unique=l.uniqueSort,Mt.compile=cn,Mt.select=Ss,Mt.setDocument=Ye,Mt.escape=l.escapeSelector,Mt.getText=l.text,Mt.isXML=l.isXMLDoc,Mt.selectors=l.expr,Mt.support=l.support,Mt.uniqueSort=l.uniqueSort})();var it=function(i,n,o){for(var h=[],u=o!==void 0;(i=i[n])&&i.nodeType!==9;)if(i.nodeType===1){if(u&&l(i).is(o))break;h.push(i)}return h},ct=function(i,n){for(var o=[];i;i=i.nextSibling)i.nodeType===1&&i!==n&&o.push(i);return o},mt=l.expr.match.needsContext,tt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Pt(i,n,o){return k(n)?l.grep(i,function(h,u){return!!n.call(h,u,h)!==o}):n.nodeType?l.grep(i,function(h){return h===n!==o}):typeof n!="string"?l.grep(i,function(h){return p.call(n,h)>-1!==o}):l.filter(n,i,o)}l.filter=function(i,n,o){var h=n[0];return o&&(i=":not("+i+")"),n.length===1&&h.nodeType===1?l.find.matchesSelector(h,i)?[h]:[]:l.find.matches(i,l.grep(n,function(u){return u.nodeType===1}))},l.fn.extend({find:function(i){var n,o,h=this.length,u=this;if(typeof i!="string")return this.pushStack(l(i).filter(function(){for(n=0;n<h;n++)if(l.contains(u[n],this))return!0}));for(o=this.pushStack([]),n=0;n<h;n++)l.find(i,u[n],o);return h>1?l.uniqueSort(o):o},filter:function(i){return this.pushStack(Pt(this,i||[],!1))},not:function(i){return this.pushStack(Pt(this,i||[],!0))},is:function(i){return!!Pt(this,typeof i=="string"&&mt.test(i)?l(i):i||[],!1).length}});var Kt,Ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ot=l.fn.init=function(i,n,o){var h,u;if(!i)return this;if(o=o||Kt,typeof i=="string")if(i[0]==="<"&&i[i.length-1]===">"&&i.length>=3?h=[null,i,null]:h=Ut.exec(i),h&&(h[1]||!n))if(h[1]){if(n=n instanceof l?n[0]:n,l.merge(this,l.parseHTML(h[1],n&&n.nodeType?n.ownerDocument||n:M,!0)),tt.test(h[1])&&l.isPlainObject(n))for(h in n)k(this[h])?this[h](n[h]):this.attr(h,n[h]);return this}else return u=M.getElementById(h[2]),u&&(this[0]=u,this.length=1),this;else return!n||n.jquery?(n||o).find(i):this.constructor(n).find(i);else{if(i.nodeType)return this[0]=i,this.length=1,this;if(k(i))return o.ready!==void 0?o.ready(i):i(l)}return l.makeArray(i,this)};Ot.prototype=l.fn,Kt=l(M);var Et=/^(?:parents|prev(?:Until|All))/,Wt={children:!0,contents:!0,next:!0,prev:!0};l.fn.extend({has:function(i){var n=l(i,this),o=n.length;return this.filter(function(){for(var h=0;h<o;h++)if(l.contains(this,n[h]))return!0})},closest:function(i,n){var o,h=0,u=this.length,d=[],g=typeof i!="string"&&l(i);if(!mt.test(i)){for(;h<u;h++)for(o=this[h];o&&o!==n;o=o.parentNode)if(o.nodeType<11&&(g?g.index(o)>-1:o.nodeType===1&&l.find.matchesSelector(o,i))){d.push(o);break}}return this.pushStack(d.length>1?l.uniqueSort(d):d)},index:function(i){return i?typeof i=="string"?p.call(l(i),this[0]):p.call(this,i.jquery?i[0]:i):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(i,n){return this.pushStack(l.uniqueSort(l.merge(this.get(),l(i,n))))},addBack:function(i){return this.add(i==null?this.prevObject:this.prevObject.filter(i))}});function Lt(i,n){for(;(i=i[n])&&i.nodeType!==1;);return i}l.each({parent:function(i){var n=i.parentNode;return n&&n.nodeType!==11?n:null},parents:function(i){return it(i,"parentNode")},parentsUntil:function(i,n,o){return it(i,"parentNode",o)},next:function(i){return Lt(i,"nextSibling")},prev:function(i){return Lt(i,"previousSibling")},nextAll:function(i){return it(i,"nextSibling")},prevAll:function(i){return it(i,"previousSibling")},nextUntil:function(i,n,o){return it(i,"nextSibling",o)},prevUntil:function(i,n,o){return it(i,"previousSibling",o)},siblings:function(i){return ct((i.parentNode||{}).firstChild,i)},children:function(i){return ct(i.firstChild)},contents:function(i){return i.contentDocument!=null&&s(i.contentDocument)?i.contentDocument:(G(i,"template")&&(i=i.content||i),l.merge([],i.childNodes))}},function(i,n){l.fn[i]=function(o,h){var u=l.map(this,n,o);return i.slice(-5)!=="Until"&&(h=o),h&&typeof h=="string"&&(u=l.filter(h,u)),this.length>1&&(Wt[i]||l.uniqueSort(u),Et.test(i)&&u.reverse()),this.pushStack(u)}});var It=/[^\x20\t\r\n\f]+/g;function lt(i){var n={};return l.each(i.match(It)||[],function(o,h){n[h]=!0}),n}l.Callbacks=function(i){i=typeof i=="string"?lt(i):l.extend({},i);var n,o,h,u,d=[],g=[],w=-1,v=function(){for(u=u||i.once,h=n=!0;g.length;w=-1)for(o=g.shift();++w<d.length;)d[w].apply(o[0],o[1])===!1&&i.stopOnFalse&&(w=d.length,o=!1);i.memory||(o=!1),n=!1,u&&(o?d=[]:d="")},E={add:function(){return d&&(o&&!n&&(w=d.length-1,g.push(o)),function I(D){l.each(D,function(O,U){k(U)?(!i.unique||!E.has(U))&&d.push(U):U&&U.length&&q(U)!=="string"&&I(U)})}(arguments),o&&!n&&v()),this},remove:function(){return l.each(arguments,function(I,D){for(var O;(O=l.inArray(D,d,O))>-1;)d.splice(O,1),O<=w&&w--}),this},has:function(I){return I?l.inArray(I,d)>-1:d.length>0},empty:function(){return d&&(d=[]),this},disable:function(){return u=g=[],d=o="",this},disabled:function(){return!d},lock:function(){return u=g=[],!o&&!n&&(d=o=""),this},locked:function(){return!!u},fireWith:function(I,D){return u||(D=D||[],D=[I,D.slice?D.slice():D],g.push(D),n||v()),this},fire:function(){return E.fireWith(this,arguments),this},fired:function(){return!!h}};return E};function $t(i){return i}function ke(i){throw i}function We(i,n,o,h){var u;try{i&&k(u=i.promise)?u.call(i).done(n).fail(o):i&&k(u=i.then)?u.call(i,n,o):n.apply(void 0,[i].slice(h))}catch(d){o.apply(void 0,[d])}}l.extend({Deferred:function(i){var n=[["notify","progress",l.Callbacks("memory"),l.Callbacks("memory"),2],["resolve","done",l.Callbacks("once memory"),l.Callbacks("once memory"),0,"resolved"],["reject","fail",l.Callbacks("once memory"),l.Callbacks("once memory"),1,"rejected"]],o="pending",h={state:function(){return o},always:function(){return u.done(arguments).fail(arguments),this},catch:function(d){return h.then(null,d)},pipe:function(){var d=arguments;return l.Deferred(function(g){l.each(n,function(w,v){var E=k(d[v[4]])&&d[v[4]];u[v[1]](function(){var I=E&&E.apply(this,arguments);I&&k(I.promise)?I.promise().progress(g.notify).done(g.resolve).fail(g.reject):g[v[0]+"With"](this,E?[I]:arguments)})}),d=null}).promise()},then:function(d,g,w){var v=0;function E(I,D,O,U){return function(){var ut=this,At=arguments,yt=function(){var Qt,Re;if(!(I<v)){if(Qt=O.apply(ut,At),Qt===D.promise())throw new TypeError("Thenable self-resolution");Re=Qt&&(typeof Qt=="object"||typeof Qt=="function")&&Qt.then,k(Re)?U?Re.call(Qt,E(v,D,$t,U),E(v,D,ke,U)):(v++,Re.call(Qt,E(v,D,$t,U),E(v,D,ke,U),E(v,D,$t,D.notifyWith))):(O!==$t&&(ut=void 0,At=[Qt]),(U||D.resolveWith)(ut,At))}},te=U?yt:function(){try{yt()}catch(Qt){l.Deferred.exceptionHook&&l.Deferred.exceptionHook(Qt,te.error),I+1>=v&&(O!==ke&&(ut=void 0,At=[Qt]),D.rejectWith(ut,At))}};I?te():(l.Deferred.getErrorHook?te.error=l.Deferred.getErrorHook():l.Deferred.getStackHook&&(te.error=l.Deferred.getStackHook()),t.setTimeout(te))}}return l.Deferred(function(I){n[0][3].add(E(0,I,k(w)?w:$t,I.notifyWith)),n[1][3].add(E(0,I,k(d)?d:$t)),n[2][3].add(E(0,I,k(g)?g:ke))}).promise()},promise:function(d){return d!=null?l.extend(d,h):h}},u={};return l.each(n,function(d,g){var w=g[2],v=g[5];h[g[1]]=w.add,v&&w.add(function(){o=v},n[3-d][2].disable,n[3-d][3].disable,n[0][2].lock,n[0][3].lock),w.add(g[3].fire),u[g[0]]=function(){return u[g[0]+"With"](this===u?void 0:this,arguments),this},u[g[0]+"With"]=w.fireWith}),h.promise(u),i&&i.call(u,u),u},when:function(i){var n=arguments.length,o=n,h=Array(o),u=a.call(arguments),d=l.Deferred(),g=function(w){return function(v){h[w]=this,u[w]=arguments.length>1?a.call(arguments):v,--n||d.resolveWith(h,u)}};if(n<=1&&(We(i,d.done(g(o)).resolve,d.reject,!n),d.state()==="pending"||k(u[o]&&u[o].then)))return d.then();for(;o--;)We(u[o],g(o),d.reject);return d.promise()}});var ci=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;l.Deferred.exceptionHook=function(i,n){t.console&&t.console.warn&&i&&ci.test(i.name)&&t.console.warn("jQuery.Deferred exception: "+i.message,i.stack,n)},l.readyException=function(i){t.setTimeout(function(){throw i})};var ui=l.Deferred();l.fn.ready=function(i){return ui.then(i).catch(function(n){l.readyException(n)}),this},l.extend({isReady:!1,readyWait:1,ready:function(i){(i===!0?--l.readyWait:l.isReady)||(l.isReady=!0,!(i!==!0&&--l.readyWait>0)&&ui.resolveWith(M,[l]))}}),l.ready.then=ui.then;function di(){M.removeEventListener("DOMContentLoaded",di),t.removeEventListener("load",di),l.ready()}M.readyState==="complete"||M.readyState!=="loading"&&!M.documentElement.doScroll?t.setTimeout(l.ready):(M.addEventListener("DOMContentLoaded",di),t.addEventListener("load",di));var Be=function(i,n,o,h,u,d,g){var w=0,v=i.length,E=o==null;if(q(o)==="object"){u=!0;for(w in o)Be(i,n,w,o[w],!0,d,g)}else if(h!==void 0&&(u=!0,k(h)||(g=!0),E&&(g?(n.call(i,h),n=null):(E=n,n=function(I,D,O){return E.call(l(I),O)})),n))for(;w<v;w++)n(i[w],o,g?h:h.call(i[w],w,n(i[w],o)));return u?i:E?n.call(i):v?n(i[0],o):d},to=/^-ms-/,eo=/-([a-z])/g;function io(i,n){return n.toUpperCase()}function Ee(i){return i.replace(to,"ms-").replace(eo,io)}var Mi=function(i){return i.nodeType===1||i.nodeType===9||!+i.nodeType};function Fi(){this.expando=l.expando+Fi.uid++}Fi.uid=1,Fi.prototype={cache:function(i){var n=i[this.expando];return n||(n={},Mi(i)&&(i.nodeType?i[this.expando]=n:Object.defineProperty(i,this.expando,{value:n,configurable:!0}))),n},set:function(i,n,o){var h,u=this.cache(i);if(typeof n=="string")u[Ee(n)]=o;else for(h in n)u[Ee(h)]=n[h];return u},get:function(i,n){return n===void 0?this.cache(i):i[this.expando]&&i[this.expando][Ee(n)]},access:function(i,n,o){return n===void 0||n&&typeof n=="string"&&o===void 0?this.get(i,n):(this.set(i,n,o),o!==void 0?o:n)},remove:function(i,n){var o,h=i[this.expando];if(h!==void 0){if(n!==void 0)for(Array.isArray(n)?n=n.map(Ee):(n=Ee(n),n=n in h?[n]:n.match(It)||[]),o=n.length;o--;)delete h[n[o]];(n===void 0||l.isEmptyObject(h))&&(i.nodeType?i[this.expando]=void 0:delete i[this.expando])}},hasData:function(i){var n=i[this.expando];return n!==void 0&&!l.isEmptyObject(n)}};var rt=new Fi,oe=new Fi,ro=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,no=/[A-Z]/g;function so(i){return i==="true"?!0:i==="false"?!1:i==="null"?null:i===+i+""?+i:ro.test(i)?JSON.parse(i):i}function $n(i,n,o){var h;if(o===void 0&&i.nodeType===1)if(h="data-"+n.replace(no,"-$&").toLowerCase(),o=i.getAttribute(h),typeof o=="string"){try{o=so(o)}catch{}oe.set(i,n,o)}else o=void 0;return o}l.extend({hasData:function(i){return oe.hasData(i)||rt.hasData(i)},data:function(i,n,o){return oe.access(i,n,o)},removeData:function(i,n){oe.remove(i,n)},_data:function(i,n,o){return rt.access(i,n,o)},_removeData:function(i,n){rt.remove(i,n)}}),l.fn.extend({data:function(i,n){var o,h,u,d=this[0],g=d&&d.attributes;if(i===void 0){if(this.length&&(u=oe.get(d),d.nodeType===1&&!rt.get(d,"hasDataAttrs"))){for(o=g.length;o--;)g[o]&&(h=g[o].name,h.indexOf("data-")===0&&(h=Ee(h.slice(5)),$n(d,h,u[h])));rt.set(d,"hasDataAttrs",!0)}return u}return typeof i=="object"?this.each(function(){oe.set(this,i)}):Be(this,function(w){var v;if(d&&w===void 0)return v=oe.get(d,i),v!==void 0||(v=$n(d,i),v!==void 0)?v:void 0;this.each(function(){oe.set(this,i,w)})},null,n,arguments.length>1,null,!0)},removeData:function(i){return this.each(function(){oe.remove(this,i)})}}),l.extend({queue:function(i,n,o){var h;if(i)return n=(n||"fx")+"queue",h=rt.get(i,n),o&&(!h||Array.isArray(o)?h=rt.access(i,n,l.makeArray(o)):h.push(o)),h||[]},dequeue:function(i,n){n=n||"fx";var o=l.queue(i,n),h=o.length,u=o.shift(),d=l._queueHooks(i,n),g=function(){l.dequeue(i,n)};u==="inprogress"&&(u=o.shift(),h--),u&&(n==="fx"&&o.unshift("inprogress"),delete d.stop,u.call(i,g,d)),!h&&d&&d.empty.fire()},_queueHooks:function(i,n){var o=n+"queueHooks";return rt.get(i,o)||rt.access(i,o,{empty:l.Callbacks("once memory").add(function(){rt.remove(i,[n+"queue",o])})})}}),l.fn.extend({queue:function(i,n){var o=2;return typeof i!="string"&&(n=i,i="fx",o--),arguments.length<o?l.queue(this[0],i):n===void 0?this:this.each(function(){var h=l.queue(this,i,n);l._queueHooks(this,i),i==="fx"&&h[0]!=="inprogress"&&l.dequeue(this,i)})},dequeue:function(i){return this.each(function(){l.dequeue(this,i)})},clearQueue:function(i){return this.queue(i||"fx",[])},promise:function(i,n){var o,h=1,u=l.Deferred(),d=this,g=this.length,w=function(){--h||u.resolveWith(d,[d])};for(typeof i!="string"&&(n=i,i=void 0),i=i||"fx";g--;)o=rt.get(d[g],i+"queueHooks"),o&&o.empty&&(h++,o.empty.add(w));return w(),u.promise(n)}});var Xn=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Oi=new RegExp("^(?:([+-])=|)("+Xn+")([a-z%]*)$","i"),qe=["Top","Right","Bottom","Left"],ti=M.documentElement,pi=function(i){return l.contains(i.ownerDocument,i)},ao={composed:!0};ti.getRootNode&&(pi=function(i){return l.contains(i.ownerDocument,i)||i.getRootNode(ao)===i.ownerDocument});var er=function(i,n){return i=n||i,i.style.display==="none"||i.style.display===""&&pi(i)&&l.css(i,"display")==="none"};function Yn(i,n,o,h){var u,d,g=20,w=h?function(){return h.cur()}:function(){return l.css(i,n,"")},v=w(),E=o&&o[3]||(l.cssNumber[n]?"":"px"),I=i.nodeType&&(l.cssNumber[n]||E!=="px"&&+v)&&Oi.exec(l.css(i,n));if(I&&I[3]!==E){for(v=v/2,E=E||I[3],I=+v||1;g--;)l.style(i,n,I+E),(1-d)*(1-(d=w()/v||.5))<=0&&(g=0),I=I/d;I=I*2,l.style(i,n,I+E),o=o||[]}return o&&(I=+I||+v||0,u=o[1]?I+(o[1]+1)*o[2]:+o[2],h&&(h.unit=E,h.start=I,h.end=u)),u}var Gn={};function oo(i){var n,o=i.ownerDocument,h=i.nodeName,u=Gn[h];return u||(n=o.body.appendChild(o.createElement(h)),u=l.css(n,"display"),n.parentNode.removeChild(n),u==="none"&&(u="block"),Gn[h]=u,u)}function gi(i,n){for(var o,h,u=[],d=0,g=i.length;d<g;d++)h=i[d],h.style&&(o=h.style.display,n?(o==="none"&&(u[d]=rt.get(h,"display")||null,u[d]||(h.style.display="")),h.style.display===""&&er(h)&&(u[d]=oo(h))):o!=="none"&&(u[d]="none",rt.set(h,"display",o)));for(d=0;d<g;d++)u[d]!=null&&(i[d].style.display=u[d]);return i}l.fn.extend({show:function(){return gi(this,!0)},hide:function(){return gi(this)},toggle:function(i){return typeof i=="boolean"?i?this.show():this.hide():this.each(function(){er(this)?l(this).show():l(this).hide()})}});var Pi=/^(?:checkbox|radio)$/i,Kn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Qn=/^$|^module$|\/(?:java|ecma)script/i;(function(){var i=M.createDocumentFragment(),n=i.appendChild(M.createElement("div")),o=M.createElement("input");o.setAttribute("type","radio"),o.setAttribute("checked","checked"),o.setAttribute("name","t"),n.appendChild(o),x.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,n.innerHTML="<textarea>x</textarea>",x.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue,n.innerHTML="<option></option>",x.option=!!n.lastChild})();var me={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td,x.option||(me.optgroup=me.option=[1,"<select multiple='multiple'>","</select>"]);function le(i,n){var o;return typeof i.getElementsByTagName<"u"?o=i.getElementsByTagName(n||"*"):typeof i.querySelectorAll<"u"?o=i.querySelectorAll(n||"*"):o=[],n===void 0||n&&G(i,n)?l.merge([i],o):o}function Vr(i,n){for(var o=0,h=i.length;o<h;o++)rt.set(i[o],"globalEval",!n||rt.get(n[o],"globalEval"))}var lo=/<|&#?\w+;/;function Jn(i,n,o,h,u){for(var d,g,w,v,E,I,D=n.createDocumentFragment(),O=[],U=0,ut=i.length;U<ut;U++)if(d=i[U],d||d===0)if(q(d)==="object")l.merge(O,d.nodeType?[d]:d);else if(!lo.test(d))O.push(n.createTextNode(d));else{for(g=g||D.appendChild(n.createElement("div")),w=(Kn.exec(d)||["",""])[1].toLowerCase(),v=me[w]||me._default,g.innerHTML=v[1]+l.htmlPrefilter(d)+v[2],I=v[0];I--;)g=g.lastChild;l.merge(O,g.childNodes),g=D.firstChild,g.textContent=""}for(D.textContent="",U=0;d=O[U++];){if(h&&l.inArray(d,h)>-1){u&&u.push(d);continue}if(E=pi(d),g=le(D.appendChild(d),"script"),E&&Vr(g),o)for(I=0;d=g[I++];)Qn.test(d.type||"")&&o.push(d)}return D}var Zn=/^([^.]*)(?:\.(.+)|)/;function _i(){return!0}function mi(){return!1}function Wr(i,n,o,h,u,d){var g,w;if(typeof n=="object"){typeof o!="string"&&(h=h||o,o=void 0);for(w in n)Wr(i,w,o,h,n[w],d);return i}if(h==null&&u==null?(u=o,h=o=void 0):u==null&&(typeof o=="string"?(u=h,h=void 0):(u=h,h=o,o=void 0)),u===!1)u=mi;else if(!u)return i;return d===1&&(g=u,u=function(v){return l().off(v),g.apply(this,arguments)},u.guid=g.guid||(g.guid=l.guid++)),i.each(function(){l.event.add(this,n,u,h,o)})}l.event={global:{},add:function(i,n,o,h,u){var d,g,w,v,E,I,D,O,U,ut,At,yt=rt.get(i);if(!!Mi(i))for(o.handler&&(d=o,o=d.handler,u=d.selector),u&&l.find.matchesSelector(ti,u),o.guid||(o.guid=l.guid++),(v=yt.events)||(v=yt.events=Object.create(null)),(g=yt.handle)||(g=yt.handle=function(te){return typeof l<"u"&&l.event.triggered!==te.type?l.event.dispatch.apply(i,arguments):void 0}),n=(n||"").match(It)||[""],E=n.length;E--;)w=Zn.exec(n[E])||[],U=At=w[1],ut=(w[2]||"").split(".").sort(),U&&(D=l.event.special[U]||{},U=(u?D.delegateType:D.bindType)||U,D=l.event.special[U]||{},I=l.extend({type:U,origType:At,data:h,handler:o,guid:o.guid,selector:u,needsContext:u&&l.expr.match.needsContext.test(u),namespace:ut.join(".")},d),(O=v[U])||(O=v[U]=[],O.delegateCount=0,(!D.setup||D.setup.call(i,h,ut,g)===!1)&&i.addEventListener&&i.addEventListener(U,g)),D.add&&(D.add.call(i,I),I.handler.guid||(I.handler.guid=o.guid)),u?O.splice(O.delegateCount++,0,I):O.push(I),l.event.global[U]=!0)},remove:function(i,n,o,h,u){var d,g,w,v,E,I,D,O,U,ut,At,yt=rt.hasData(i)&&rt.get(i);if(!(!yt||!(v=yt.events))){for(n=(n||"").match(It)||[""],E=n.length;E--;){if(w=Zn.exec(n[E])||[],U=At=w[1],ut=(w[2]||"").split(".").sort(),!U){for(U in v)l.event.remove(i,U+n[E],o,h,!0);continue}for(D=l.event.special[U]||{},U=(h?D.delegateType:D.bindType)||U,O=v[U]||[],w=w[2]&&new RegExp("(^|\\.)"+ut.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=d=O.length;d--;)I=O[d],(u||At===I.origType)&&(!o||o.guid===I.guid)&&(!w||w.test(I.namespace))&&(!h||h===I.selector||h==="**"&&I.selector)&&(O.splice(d,1),I.selector&&O.delegateCount--,D.remove&&D.remove.call(i,I));g&&!O.length&&((!D.teardown||D.teardown.call(i,ut,yt.handle)===!1)&&l.removeEvent(i,U,yt.handle),delete v[U])}l.isEmptyObject(v)&&rt.remove(i,"handle events")}},dispatch:function(i){var n,o,h,u,d,g,w=new Array(arguments.length),v=l.event.fix(i),E=(rt.get(this,"events")||Object.create(null))[v.type]||[],I=l.event.special[v.type]||{};for(w[0]=v,n=1;n<arguments.length;n++)w[n]=arguments[n];if(v.delegateTarget=this,!(I.preDispatch&&I.preDispatch.call(this,v)===!1)){for(g=l.event.handlers.call(this,v,E),n=0;(u=g[n++])&&!v.isPropagationStopped();)for(v.currentTarget=u.elem,o=0;(d=u.handlers[o++])&&!v.isImmediatePropagationStopped();)(!v.rnamespace||d.namespace===!1||v.rnamespace.test(d.namespace))&&(v.handleObj=d,v.data=d.data,h=((l.event.special[d.origType]||{}).handle||d.handler).apply(u.elem,w),h!==void 0&&(v.result=h)===!1&&(v.preventDefault(),v.stopPropagation()));return I.postDispatch&&I.postDispatch.call(this,v),v.result}},handlers:function(i,n){var o,h,u,d,g,w=[],v=n.delegateCount,E=i.target;if(v&&E.nodeType&&!(i.type==="click"&&i.button>=1)){for(;E!==this;E=E.parentNode||this)if(E.nodeType===1&&!(i.type==="click"&&E.disabled===!0)){for(d=[],g={},o=0;o<v;o++)h=n[o],u=h.selector+" ",g[u]===void 0&&(g[u]=h.needsContext?l(u,this).index(E)>-1:l.find(u,this,null,[E]).length),g[u]&&d.push(h);d.length&&w.push({elem:E,handlers:d})}}return E=this,v<n.length&&w.push({elem:E,handlers:n.slice(v)}),w},addProp:function(i,n){Object.defineProperty(l.Event.prototype,i,{enumerable:!0,configurable:!0,get:k(n)?function(){if(this.originalEvent)return n(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[i]},set:function(o){Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:o})}})},fix:function(i){return i[l.expando]?i:new l.Event(i)},special:{load:{noBubble:!0},click:{setup:function(i){var n=this||i;return Pi.test(n.type)&&n.click&&G(n,"input")&&ir(n,"click",!0),!1},trigger:function(i){var n=this||i;return Pi.test(n.type)&&n.click&&G(n,"input")&&ir(n,"click"),!0},_default:function(i){var n=i.target;return Pi.test(n.type)&&n.click&&G(n,"input")&&rt.get(n,"click")||G(n,"a")}},beforeunload:{postDispatch:function(i){i.result!==void 0&&i.originalEvent&&(i.originalEvent.returnValue=i.result)}}}};function ir(i,n,o){if(!o){rt.get(i,n)===void 0&&l.event.add(i,n,_i);return}rt.set(i,n,!1),l.event.add(i,n,{namespace:!1,handler:function(h){var u,d=rt.get(this,n);if(h.isTrigger&1&&this[n]){if(d)(l.event.special[n]||{}).delegateType&&h.stopPropagation();else if(d=a.call(arguments),rt.set(this,n,d),this[n](),u=rt.get(this,n),rt.set(this,n,!1),d!==u)return h.stopImmediatePropagation(),h.preventDefault(),u}else d&&(rt.set(this,n,l.event.trigger(d[0],d.slice(1),this)),h.stopPropagation(),h.isImmediatePropagationStopped=_i)}})}l.removeEvent=function(i,n,o){i.removeEventListener&&i.removeEventListener(n,o)},l.Event=function(i,n){if(!(this instanceof l.Event))return new l.Event(i,n);i&&i.type?(this.originalEvent=i,this.type=i.type,this.isDefaultPrevented=i.defaultPrevented||i.defaultPrevented===void 0&&i.returnValue===!1?_i:mi,this.target=i.target&&i.target.nodeType===3?i.target.parentNode:i.target,this.currentTarget=i.currentTarget,this.relatedTarget=i.relatedTarget):this.type=i,n&&l.extend(this,n),this.timeStamp=i&&i.timeStamp||Date.now(),this[l.expando]=!0},l.Event.prototype={constructor:l.Event,isDefaultPrevented:mi,isPropagationStopped:mi,isImmediatePropagationStopped:mi,isSimulated:!1,preventDefault:function(){var i=this.originalEvent;this.isDefaultPrevented=_i,i&&!this.isSimulated&&i.preventDefault()},stopPropagation:function(){var i=this.originalEvent;this.isPropagationStopped=_i,i&&!this.isSimulated&&i.stopPropagation()},stopImmediatePropagation:function(){var i=this.originalEvent;this.isImmediatePropagationStopped=_i,i&&!this.isSimulated&&i.stopImmediatePropagation(),this.stopPropagation()}},l.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},l.event.addProp),l.each({focus:"focusin",blur:"focusout"},function(i,n){function o(h){if(M.documentMode){var u=rt.get(this,"handle"),d=l.event.fix(h);d.type=h.type==="focusin"?"focus":"blur",d.isSimulated=!0,u(h),d.target===d.currentTarget&&u(d)}else l.event.simulate(n,h.target,l.event.fix(h))}l.event.special[i]={setup:function(){var h;if(ir(this,i,!0),M.documentMode)h=rt.get(this,n),h||this.addEventListener(n,o),rt.set(this,n,(h||0)+1);else return!1},trigger:function(){return ir(this,i),!0},teardown:function(){var h;if(M.documentMode)h=rt.get(this,n)-1,h?rt.set(this,n,h):(this.removeEventListener(n,o),rt.remove(this,n));else return!1},_default:function(h){return rt.get(h.target,i)},delegateType:n},l.event.special[n]={setup:function(){var h=this.ownerDocument||this.document||this,u=M.documentMode?this:h,d=rt.get(u,n);d||(M.documentMode?this.addEventListener(n,o):h.addEventListener(i,o,!0)),rt.set(u,n,(d||0)+1)},teardown:function(){var h=this.ownerDocument||this.document||this,u=M.documentMode?this:h,d=rt.get(u,n)-1;d?rt.set(u,n,d):(M.documentMode?this.removeEventListener(n,o):h.removeEventListener(i,o,!0),rt.remove(u,n))}}}),l.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(i,n){l.event.special[i]={delegateType:n,bindType:n,handle:function(o){var h,u=this,d=o.relatedTarget,g=o.handleObj;return(!d||d!==u&&!l.contains(u,d))&&(o.type=g.origType,h=g.handler.apply(this,arguments),o.type=n),h}}}),l.fn.extend({on:function(i,n,o,h){return Wr(this,i,n,o,h)},one:function(i,n,o,h){return Wr(this,i,n,o,h,1)},off:function(i,n,o){var h,u;if(i&&i.preventDefault&&i.handleObj)return h=i.handleObj,l(i.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if(typeof i=="object"){for(u in i)this.off(u,n,i[u]);return this}return(n===!1||typeof n=="function")&&(o=n,n=void 0),o===!1&&(o=mi),this.each(function(){l.event.remove(this,i,o,n)})}});var ho=/<script|<style|<link/i,fo=/checked\s*(?:[^=]|=\s*.checked.)/i,co=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ts(i,n){return G(i,"table")&&G(n.nodeType!==11?n:n.firstChild,"tr")&&l(i).children("tbody")[0]||i}function uo(i){return i.type=(i.getAttribute("type")!==null)+"/"+i.type,i}function po(i){return(i.type||"").slice(0,5)==="true/"?i.type=i.type.slice(5):i.removeAttribute("type"),i}function es(i,n){var o,h,u,d,g,w,v;if(n.nodeType===1){if(rt.hasData(i)&&(d=rt.get(i),v=d.events,v)){rt.remove(n,"handle events");for(u in v)for(o=0,h=v[u].length;o<h;o++)l.event.add(n,u,v[u][o])}oe.hasData(i)&&(g=oe.access(i),w=l.extend({},g),oe.set(n,w))}}function go(i,n){var o=n.nodeName.toLowerCase();o==="input"&&Pi.test(i.type)?n.checked=i.checked:(o==="input"||o==="textarea")&&(n.defaultValue=i.defaultValue)}function yi(i,n,o,h){n=c(n);var u,d,g,w,v,E,I=0,D=i.length,O=D-1,U=n[0],ut=k(U);if(ut||D>1&&typeof U=="string"&&!x.checkClone&&fo.test(U))return i.each(function(At){var yt=i.eq(At);ut&&(n[0]=U.call(this,At,yt.html())),yi(yt,n,o,h)});if(D&&(u=Jn(n,i[0].ownerDocument,!1,i,h),d=u.firstChild,u.childNodes.length===1&&(u=d),d||h)){for(g=l.map(le(u,"script"),uo),w=g.length;I<D;I++)v=u,I!==O&&(v=l.clone(v,!0,!0),w&&l.merge(g,le(v,"script"))),o.call(i[I],v,I);if(w)for(E=g[g.length-1].ownerDocument,l.map(g,po),I=0;I<w;I++)v=g[I],Qn.test(v.type||"")&&!rt.access(v,"globalEval")&&l.contains(E,v)&&(v.src&&(v.type||"").toLowerCase()!=="module"?l._evalUrl&&!v.noModule&&l._evalUrl(v.src,{nonce:v.nonce||v.getAttribute("nonce")},E):L(v.textContent.replace(co,""),v,E))}return i}function is(i,n,o){for(var h,u=n?l.filter(n,i):i,d=0;(h=u[d])!=null;d++)!o&&h.nodeType===1&&l.cleanData(le(h)),h.parentNode&&(o&&pi(h)&&Vr(le(h,"script")),h.parentNode.removeChild(h));return i}l.extend({htmlPrefilter:function(i){return i},clone:function(i,n,o){var h,u,d,g,w=i.cloneNode(!0),v=pi(i);if(!x.noCloneChecked&&(i.nodeType===1||i.nodeType===11)&&!l.isXMLDoc(i))for(g=le(w),d=le(i),h=0,u=d.length;h<u;h++)go(d[h],g[h]);if(n)if(o)for(d=d||le(i),g=g||le(w),h=0,u=d.length;h<u;h++)es(d[h],g[h]);else es(i,w);return g=le(w,"script"),g.length>0&&Vr(g,!v&&le(i,"script")),w},cleanData:function(i){for(var n,o,h,u=l.event.special,d=0;(o=i[d])!==void 0;d++)if(Mi(o)){if(n=o[rt.expando]){if(n.events)for(h in n.events)u[h]?l.event.remove(o,h):l.removeEvent(o,h,n.handle);o[rt.expando]=void 0}o[oe.expando]&&(o[oe.expando]=void 0)}}}),l.fn.extend({detach:function(i){return is(this,i,!0)},remove:function(i){return is(this,i)},text:function(i){return Be(this,function(n){return n===void 0?l.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=n)})},null,i,arguments.length)},append:function(){return yi(this,arguments,function(i){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var n=ts(this,i);n.appendChild(i)}})},prepend:function(){return yi(this,arguments,function(i){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var n=ts(this,i);n.insertBefore(i,n.firstChild)}})},before:function(){return yi(this,arguments,function(i){this.parentNode&&this.parentNode.insertBefore(i,this)})},after:function(){return yi(this,arguments,function(i){this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling)})},empty:function(){for(var i,n=0;(i=this[n])!=null;n++)i.nodeType===1&&(l.cleanData(le(i,!1)),i.textContent="");return this},clone:function(i,n){return i=i??!1,n=n??i,this.map(function(){return l.clone(this,i,n)})},html:function(i){return Be(this,function(n){var o=this[0]||{},h=0,u=this.length;if(n===void 0&&o.nodeType===1)return o.innerHTML;if(typeof n=="string"&&!ho.test(n)&&!me[(Kn.exec(n)||["",""])[1].toLowerCase()]){n=l.htmlPrefilter(n);try{for(;h<u;h++)o=this[h]||{},o.nodeType===1&&(l.cleanData(le(o,!1)),o.innerHTML=n);o=0}catch{}}o&&this.empty().append(n)},null,i,arguments.length)},replaceWith:function(){var i=[];return yi(this,arguments,function(n){var o=this.parentNode;l.inArray(this,i)<0&&(l.cleanData(le(this)),o&&o.replaceChild(n,this))},i)}}),l.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(i,n){l.fn[i]=function(o){for(var h,u=[],d=l(o),g=d.length-1,w=0;w<=g;w++)h=w===g?this:this.clone(!0),l(d[w])[n](h),f.apply(u,h.get());return this.pushStack(u)}});var $r=new RegExp("^("+Xn+")(?!px)[a-z%]+$","i"),Xr=/^--/,rr=function(i){var n=i.ownerDocument.defaultView;return(!n||!n.opener)&&(n=t),n.getComputedStyle(i)},rs=function(i,n,o){var h,u,d={};for(u in n)d[u]=i.style[u],i.style[u]=n[u];h=o.call(i);for(u in n)i.style[u]=d[u];return h},_o=new RegExp(qe.join("|"),"i");(function(){function i(){if(!!E){v.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",E.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ti.appendChild(v).appendChild(E);var I=t.getComputedStyle(E);o=I.top!=="1%",w=n(I.marginLeft)===12,E.style.right="60%",d=n(I.right)===36,h=n(I.width)===36,E.style.position="absolute",u=n(E.offsetWidth/3)===12,ti.removeChild(v),E=null}}function n(I){return Math.round(parseFloat(I))}var o,h,u,d,g,w,v=M.createElement("div"),E=M.createElement("div");!E.style||(E.style.backgroundClip="content-box",E.cloneNode(!0).style.backgroundClip="",x.clearCloneStyle=E.style.backgroundClip==="content-box",l.extend(x,{boxSizingReliable:function(){return i(),h},pixelBoxStyles:function(){return i(),d},pixelPosition:function(){return i(),o},reliableMarginLeft:function(){return i(),w},scrollboxSize:function(){return i(),u},reliableTrDimensions:function(){var I,D,O,U;return g==null&&(I=M.createElement("table"),D=M.createElement("tr"),O=M.createElement("div"),I.style.cssText="position:absolute;left:-11111px;border-collapse:separate",D.style.cssText="border:1px solid",D.style.height="1px",O.style.height="9px",O.style.display="block",ti.appendChild(I).appendChild(D).appendChild(O),U=t.getComputedStyle(D),g=parseInt(U.height,10)+parseInt(U.borderTopWidth,10)+parseInt(U.borderBottomWidth,10)===D.offsetHeight,ti.removeChild(I)),g}}))})();function Li(i,n,o){var h,u,d,g,w=Xr.test(n),v=i.style;return o=o||rr(i),o&&(g=o.getPropertyValue(n)||o[n],w&&g&&(g=g.replace(Tt,"$1")||void 0),g===""&&!pi(i)&&(g=l.style(i,n)),!x.pixelBoxStyles()&&$r.test(g)&&_o.test(n)&&(h=v.width,u=v.minWidth,d=v.maxWidth,v.minWidth=v.maxWidth=v.width=g,g=o.width,v.width=h,v.minWidth=u,v.maxWidth=d)),g!==void 0?g+"":g}function ns(i,n){return{get:function(){if(i()){delete this.get;return}return(this.get=n).apply(this,arguments)}}}var ss=["Webkit","Moz","ms"],as=M.createElement("div").style,os={};function mo(i){for(var n=i[0].toUpperCase()+i.slice(1),o=ss.length;o--;)if(i=ss[o]+n,i in as)return i}function Yr(i){var n=l.cssProps[i]||os[i];return n||(i in as?i:os[i]=mo(i)||i)}var yo=/^(none|table(?!-c[ea]).+)/,bo={position:"absolute",visibility:"hidden",display:"block"},ls={letterSpacing:"0",fontWeight:"400"};function hs(i,n,o){var h=Oi.exec(n);return h?Math.max(0,h[2]-(o||0))+(h[3]||"px"):n}function Gr(i,n,o,h,u,d){var g=n==="width"?1:0,w=0,v=0,E=0;if(o===(h?"border":"content"))return 0;for(;g<4;g+=2)o==="margin"&&(E+=l.css(i,o+qe[g],!0,u)),h?(o==="content"&&(v-=l.css(i,"padding"+qe[g],!0,u)),o!=="margin"&&(v-=l.css(i,"border"+qe[g]+"Width",!0,u))):(v+=l.css(i,"padding"+qe[g],!0,u),o!=="padding"?v+=l.css(i,"border"+qe[g]+"Width",!0,u):w+=l.css(i,"border"+qe[g]+"Width",!0,u));return!h&&d>=0&&(v+=Math.max(0,Math.ceil(i["offset"+n[0].toUpperCase()+n.slice(1)]-d-v-w-.5))||0),v+E}function fs(i,n,o){var h=rr(i),u=!x.boxSizingReliable()||o,d=u&&l.css(i,"boxSizing",!1,h)==="border-box",g=d,w=Li(i,n,h),v="offset"+n[0].toUpperCase()+n.slice(1);if($r.test(w)){if(!o)return w;w="auto"}return(!x.boxSizingReliable()&&d||!x.reliableTrDimensions()&&G(i,"tr")||w==="auto"||!parseFloat(w)&&l.css(i,"display",!1,h)==="inline")&&i.getClientRects().length&&(d=l.css(i,"boxSizing",!1,h)==="border-box",g=v in i,g&&(w=i[v])),w=parseFloat(w)||0,w+Gr(i,n,o||(d?"border":"content"),g,h,w)+"px"}l.extend({cssHooks:{opacity:{get:function(i,n){if(n){var o=Li(i,"opacity");return o===""?"1":o}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(i,n,o,h){if(!(!i||i.nodeType===3||i.nodeType===8||!i.style)){var u,d,g,w=Ee(n),v=Xr.test(n),E=i.style;if(v||(n=Yr(w)),g=l.cssHooks[n]||l.cssHooks[w],o!==void 0){if(d=typeof o,d==="string"&&(u=Oi.exec(o))&&u[1]&&(o=Yn(i,n,u),d="number"),o==null||o!==o)return;d==="number"&&!v&&(o+=u&&u[3]||(l.cssNumber[w]?"":"px")),!x.clearCloneStyle&&o===""&&n.indexOf("background")===0&&(E[n]="inherit"),(!g||!("set"in g)||(o=g.set(i,o,h))!==void 0)&&(v?E.setProperty(n,o):E[n]=o)}else return g&&"get"in g&&(u=g.get(i,!1,h))!==void 0?u:E[n]}},css:function(i,n,o,h){var u,d,g,w=Ee(n),v=Xr.test(n);return v||(n=Yr(w)),g=l.cssHooks[n]||l.cssHooks[w],g&&"get"in g&&(u=g.get(i,!0,o)),u===void 0&&(u=Li(i,n,h)),u==="normal"&&n in ls&&(u=ls[n]),o===""||o?(d=parseFloat(u),o===!0||isFinite(d)?d||0:u):u}}),l.each(["height","width"],function(i,n){l.cssHooks[n]={get:function(o,h,u){if(h)return yo.test(l.css(o,"display"))&&(!o.getClientRects().length||!o.getBoundingClientRect().width)?rs(o,bo,function(){return fs(o,n,u)}):fs(o,n,u)},set:function(o,h,u){var d,g=rr(o),w=!x.scrollboxSize()&&g.position==="absolute",v=w||u,E=v&&l.css(o,"boxSizing",!1,g)==="border-box",I=u?Gr(o,n,u,E,g):0;return E&&w&&(I-=Math.ceil(o["offset"+n[0].toUpperCase()+n.slice(1)]-parseFloat(g[n])-Gr(o,n,"border",!1,g)-.5)),I&&(d=Oi.exec(h))&&(d[3]||"px")!=="px"&&(o.style[n]=h,h=l.css(o,n)),hs(o,h,I)}}}),l.cssHooks.marginLeft=ns(x.reliableMarginLeft,function(i,n){if(n)return(parseFloat(Li(i,"marginLeft"))||i.getBoundingClientRect().left-rs(i,{marginLeft:0},function(){return i.getBoundingClientRect().left}))+"px"}),l.each({margin:"",padding:"",border:"Width"},function(i,n){l.cssHooks[i+n]={expand:function(o){for(var h=0,u={},d=typeof o=="string"?o.split(" "):[o];h<4;h++)u[i+qe[h]+n]=d[h]||d[h-2]||d[0];return u}},i!=="margin"&&(l.cssHooks[i+n].set=hs)}),l.fn.extend({css:function(i,n){return Be(this,function(o,h,u){var d,g,w={},v=0;if(Array.isArray(h)){for(d=rr(o),g=h.length;v<g;v++)w[h[v]]=l.css(o,h[v],!1,d);return w}return u!==void 0?l.style(o,h,u):l.css(o,h)},i,n,arguments.length>1)}});function he(i,n,o,h,u){return new he.prototype.init(i,n,o,h,u)}l.Tween=he,he.prototype={constructor:he,init:function(i,n,o,h,u,d){this.elem=i,this.prop=o,this.easing=u||l.easing._default,this.options=n,this.start=this.now=this.cur(),this.end=h,this.unit=d||(l.cssNumber[o]?"":"px")},cur:function(){var i=he.propHooks[this.prop];return i&&i.get?i.get(this):he.propHooks._default.get(this)},run:function(i){var n,o=he.propHooks[this.prop];return this.options.duration?this.pos=n=l.easing[this.easing](i,this.options.duration*i,0,1,this.options.duration):this.pos=n=i,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):he.propHooks._default.set(this),this}},he.prototype.init.prototype=he.prototype,he.propHooks={_default:{get:function(i){var n;return i.elem.nodeType!==1||i.elem[i.prop]!=null&&i.elem.style[i.prop]==null?i.elem[i.prop]:(n=l.css(i.elem,i.prop,""),!n||n==="auto"?0:n)},set:function(i){l.fx.step[i.prop]?l.fx.step[i.prop](i):i.elem.nodeType===1&&(l.cssHooks[i.prop]||i.elem.style[Yr(i.prop)]!=null)?l.style(i.elem,i.prop,i.now+i.unit):i.elem[i.prop]=i.now}}},he.propHooks.scrollTop=he.propHooks.scrollLeft={set:function(i){i.elem.nodeType&&i.elem.parentNode&&(i.elem[i.prop]=i.now)}},l.easing={linear:function(i){return i},swing:function(i){return .5-Math.cos(i*Math.PI)/2},_default:"swing"},l.fx=he.prototype.init,l.fx.step={};var bi,nr,vo=/^(?:toggle|show|hide)$/,xo=/queueHooks$/;function Kr(){nr&&(M.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Kr):t.setTimeout(Kr,l.fx.interval),l.fx.tick())}function cs(){return t.setTimeout(function(){bi=void 0}),bi=Date.now()}function sr(i,n){var o,h=0,u={height:i};for(n=n?1:0;h<4;h+=2-n)o=qe[h],u["margin"+o]=u["padding"+o]=i;return n&&(u.opacity=u.width=i),u}function us(i,n,o){for(var h,u=(Te.tweeners[n]||[]).concat(Te.tweeners["*"]),d=0,g=u.length;d<g;d++)if(h=u[d].call(o,n,i))return h}function wo(i,n,o){var h,u,d,g,w,v,E,I,D="width"in n||"height"in n,O=this,U={},ut=i.style,At=i.nodeType&&er(i),yt=rt.get(i,"fxshow");o.queue||(g=l._queueHooks(i,"fx"),g.unqueued==null&&(g.unqueued=0,w=g.empty.fire,g.empty.fire=function(){g.unqueued||w()}),g.unqueued++,O.always(function(){O.always(function(){g.unqueued--,l.queue(i,"fx").length||g.empty.fire()})}));for(h in n)if(u=n[h],vo.test(u)){if(delete n[h],d=d||u==="toggle",u===(At?"hide":"show"))if(u==="show"&&yt&&yt[h]!==void 0)At=!0;else continue;U[h]=yt&&yt[h]||l.style(i,h)}if(v=!l.isEmptyObject(n),!(!v&&l.isEmptyObject(U))){D&&i.nodeType===1&&(o.overflow=[ut.overflow,ut.overflowX,ut.overflowY],E=yt&&yt.display,E==null&&(E=rt.get(i,"display")),I=l.css(i,"display"),I==="none"&&(E?I=E:(gi([i],!0),E=i.style.display||E,I=l.css(i,"display"),gi([i]))),(I==="inline"||I==="inline-block"&&E!=null)&&l.css(i,"float")==="none"&&(v||(O.done(function(){ut.display=E}),E==null&&(I=ut.display,E=I==="none"?"":I)),ut.display="inline-block")),o.overflow&&(ut.overflow="hidden",O.always(function(){ut.overflow=o.overflow[0],ut.overflowX=o.overflow[1],ut.overflowY=o.overflow[2]})),v=!1;for(h in U)v||(yt?"hidden"in yt&&(At=yt.hidden):yt=rt.access(i,"fxshow",{display:E}),d&&(yt.hidden=!At),At&&gi([i],!0),O.done(function(){At||gi([i]),rt.remove(i,"fxshow");for(h in U)l.style(i,h,U[h])})),v=us(At?yt[h]:0,h,O),h in yt||(yt[h]=v.start,At&&(v.end=v.start,v.start=0))}}function ko(i,n){var o,h,u,d,g;for(o in i)if(h=Ee(o),u=n[h],d=i[o],Array.isArray(d)&&(u=d[1],d=i[o]=d[0]),o!==h&&(i[h]=d,delete i[o]),g=l.cssHooks[h],g&&"expand"in g){d=g.expand(d),delete i[h];for(o in d)o in i||(i[o]=d[o],n[o]=u)}else n[h]=u}function Te(i,n,o){var h,u,d=0,g=Te.prefilters.length,w=l.Deferred().always(function(){delete v.elem}),v=function(){if(u)return!1;for(var D=bi||cs(),O=Math.max(0,E.startTime+E.duration-D),U=O/E.duration||0,ut=1-U,At=0,yt=E.tweens.length;At<yt;At++)E.tweens[At].run(ut);return w.notifyWith(i,[E,ut,O]),ut<1&&yt?O:(yt||w.notifyWith(i,[E,1,0]),w.resolveWith(i,[E]),!1)},E=w.promise({elem:i,props:l.extend({},n),opts:l.extend(!0,{specialEasing:{},easing:l.easing._default},o),originalProperties:n,originalOptions:o,startTime:bi||cs(),duration:o.duration,tweens:[],createTween:function(D,O){var U=l.Tween(i,E.opts,D,O,E.opts.specialEasing[D]||E.opts.easing);return E.tweens.push(U),U},stop:function(D){var O=0,U=D?E.tweens.length:0;if(u)return this;for(u=!0;O<U;O++)E.tweens[O].run(1);return D?(w.notifyWith(i,[E,1,0]),w.resolveWith(i,[E,D])):w.rejectWith(i,[E,D]),this}}),I=E.props;for(ko(I,E.opts.specialEasing);d<g;d++)if(h=Te.prefilters[d].call(E,i,I,E.opts),h)return k(h.stop)&&(l._queueHooks(E.elem,E.opts.queue).stop=h.stop.bind(h)),h;return l.map(I,us,E),k(E.opts.start)&&E.opts.start.call(i,E),E.progress(E.opts.progress).done(E.opts.done,E.opts.complete).fail(E.opts.fail).always(E.opts.always),l.fx.timer(l.extend(v,{elem:i,anim:E,queue:E.opts.queue})),E}l.Animation=l.extend(Te,{tweeners:{"*":[function(i,n){var o=this.createTween(i,n);return Yn(o.elem,i,Oi.exec(n),o),o}]},tweener:function(i,n){k(i)?(n=i,i=["*"]):i=i.match(It);for(var o,h=0,u=i.length;h<u;h++)o=i[h],Te.tweeners[o]=Te.tweeners[o]||[],Te.tweeners[o].unshift(n)},prefilters:[wo],prefilter:function(i,n){n?Te.prefilters.unshift(i):Te.prefilters.push(i)}}),l.speed=function(i,n,o){var h=i&&typeof i=="object"?l.extend({},i):{complete:o||!o&&n||k(i)&&i,duration:i,easing:o&&n||n&&!k(n)&&n};return l.fx.off?h.duration=0:typeof h.duration!="number"&&(h.duration in l.fx.speeds?h.duration=l.fx.speeds[h.duration]:h.duration=l.fx.speeds._default),(h.queue==null||h.queue===!0)&&(h.queue="fx"),h.old=h.complete,h.complete=function(){k(h.old)&&h.old.call(this),h.queue&&l.dequeue(this,h.queue)},h},l.fn.extend({fadeTo:function(i,n,o,h){return this.filter(er).css("opacity",0).show().end().animate({opacity:n},i,o,h)},animate:function(i,n,o,h){var u=l.isEmptyObject(i),d=l.speed(n,o,h),g=function(){var w=Te(this,l.extend({},i),d);(u||rt.get(this,"finish"))&&w.stop(!0)};return g.finish=g,u||d.queue===!1?this.each(g):this.queue(d.queue,g)},stop:function(i,n,o){var h=function(u){var d=u.stop;delete u.stop,d(o)};return typeof i!="string"&&(o=n,n=i,i=void 0),n&&this.queue(i||"fx",[]),this.each(function(){var u=!0,d=i!=null&&i+"queueHooks",g=l.timers,w=rt.get(this);if(d)w[d]&&w[d].stop&&h(w[d]);else for(d in w)w[d]&&w[d].stop&&xo.test(d)&&h(w[d]);for(d=g.length;d--;)g[d].elem===this&&(i==null||g[d].queue===i)&&(g[d].anim.stop(o),u=!1,g.splice(d,1));(u||!o)&&l.dequeue(this,i)})},finish:function(i){return i!==!1&&(i=i||"fx"),this.each(function(){var n,o=rt.get(this),h=o[i+"queue"],u=o[i+"queueHooks"],d=l.timers,g=h?h.length:0;for(o.finish=!0,l.queue(this,i,[]),u&&u.stop&&u.stop.call(this,!0),n=d.length;n--;)d[n].elem===this&&d[n].queue===i&&(d[n].anim.stop(!0),d.splice(n,1));for(n=0;n<g;n++)h[n]&&h[n].finish&&h[n].finish.call(this);delete o.finish})}}),l.each(["toggle","show","hide"],function(i,n){var o=l.fn[n];l.fn[n]=function(h,u,d){return h==null||typeof h=="boolean"?o.apply(this,arguments):this.animate(sr(n,!0),h,u,d)}}),l.each({slideDown:sr("show"),slideUp:sr("hide"),slideToggle:sr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(i,n){l.fn[i]=function(o,h,u){return this.animate(n,o,h,u)}}),l.timers=[],l.fx.tick=function(){var i,n=0,o=l.timers;for(bi=Date.now();n<o.length;n++)i=o[n],!i()&&o[n]===i&&o.splice(n--,1);o.length||l.fx.stop(),bi=void 0},l.fx.timer=function(i){l.timers.push(i),l.fx.start()},l.fx.interval=13,l.fx.start=function(){nr||(nr=!0,Kr())},l.fx.stop=function(){nr=null},l.fx.speeds={slow:600,fast:200,_default:400},l.fn.delay=function(i,n){return i=l.fx&&l.fx.speeds[i]||i,n=n||"fx",this.queue(n,function(o,h){var u=t.setTimeout(o,i);h.stop=function(){t.clearTimeout(u)}})},function(){var i=M.createElement("input"),n=M.createElement("select"),o=n.appendChild(M.createElement("option"));i.type="checkbox",x.checkOn=i.value!=="",x.optSelected=o.selected,i=M.createElement("input"),i.value="t",i.type="radio",x.radioValue=i.value==="t"}();var ds,Ii=l.expr.attrHandle;l.fn.extend({attr:function(i,n){return Be(this,l.attr,i,n,arguments.length>1)},removeAttr:function(i){return this.each(function(){l.removeAttr(this,i)})}}),l.extend({attr:function(i,n,o){var h,u,d=i.nodeType;if(!(d===3||d===8||d===2)){if(typeof i.getAttribute>"u")return l.prop(i,n,o);if((d!==1||!l.isXMLDoc(i))&&(u=l.attrHooks[n.toLowerCase()]||(l.expr.match.bool.test(n)?ds:void 0)),o!==void 0){if(o===null){l.removeAttr(i,n);return}return u&&"set"in u&&(h=u.set(i,o,n))!==void 0?h:(i.setAttribute(n,o+""),o)}return u&&"get"in u&&(h=u.get(i,n))!==null?h:(h=l.find.attr(i,n),h??void 0)}},attrHooks:{type:{set:function(i,n){if(!x.radioValue&&n==="radio"&&G(i,"input")){var o=i.value;return i.setAttribute("type",n),o&&(i.value=o),n}}}},removeAttr:function(i,n){var o,h=0,u=n&&n.match(It);if(u&&i.nodeType===1)for(;o=u[h++];)i.removeAttribute(o)}}),ds={set:function(i,n,o){return n===!1?l.removeAttr(i,o):i.setAttribute(o,o),o}},l.each(l.expr.match.bool.source.match(/\w+/g),function(i,n){var o=Ii[n]||l.find.attr;Ii[n]=function(h,u,d){var g,w,v=u.toLowerCase();return d||(w=Ii[v],Ii[v]=g,g=o(h,u,d)!=null?v:null,Ii[v]=w),g}});var To=/^(?:input|select|textarea|button)$/i,So=/^(?:a|area)$/i;l.fn.extend({prop:function(i,n){return Be(this,l.prop,i,n,arguments.length>1)},removeProp:function(i){return this.each(function(){delete this[l.propFix[i]||i]})}}),l.extend({prop:function(i,n,o){var h,u,d=i.nodeType;if(!(d===3||d===8||d===2))return(d!==1||!l.isXMLDoc(i))&&(n=l.propFix[n]||n,u=l.propHooks[n]),o!==void 0?u&&"set"in u&&(h=u.set(i,o,n))!==void 0?h:i[n]=o:u&&"get"in u&&(h=u.get(i,n))!==null?h:i[n]},propHooks:{tabIndex:{get:function(i){var n=l.find.attr(i,"tabindex");return n?parseInt(n,10):To.test(i.nodeName)||So.test(i.nodeName)&&i.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),x.optSelected||(l.propHooks.selected={get:function(i){var n=i.parentNode;return n&&n.parentNode&&n.parentNode.selectedIndex,null},set:function(i){var n=i.parentNode;n&&(n.selectedIndex,n.parentNode&&n.parentNode.selectedIndex)}}),l.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){l.propFix[this.toLowerCase()]=this});function ei(i){var n=i.match(It)||[];return n.join(" ")}function ii(i){return i.getAttribute&&i.getAttribute("class")||""}function Qr(i){return Array.isArray(i)?i:typeof i=="string"?i.match(It)||[]:[]}l.fn.extend({addClass:function(i){var n,o,h,u,d,g;return k(i)?this.each(function(w){l(this).addClass(i.call(this,w,ii(this)))}):(n=Qr(i),n.length?this.each(function(){if(h=ii(this),o=this.nodeType===1&&" "+ei(h)+" ",o){for(d=0;d<n.length;d++)u=n[d],o.indexOf(" "+u+" ")<0&&(o+=u+" ");g=ei(o),h!==g&&this.setAttribute("class",g)}}):this)},removeClass:function(i){var n,o,h,u,d,g;return k(i)?this.each(function(w){l(this).removeClass(i.call(this,w,ii(this)))}):arguments.length?(n=Qr(i),n.length?this.each(function(){if(h=ii(this),o=this.nodeType===1&&" "+ei(h)+" ",o){for(d=0;d<n.length;d++)for(u=n[d];o.indexOf(" "+u+" ")>-1;)o=o.replace(" "+u+" "," ");g=ei(o),h!==g&&this.setAttribute("class",g)}}):this):this.attr("class","")},toggleClass:function(i,n){var o,h,u,d,g=typeof i,w=g==="string"||Array.isArray(i);return k(i)?this.each(function(v){l(this).toggleClass(i.call(this,v,ii(this),n),n)}):typeof n=="boolean"&&w?n?this.addClass(i):this.removeClass(i):(o=Qr(i),this.each(function(){if(w)for(d=l(this),u=0;u<o.length;u++)h=o[u],d.hasClass(h)?d.removeClass(h):d.addClass(h);else(i===void 0||g==="boolean")&&(h=ii(this),h&&rt.set(this,"__className__",h),this.setAttribute&&this.setAttribute("class",h||i===!1?"":rt.get(this,"__className__")||""))}))},hasClass:function(i){var n,o,h=0;for(n=" "+i+" ";o=this[h++];)if(o.nodeType===1&&(" "+ei(ii(o))+" ").indexOf(n)>-1)return!0;return!1}});var Ao=/\r/g;l.fn.extend({val:function(i){var n,o,h,u=this[0];return arguments.length?(h=k(i),this.each(function(d){var g;this.nodeType===1&&(h?g=i.call(this,d,l(this).val()):g=i,g==null?g="":typeof g=="number"?g+="":Array.isArray(g)&&(g=l.map(g,function(w){return w==null?"":w+""})),n=l.valHooks[this.type]||l.valHooks[this.nodeName.toLowerCase()],(!n||!("set"in n)||n.set(this,g,"value")===void 0)&&(this.value=g))})):u?(n=l.valHooks[u.type]||l.valHooks[u.nodeName.toLowerCase()],n&&"get"in n&&(o=n.get(u,"value"))!==void 0?o:(o=u.value,typeof o=="string"?o.replace(Ao,""):o??"")):void 0}}),l.extend({valHooks:{option:{get:function(i){var n=l.find.attr(i,"value");return n??ei(l.text(i))}},select:{get:function(i){var n,o,h,u=i.options,d=i.selectedIndex,g=i.type==="select-one",w=g?null:[],v=g?d+1:u.length;for(d<0?h=v:h=g?d:0;h<v;h++)if(o=u[h],(o.selected||h===d)&&!o.disabled&&(!o.parentNode.disabled||!G(o.parentNode,"optgroup"))){if(n=l(o).val(),g)return n;w.push(n)}return w},set:function(i,n){for(var o,h,u=i.options,d=l.makeArray(n),g=u.length;g--;)h=u[g],(h.selected=l.inArray(l.valHooks.option.get(h),d)>-1)&&(o=!0);return o||(i.selectedIndex=-1),d}}}}),l.each(["radio","checkbox"],function(){l.valHooks[this]={set:function(i,n){if(Array.isArray(n))return i.checked=l.inArray(l(i).val(),n)>-1}},x.checkOn||(l.valHooks[this].get=function(i){return i.getAttribute("value")===null?"on":i.value})});var Ni=t.location,ps={guid:Date.now()},Jr=/\?/;l.parseXML=function(i){var n,o;if(!i||typeof i!="string")return null;try{n=new t.DOMParser().parseFromString(i,"text/xml")}catch{}return o=n&&n.getElementsByTagName("parsererror")[0],(!n||o)&&l.error("Invalid XML: "+(o?l.map(o.childNodes,function(h){return h.textContent}).join(`
`):i)),n};var gs=/^(?:focusinfocus|focusoutblur)$/,_s=function(i){i.stopPropagation()};l.extend(l.event,{trigger:function(i,n,o,h){var u,d,g,w,v,E,I,D,O=[o||M],U=T.call(i,"type")?i.type:i,ut=T.call(i,"namespace")?i.namespace.split("."):[];if(d=D=g=o=o||M,!(o.nodeType===3||o.nodeType===8)&&!gs.test(U+l.event.triggered)&&(U.indexOf(".")>-1&&(ut=U.split("."),U=ut.shift(),ut.sort()),v=U.indexOf(":")<0&&"on"+U,i=i[l.expando]?i:new l.Event(U,typeof i=="object"&&i),i.isTrigger=h?2:3,i.namespace=ut.join("."),i.rnamespace=i.namespace?new RegExp("(^|\\.)"+ut.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=void 0,i.target||(i.target=o),n=n==null?[i]:l.makeArray(n,[i]),I=l.event.special[U]||{},!(!h&&I.trigger&&I.trigger.apply(o,n)===!1))){if(!h&&!I.noBubble&&!N(o)){for(w=I.delegateType||U,gs.test(w+U)||(d=d.parentNode);d;d=d.parentNode)O.push(d),g=d;g===(o.ownerDocument||M)&&O.push(g.defaultView||g.parentWindow||t)}for(u=0;(d=O[u++])&&!i.isPropagationStopped();)D=d,i.type=u>1?w:I.bindType||U,E=(rt.get(d,"events")||Object.create(null))[i.type]&&rt.get(d,"handle"),E&&E.apply(d,n),E=v&&d[v],E&&E.apply&&Mi(d)&&(i.result=E.apply(d,n),i.result===!1&&i.preventDefault());return i.type=U,!h&&!i.isDefaultPrevented()&&(!I._default||I._default.apply(O.pop(),n)===!1)&&Mi(o)&&v&&k(o[U])&&!N(o)&&(g=o[v],g&&(o[v]=null),l.event.triggered=U,i.isPropagationStopped()&&D.addEventListener(U,_s),o[U](),i.isPropagationStopped()&&D.removeEventListener(U,_s),l.event.triggered=void 0,g&&(o[v]=g)),i.result}},simulate:function(i,n,o){var h=l.extend(new l.Event,o,{type:i,isSimulated:!0});l.event.trigger(h,null,n)}}),l.fn.extend({trigger:function(i,n){return this.each(function(){l.event.trigger(i,n,this)})},triggerHandler:function(i,n){var o=this[0];if(o)return l.event.trigger(i,n,o,!0)}});var Co=/\[\]$/,ms=/\r?\n/g,Eo=/^(?:submit|button|image|reset|file)$/i,Ro=/^(?:input|select|textarea|keygen)/i;function Zr(i,n,o,h){var u;if(Array.isArray(n))l.each(n,function(d,g){o||Co.test(i)?h(i,g):Zr(i+"["+(typeof g=="object"&&g!=null?d:"")+"]",g,o,h)});else if(!o&&q(n)==="object")for(u in n)Zr(i+"["+u+"]",n[u],o,h);else h(i,n)}l.param=function(i,n){var o,h=[],u=function(d,g){var w=k(g)?g():g;h[h.length]=encodeURIComponent(d)+"="+encodeURIComponent(w??"")};if(i==null)return"";if(Array.isArray(i)||i.jquery&&!l.isPlainObject(i))l.each(i,function(){u(this.name,this.value)});else for(o in i)Zr(o,i[o],n,u);return h.join("&")},l.fn.extend({serialize:function(){return l.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var i=l.prop(this,"elements");return i?l.makeArray(i):this}).filter(function(){var i=this.type;return this.name&&!l(this).is(":disabled")&&Ro.test(this.nodeName)&&!Eo.test(i)&&(this.checked||!Pi.test(i))}).map(function(i,n){var o=l(this).val();return o==null?null:Array.isArray(o)?l.map(o,function(h){return{name:n.name,value:h.replace(ms,`\r
`)}}):{name:n.name,value:o.replace(ms,`\r
`)}}).get()}});var Mo=/%20/g,Fo=/#.*$/,Oo=/([?&])_=[^&]*/,Po=/^(.*?):[ \t]*([^\r\n]*)$/mg,Lo=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Io=/^(?:GET|HEAD)$/,No=/^\/\//,ys={},tn={},bs="*/".concat("*"),en=M.createElement("a");en.href=Ni.href;function vs(i){return function(n,o){typeof n!="string"&&(o=n,n="*");var h,u=0,d=n.toLowerCase().match(It)||[];if(k(o))for(;h=d[u++];)h[0]==="+"?(h=h.slice(1)||"*",(i[h]=i[h]||[]).unshift(o)):(i[h]=i[h]||[]).push(o)}}function xs(i,n,o,h){var u={},d=i===tn;function g(w){var v;return u[w]=!0,l.each(i[w]||[],function(E,I){var D=I(n,o,h);if(typeof D=="string"&&!d&&!u[D])return n.dataTypes.unshift(D),g(D),!1;if(d)return!(v=D)}),v}return g(n.dataTypes[0])||!u["*"]&&g("*")}function rn(i,n){var o,h,u=l.ajaxSettings.flatOptions||{};for(o in n)n[o]!==void 0&&((u[o]?i:h||(h={}))[o]=n[o]);return h&&l.extend(!0,i,h),i}function jo(i,n,o){for(var h,u,d,g,w=i.contents,v=i.dataTypes;v[0]==="*";)v.shift(),h===void 0&&(h=i.mimeType||n.getResponseHeader("Content-Type"));if(h){for(u in w)if(w[u]&&w[u].test(h)){v.unshift(u);break}}if(v[0]in o)d=v[0];else{for(u in o){if(!v[0]||i.converters[u+" "+v[0]]){d=u;break}g||(g=u)}d=d||g}if(d)return d!==v[0]&&v.unshift(d),o[d]}function Do(i,n,o,h){var u,d,g,w,v,E={},I=i.dataTypes.slice();if(I[1])for(g in i.converters)E[g.toLowerCase()]=i.converters[g];for(d=I.shift();d;)if(i.responseFields[d]&&(o[i.responseFields[d]]=n),!v&&h&&i.dataFilter&&(n=i.dataFilter(n,i.dataType)),v=d,d=I.shift(),d){if(d==="*")d=v;else if(v!=="*"&&v!==d){if(g=E[v+" "+d]||E["* "+d],!g){for(u in E)if(w=u.split(" "),w[1]===d&&(g=E[v+" "+w[0]]||E["* "+w[0]],g)){g===!0?g=E[u]:E[u]!==!0&&(d=w[0],I.unshift(w[1]));break}}if(g!==!0)if(g&&i.throws)n=g(n);else try{n=g(n)}catch(D){return{state:"parsererror",error:g?D:"No conversion from "+v+" to "+d}}}}return{state:"success",data:n}}l.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ni.href,type:"GET",isLocal:Lo.test(Ni.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":bs,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":l.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(i,n){return n?rn(rn(i,l.ajaxSettings),n):rn(l.ajaxSettings,i)},ajaxPrefilter:vs(ys),ajaxTransport:vs(tn),ajax:function(i,n){typeof i=="object"&&(n=i,i=void 0),n=n||{};var o,h,u,d,g,w,v,E,I,D,O=l.ajaxSetup({},n),U=O.context||O,ut=O.context&&(U.nodeType||U.jquery)?l(U):l.event,At=l.Deferred(),yt=l.Callbacks("once memory"),te=O.statusCode||{},Qt={},Re={},Me="canceled",wt={readyState:0,getResponseHeader:function(Ct){var qt;if(v){if(!d)for(d={};qt=Po.exec(u);)d[qt[1].toLowerCase()+" "]=(d[qt[1].toLowerCase()+" "]||[]).concat(qt[2]);qt=d[Ct.toLowerCase()+" "]}return qt==null?null:qt.join(", ")},getAllResponseHeaders:function(){return v?u:null},setRequestHeader:function(Ct,qt){return v==null&&(Ct=Re[Ct.toLowerCase()]=Re[Ct.toLowerCase()]||Ct,Qt[Ct]=qt),this},overrideMimeType:function(Ct){return v==null&&(O.mimeType=Ct),this},statusCode:function(Ct){var qt;if(Ct)if(v)wt.always(Ct[wt.status]);else for(qt in Ct)te[qt]=[te[qt],Ct[qt]];return this},abort:function(Ct){var qt=Ct||Me;return o&&o.abort(qt),ri(0,qt),this}};if(At.promise(wt),O.url=((i||O.url||Ni.href)+"").replace(No,Ni.protocol+"//"),O.type=n.method||n.type||O.method||O.type,O.dataTypes=(O.dataType||"*").toLowerCase().match(It)||[""],O.crossDomain==null){w=M.createElement("a");try{w.href=O.url,w.href=w.href,O.crossDomain=en.protocol+"//"+en.host!=w.protocol+"//"+w.host}catch{O.crossDomain=!0}}if(O.data&&O.processData&&typeof O.data!="string"&&(O.data=l.param(O.data,O.traditional)),xs(ys,O,n,wt),v)return wt;E=l.event&&O.global,E&&l.active++===0&&l.event.trigger("ajaxStart"),O.type=O.type.toUpperCase(),O.hasContent=!Io.test(O.type),h=O.url.replace(Fo,""),O.hasContent?O.data&&O.processData&&(O.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(O.data=O.data.replace(Mo,"+")):(D=O.url.slice(h.length),O.data&&(O.processData||typeof O.data=="string")&&(h+=(Jr.test(h)?"&":"?")+O.data,delete O.data),O.cache===!1&&(h=h.replace(Oo,"$1"),D=(Jr.test(h)?"&":"?")+"_="+ps.guid+++D),O.url=h+D),O.ifModified&&(l.lastModified[h]&&wt.setRequestHeader("If-Modified-Since",l.lastModified[h]),l.etag[h]&&wt.setRequestHeader("If-None-Match",l.etag[h])),(O.data&&O.hasContent&&O.contentType!==!1||n.contentType)&&wt.setRequestHeader("Content-Type",O.contentType),wt.setRequestHeader("Accept",O.dataTypes[0]&&O.accepts[O.dataTypes[0]]?O.accepts[O.dataTypes[0]]+(O.dataTypes[0]!=="*"?", "+bs+"; q=0.01":""):O.accepts["*"]);for(I in O.headers)wt.setRequestHeader(I,O.headers[I]);if(O.beforeSend&&(O.beforeSend.call(U,wt,O)===!1||v))return wt.abort();if(Me="abort",yt.add(O.complete),wt.done(O.success),wt.fail(O.error),o=xs(tn,O,n,wt),!o)ri(-1,"No Transport");else{if(wt.readyState=1,E&&ut.trigger("ajaxSend",[wt,O]),v)return wt;O.async&&O.timeout>0&&(g=t.setTimeout(function(){wt.abort("timeout")},O.timeout));try{v=!1,o.send(Qt,ri)}catch(Ct){if(v)throw Ct;ri(-1,Ct)}}function ri(Ct,qt,Di,sn){var Fe,Bi,Oe,$e,Xe,ye=qt;v||(v=!0,g&&t.clearTimeout(g),o=void 0,u=sn||"",wt.readyState=Ct>0?4:0,Fe=Ct>=200&&Ct<300||Ct===304,Di&&($e=jo(O,wt,Di)),!Fe&&l.inArray("script",O.dataTypes)>-1&&l.inArray("json",O.dataTypes)<0&&(O.converters["text script"]=function(){}),$e=Do(O,$e,wt,Fe),Fe?(O.ifModified&&(Xe=wt.getResponseHeader("Last-Modified"),Xe&&(l.lastModified[h]=Xe),Xe=wt.getResponseHeader("etag"),Xe&&(l.etag[h]=Xe)),Ct===204||O.type==="HEAD"?ye="nocontent":Ct===304?ye="notmodified":(ye=$e.state,Bi=$e.data,Oe=$e.error,Fe=!Oe)):(Oe=ye,(Ct||!ye)&&(ye="error",Ct<0&&(Ct=0))),wt.status=Ct,wt.statusText=(qt||ye)+"",Fe?At.resolveWith(U,[Bi,ye,wt]):At.rejectWith(U,[wt,ye,Oe]),wt.statusCode(te),te=void 0,E&&ut.trigger(Fe?"ajaxSuccess":"ajaxError",[wt,O,Fe?Bi:Oe]),yt.fireWith(U,[wt,ye]),E&&(ut.trigger("ajaxComplete",[wt,O]),--l.active||l.event.trigger("ajaxStop")))}return wt},getJSON:function(i,n,o){return l.get(i,n,o,"json")},getScript:function(i,n){return l.get(i,void 0,n,"script")}}),l.each(["get","post"],function(i,n){l[n]=function(o,h,u,d){return k(h)&&(d=d||u,u=h,h=void 0),l.ajax(l.extend({url:o,type:n,dataType:d,data:h,success:u},l.isPlainObject(o)&&o))}}),l.ajaxPrefilter(function(i){var n;for(n in i.headers)n.toLowerCase()==="content-type"&&(i.contentType=i.headers[n]||"")}),l._evalUrl=function(i,n,o){return l.ajax({url:i,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(h){l.globalEval(h,n,o)}})},l.fn.extend({wrapAll:function(i){var n;return this[0]&&(k(i)&&(i=i.call(this[0])),n=l(i,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&n.insertBefore(this[0]),n.map(function(){for(var o=this;o.firstElementChild;)o=o.firstElementChild;return o}).append(this)),this},wrapInner:function(i){return k(i)?this.each(function(n){l(this).wrapInner(i.call(this,n))}):this.each(function(){var n=l(this),o=n.contents();o.length?o.wrapAll(i):n.append(i)})},wrap:function(i){var n=k(i);return this.each(function(o){l(this).wrapAll(n?i.call(this,o):i)})},unwrap:function(i){return this.parent(i).not("body").each(function(){l(this).replaceWith(this.childNodes)}),this}}),l.expr.pseudos.hidden=function(i){return!l.expr.pseudos.visible(i)},l.expr.pseudos.visible=function(i){return!!(i.offsetWidth||i.offsetHeight||i.getClientRects().length)},l.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Bo={0:200,1223:204},ji=l.ajaxSettings.xhr();x.cors=!!ji&&"withCredentials"in ji,x.ajax=ji=!!ji,l.ajaxTransport(function(i){var n,o;if(x.cors||ji&&!i.crossDomain)return{send:function(h,u){var d,g=i.xhr();if(g.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(d in i.xhrFields)g[d]=i.xhrFields[d];i.mimeType&&g.overrideMimeType&&g.overrideMimeType(i.mimeType),!i.crossDomain&&!h["X-Requested-With"]&&(h["X-Requested-With"]="XMLHttpRequest");for(d in h)g.setRequestHeader(d,h[d]);n=function(w){return function(){n&&(n=o=g.onload=g.onerror=g.onabort=g.ontimeout=g.onreadystatechange=null,w==="abort"?g.abort():w==="error"?typeof g.status!="number"?u(0,"error"):u(g.status,g.statusText):u(Bo[g.status]||g.status,g.statusText,(g.responseType||"text")!=="text"||typeof g.responseText!="string"?{binary:g.response}:{text:g.responseText},g.getAllResponseHeaders()))}},g.onload=n(),o=g.onerror=g.ontimeout=n("error"),g.onabort!==void 0?g.onabort=o:g.onreadystatechange=function(){g.readyState===4&&t.setTimeout(function(){n&&o()})},n=n("abort");try{g.send(i.hasContent&&i.data||null)}catch(w){if(n)throw w}},abort:function(){n&&n()}}}),l.ajaxPrefilter(function(i){i.crossDomain&&(i.contents.script=!1)}),l.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(i){return l.globalEval(i),i}}}),l.ajaxPrefilter("script",function(i){i.cache===void 0&&(i.cache=!1),i.crossDomain&&(i.type="GET")}),l.ajaxTransport("script",function(i){if(i.crossDomain||i.scriptAttrs){var n,o;return{send:function(h,u){n=l("<script>").attr(i.scriptAttrs||{}).prop({charset:i.scriptCharset,src:i.url}).on("load error",o=function(d){n.remove(),o=null,d&&u(d.type==="error"?404:200,d.type)}),M.head.appendChild(n[0])},abort:function(){o&&o()}}}});var ws=[],nn=/(=)\?(?=&|$)|\?\?/;l.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var i=ws.pop()||l.expando+"_"+ps.guid++;return this[i]=!0,i}}),l.ajaxPrefilter("json jsonp",function(i,n,o){var h,u,d,g=i.jsonp!==!1&&(nn.test(i.url)?"url":typeof i.data=="string"&&(i.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&nn.test(i.data)&&"data");if(g||i.dataTypes[0]==="jsonp")return h=i.jsonpCallback=k(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,g?i[g]=i[g].replace(nn,"$1"+h):i.jsonp!==!1&&(i.url+=(Jr.test(i.url)?"&":"?")+i.jsonp+"="+h),i.converters["script json"]=function(){return d||l.error(h+" was not called"),d[0]},i.dataTypes[0]="json",u=t[h],t[h]=function(){d=arguments},o.always(function(){u===void 0?l(t).removeProp(h):t[h]=u,i[h]&&(i.jsonpCallback=n.jsonpCallback,ws.push(h)),d&&k(u)&&u(d[0]),d=u=void 0}),"script"}),x.createHTMLDocument=function(){var i=M.implementation.createHTMLDocument("").body;return i.innerHTML="<form></form><form></form>",i.childNodes.length===2}(),l.parseHTML=function(i,n,o){if(typeof i!="string")return[];typeof n=="boolean"&&(o=n,n=!1);var h,u,d;return n||(x.createHTMLDocument?(n=M.implementation.createHTMLDocument(""),h=n.createElement("base"),h.href=M.location.href,n.head.appendChild(h)):n=M),u=tt.exec(i),d=!o&&[],u?[n.createElement(u[1])]:(u=Jn([i],n,d),d&&d.length&&l(d).remove(),l.merge([],u.childNodes))},l.fn.load=function(i,n,o){var h,u,d,g=this,w=i.indexOf(" ");return w>-1&&(h=ei(i.slice(w)),i=i.slice(0,w)),k(n)?(o=n,n=void 0):n&&typeof n=="object"&&(u="POST"),g.length>0&&l.ajax({url:i,type:u||"GET",dataType:"html",data:n}).done(function(v){d=arguments,g.html(h?l("<div>").append(l.parseHTML(v)).find(h):v)}).always(o&&function(v,E){g.each(function(){o.apply(this,d||[v.responseText,E,v])})}),this},l.expr.pseudos.animated=function(i){return l.grep(l.timers,function(n){return i===n.elem}).length},l.offset={setOffset:function(i,n,o){var h,u,d,g,w,v,E,I=l.css(i,"position"),D=l(i),O={};I==="static"&&(i.style.position="relative"),w=D.offset(),d=l.css(i,"top"),v=l.css(i,"left"),E=(I==="absolute"||I==="fixed")&&(d+v).indexOf("auto")>-1,E?(h=D.position(),g=h.top,u=h.left):(g=parseFloat(d)||0,u=parseFloat(v)||0),k(n)&&(n=n.call(i,o,l.extend({},w))),n.top!=null&&(O.top=n.top-w.top+g),n.left!=null&&(O.left=n.left-w.left+u),"using"in n?n.using.call(i,O):D.css(O)}},l.fn.extend({offset:function(i){if(arguments.length)return i===void 0?this:this.each(function(u){l.offset.setOffset(this,i,u)});var n,o,h=this[0];if(!!h)return h.getClientRects().length?(n=h.getBoundingClientRect(),o=h.ownerDocument.defaultView,{top:n.top+o.pageYOffset,left:n.left+o.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var i,n,o,h=this[0],u={top:0,left:0};if(l.css(h,"position")==="fixed")n=h.getBoundingClientRect();else{for(n=this.offset(),o=h.ownerDocument,i=h.offsetParent||o.documentElement;i&&(i===o.body||i===o.documentElement)&&l.css(i,"position")==="static";)i=i.parentNode;i&&i!==h&&i.nodeType===1&&(u=l(i).offset(),u.top+=l.css(i,"borderTopWidth",!0),u.left+=l.css(i,"borderLeftWidth",!0))}return{top:n.top-u.top-l.css(h,"marginTop",!0),left:n.left-u.left-l.css(h,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var i=this.offsetParent;i&&l.css(i,"position")==="static";)i=i.offsetParent;return i||ti})}}),l.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(i,n){var o=n==="pageYOffset";l.fn[i]=function(h){return Be(this,function(u,d,g){var w;if(N(u)?w=u:u.nodeType===9&&(w=u.defaultView),g===void 0)return w?w[n]:u[d];w?w.scrollTo(o?w.pageXOffset:g,o?g:w.pageYOffset):u[d]=g},i,h,arguments.length)}}),l.each(["top","left"],function(i,n){l.cssHooks[n]=ns(x.pixelPosition,function(o,h){if(h)return h=Li(o,n),$r.test(h)?l(o).position()[n]+"px":h})}),l.each({Height:"height",Width:"width"},function(i,n){l.each({padding:"inner"+i,content:n,"":"outer"+i},function(o,h){l.fn[h]=function(u,d){var g=arguments.length&&(o||typeof u!="boolean"),w=o||(u===!0||d===!0?"margin":"border");return Be(this,function(v,E,I){var D;return N(v)?h.indexOf("outer")===0?v["inner"+i]:v.document.documentElement["client"+i]:v.nodeType===9?(D=v.documentElement,Math.max(v.body["scroll"+i],D["scroll"+i],v.body["offset"+i],D["offset"+i],D["client"+i])):I===void 0?l.css(v,E,w):l.style(v,E,I,w)},n,g?u:void 0,g)}})}),l.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,n){l.fn[n]=function(o){return this.on(n,o)}}),l.fn.extend({bind:function(i,n,o){return this.on(i,null,n,o)},unbind:function(i,n){return this.off(i,null,n)},delegate:function(i,n,o,h){return this.on(n,i,o,h)},undelegate:function(i,n,o){return arguments.length===1?this.off(i,"**"):this.off(n,i||"**",o)},hover:function(i,n){return this.mouseenter(i).mouseleave(n||i)}}),l.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(i,n){l.fn[n]=function(o,h){return arguments.length>0?this.on(n,null,o,h):this.trigger(n)}});var qo=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;l.proxy=function(i,n){var o,h,u;if(typeof n=="string"&&(o=i[n],n=i,i=o),!!k(i))return h=a.call(arguments,2),u=function(){return i.apply(n||this,h.concat(a.call(arguments)))},u.guid=i.guid=i.guid||l.guid++,u},l.holdReady=function(i){i?l.readyWait++:l.ready(!0)},l.isArray=Array.isArray,l.parseJSON=JSON.parse,l.nodeName=G,l.isFunction=k,l.isWindow=N,l.camelCase=Ee,l.type=q,l.now=Date.now,l.isNumeric=function(i){var n=l.type(i);return(n==="number"||n==="string")&&!isNaN(i-parseFloat(i))},l.trim=function(i){return i==null?"":(i+"").replace(qo,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return l});var Ho=t.jQuery,zo=t.$;return l.noConflict=function(i){return t.$===l&&(t.$=zo),i&&t.jQuery===l&&(t.jQuery=Ho),l},typeof e>"u"&&(t.jQuery=t.$=l),l})});var ee=As(pn());function gn(t,e){return Array.prototype.forEach.call(t,e)}function qi(t,e,r){return Math.min(Math.max(t,e),r)}function ur(t){return[...Array(t).keys()]}function dr(t){if(arguments.length<2)return t;for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)typeof t[s]>"u"&&(t[s]=r[s])}return t}function _n(t,e){var r;return function(){r&&clearTimeout(r);var s=this,a=arguments;r=setTimeout(function(){r=null,t.apply(s,a)},e)}}function Rs(t){let e=!1;return function(){e||(t.apply(this,arguments),e=!0)}}function Ms(t,e){let r=0;return function(){r++<=t-1&&e.apply(this,arguments)}}var ca=Object.defineProperty,nl=(t,e,r)=>e in t?ca(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ua=(t,e)=>{for(var r in e)ca(t,r,{get:e[r],enumerable:!0})},m=(t,e,r)=>(nl(t,typeof e!="symbol"?e+"":e,r),r),V={move:"M",line:"L",curve:"C",arc:"A",close:"Z"},da={};ua(da,{HALF_PI:()=>Jt,NumArray:()=>je,TWO_PI:()=>ne,decomposeMatrix:()=>Si,getComputedMatrix:()=>_a,getPoT:()=>ma,lerp:()=>ce,mod:()=>ge,setMatrix:()=>ga,toFixed:()=>Ht});var Bt;typeof window<"u"?Bt=window:typeof global<"u"?Bt=global:typeof self<"u"&&(Bt=self);var pa,ne=Math.PI*2,Jt=Math.PI*.5;function Si(t,e,r,s,a,c){let f;return arguments.length<=1?(f=t.a,e=t.b,r=t.c,s=t.d,a=t.e,c=t.f):f=t,{translateX:a,translateY:c,scaleX:Math.sqrt(f*f+e*e),scaleY:Math.sqrt(r*r+s*s),rotation:180*Math.atan2(e,f)/Math.PI}}function ga(t){pa=t}function _a(t,e){e=e&&e.identity()||new pa;let r=t,s=[];for(;r&&r._matrix;)s.push(r._matrix),r=r.parent;s.reverse();for(let a=0;a<s.length;a++){let f=s[a].elements;e.multiply(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9])}return e}function ce(t,e,r){return r*(e-t)+t}var mn=[2,4,8,16,32,64,128,256,512,1024,2048,4096];function ma(t){let e=0;for(;mn[e]&&mn[e]<t;)e++;return mn[e]}function ge(t,e){for(;t<0;)t+=e;return t%e}var je=Bt.Float32Array||Array,sl=Math.floor;function Ht(t){return sl(t*1e6)/1e6}var ya={};ua(ya,{Curve:()=>Ai,getAnchorsFromArcData:()=>ol,getComponentOnCubicBezier:()=>Vi,getControlPoints:()=>ka,getCurveBoundingBox:()=>va,getCurveFromPoints:()=>wa,getCurveLength:()=>ba,getReflection:()=>Tn,integrate:()=>xa,subdivide:()=>Mn});var B=class{constructor(){m(this,"_events",{}),m(this,"_bound",!1)}addEventListener(t,e){return(this._events[t]||(this._events[t]=[])).push(e),this._bound=!0,this}on(){return this.addEventListener.apply(this,arguments)}bind(){return this.addEventListener.apply(this,arguments)}removeEventListener(t,e){if(!this._events)return this;if(!t&&!e)return this._events={},this._bound=!1,this;let r=t?[t]:Object.keys(this._events);for(let s=0,a=r.length;s<a;s++){t=r[s];let c=this._events[t];if(c){let f=[];if(e)for(let p=0,y=c.length;p<y;p++){let _=c[p];_=_.handler?_.handler:_,e!==_&&f.push(_)}this._events[t]=f}}return this}off(){return this.removeEventListener.apply(this,arguments)}unbind(){return this.removeEventListener.apply(this,arguments)}dispatchEvent(t){if(!this._events)return this;let e=Array.prototype.slice.call(arguments,1),r=this._events[t];if(r)for(let s=0;s<r.length;s++)r[s].call(this,...e);return this}trigger(){return this.dispatchEvent.apply(this,arguments)}listen(t,e,r){let s=this;t&&(a.obj=t,a.name=e,a.handler=r,t.on(e,a));function a(){r.apply(s,arguments)}return s}ignore(t,e,r){return t.off(e,r),this}};m(B,"Types",{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"});m(B,"Methods",["addEventListener","on","removeEventListener","off","unbind","dispatchEvent","trigger","listen","ignore"]);var Fs={x:{enumerable:!0,get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this._bound&&this.dispatchEvent(B.Types.change))}},y:{enumerable:!0,get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this._bound&&this.dispatchEvent(B.Types.change))}}},Ce=class extends B{constructor(t=0,e=0){super(),m(this,"_x",0),m(this,"_y",0);for(let r in Fs)Object.defineProperty(this,r,Fs[r]);this.x=t,this.y=e}static add(t,e){return new Ce(t.x+e.x,t.y+e.y)}static sub(t,e){return new Ce(t.x-e.x,t.y-e.y)}static subtract(t,e){return Ce.sub(t,e)}static ratioBetween(t,e){return(t.x*e.x+t.y*e.y)/(t.length()*e.length())}static angleBetween(t,e){if(arguments.length>=4){let a=arguments[0]-arguments[2],c=arguments[1]-arguments[3];return Math.atan2(c,a)}let r=t.x-e.x,s=t.y-e.y;return Math.atan2(s,r)}static distanceBetween(t,e){return Math.sqrt(Ce.distanceBetweenSquared(t,e))}static distanceBetweenSquared(t,e){let r=t.x-e.x,s=t.y-e.y;return r*r+s*s}set(t,e){return this.x=t,this.y=e,this}copy(t){return this.x=t.x,this.y=t.y,this}clear(){return this.x=0,this.y=0,this}clone(){return new Ce(this.x,this.y)}add(t,e){return arguments.length<=0?this:(arguments.length<=1?typeof t=="number"?(this.x+=t,this.y+=t):t&&typeof t.x=="number"&&typeof t.y=="number"&&(this.x+=t.x,this.y+=t.y):(this.x+=t,this.y+=e),this)}addSelf(t){return this.add.apply(this,arguments)}sub(t,e){return arguments.length<=0?this:(arguments.length<=1?typeof t=="number"?(this.x-=t,this.y-=t):t&&typeof t.x=="number"&&typeof t.y=="number"&&(this.x-=t.x,this.y-=t.y):(this.x-=t,this.y-=e),this)}subtract(){return this.sub.apply(this,arguments)}subSelf(t){return this.sub.apply(this,arguments)}subtractSelf(t){return this.sub.apply(this,arguments)}multiply(t,e){return arguments.length<=0?this:(arguments.length<=1?typeof t=="number"?(this.x*=t,this.y*=t):t&&typeof t.x=="number"&&typeof t.y=="number"&&(this.x*=t.x,this.y*=t.y):(this.x*=t,this.y*=e),this)}multiplySelf(t){return this.multiply.apply(this,arguments)}multiplyScalar(t){return this.multiply(t)}divide(t,e){return arguments.length<=0?this:(arguments.length<=1?typeof t=="number"?(this.x/=t,this.y/=t):t&&typeof t.x=="number"&&typeof t.y=="number"&&(this.x/=t.x,this.y/=t.y):(this.x/=t,this.y/=e),isNaN(this.x)&&(this.x=0),isNaN(this.y)&&(this.y=0),this)}divideSelf(t){return this.divide.apply(this,arguments)}divideScalar(t){return this.divide(t)}negate(){return this.multiply(-1)}dot(t){return this.x*t.x+this.y*t.y}length(){return Math.sqrt(this.lengthSquared())}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){return this.divideScalar(this.length())}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let e=this.x-t.x,r=this.y-t.y;return e*e+r*r}setLength(t){return this.normalize().multiplyScalar(t)}equals(t,e){return e=typeof e>"u"?1e-4:e,this.distanceTo(t)<e}lerp(t,e){let r=(t.x-this.x)*e+this.x,s=(t.y-this.y)*e+this.y;return this.set(r,s)}isZero(t){return t=typeof t>"u"?1e-4:t,this.length()<t}toString(){return this.x+", "+this.y}toObject(){return{x:this.x,y:this.y}}rotate(t){let e=this.x,r=this.y,s=Math.cos(t),a=Math.sin(t);return this.x=e*s-r*a,this.y=e*a+r*s,this}},$=Ce;m($,"zero",new Ce);m($,"left",new Ce(-1,0));m($,"right",new Ce(1,0));m($,"up",new Ce(0,-1));m($,"down",new Ce(0,1));var bt=class extends ${constructor(t=0,e=0,r=0,s=0,a=0,c=0,f=V.move){super(t,e),m(this,"controls",{left:new $,right:new $}),m(this,"_command",V.move),m(this,"_relative",!0),m(this,"_rx",0),m(this,"_ry",0),m(this,"_xAxisRotation",0),m(this,"_largeArcFlag",0),m(this,"_sweepFlag",1);for(let y in Os)Object.defineProperty(this,y,Os[y]);this.command=f,this.relative=!0;let p=bt.makeBroadcast(this);this.controls.left.set(r,s).addEventListener(B.Types.change,p),this.controls.right.set(a,c).addEventListener(B.Types.change,p)}static makeBroadcast(t){return e;function e(){t._bound&&t.dispatchEvent(B.Types.change)}}copy(t){return this.x=t.x,this.y=t.y,typeof t.command=="string"&&(this.command=t.command),t.controls&&(t.controls.left&&this.controls.left.copy(t.controls.left),t.controls.right&&this.controls.right.copy(t.controls.right)),typeof t.relative=="boolean"&&(this.relative=t.relative),typeof t.rx=="number"&&(this.rx=t.rx),typeof t.ry=="number"&&(this.ry=t.ry),typeof t.xAxisRotation=="number"&&(this.xAxisRotation=t.xAxisRotation),typeof t.largeArcFlag=="number"&&(this.largeArcFlag=t.largeArcFlag),typeof t.sweepFlag=="number"&&(this.sweepFlag=t.sweepFlag),this}clone(){return new bt().copy(this)}toObject(){return{x:this.x,y:this.y,command:this.command,relative:this.relative,controls:{left:this.controls.left.toObject(),right:this.controls.right.toObject()},rx:this.rx,ry:this.ry,xAxisRotation:this.xAxisRotation,largeArcFlag:this.largeArcFlag,sweepFlag:this.sweepFlag}}toString(){return JSON.stringify(this.toObject())}},Os={command:{enumerable:!0,get:function(){return this._command},set:function(t){this._command!==t&&(this._command=t,this._bound&&this.dispatchEvent(B.Types.change))}},relative:{enumerable:!0,get:function(){return this._relative},set:function(t){this._relative!==!!t&&(this._relative=!!t,this._bound&&this.dispatchEvent(B.Types.change))}},rx:{enumerable:!0,get:function(){return this._rx},set:function(t){this._rx!==t&&(this._rx=t,this._bound&&this.dispatchEvent(B.Types.change))}},ry:{enumerable:!0,get:function(){return this._ry},set:function(t){this._ry!==t&&(this._ry=t,this._bound&&this.dispatchEvent(B.Types.change))}},xAxisRotation:{enumerable:!0,get:function(){return this._xAxisRotation},set:function(t){this._xAxisRotation!==t&&(this._xAxisRotation=t,this._bound&&this.dispatchEvent(B.Types.change))}},largeArcFlag:{enumerable:!0,get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag!==t&&(this._largeArcFlag=t,this._bound&&this.dispatchEvent(B.Types.change))}},sweepFlag:{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag!==t&&(this._sweepFlag=t,this._bound&&this.dispatchEvent(B.Types.change))}}},al=0,Gt={nextFrameID:null,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.8.11",PublishDate:"2023-08-07T18:08:18.689Z",Identifier:"two-",Resolution:12,AutoCalculateImportedMatrices:!0,Instances:[],uniqueId:function(){return al++}},Ai={CollinearityEpsilon:Math.pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]};function Vi(t,e,r,s,a){let c=1-t;return c*c*c*e+3*c*c*t*r+3*c*t*t*s+t*t*t*a}function Mn(t,e,r,s,a,c,f,p,y){y=y||Ai.RecursionLimit;let _=y+1;if(Math.abs(t-f)<.001&&Math.abs(e-p)<.001)return[new bt(f,p)];let T=[];for(let C=0;C<_;C++){let A=C/_,x=Vi(A,t,r,a,f),k=Vi(A,e,s,c,p);T.push(new bt(x,k))}return T}function ba(t,e,r,s,a,c,f,p,y){if(t===r&&e===s&&a===f&&c===p){let M=f-t,R=p-e;return Math.sqrt(M*M+R*R)}let _=9*(r-a)+3*(f-t),T=6*(t+a)-12*r,C=3*(r-t),A=9*(s-c)+3*(p-e),x=6*(e+c)-12*s,k=3*(s-e);function N(M){let R=(_*M+T)*M+C,L=(A*M+x)*M+k;return Math.sqrt(R*R+L*L)}return xa(N,0,1,y||Ai.RecursionLimit)}function va(t,e,r,s,a,c,f,p){let y=[],_=[[],[]],T,C,A,x,k,N,M,R;for(let H=0;H<2;++H){if(H==0?(C=6*t-12*r+6*a,T=-3*t+9*r-9*a+3*f,A=3*r-3*t):(C=6*e-12*s+6*c,T=-3*e+9*s-9*c+3*p,A=3*s-3*e),Math.abs(T)<1e-12){if(Math.abs(C)<1e-12)continue;x=-A/C,0<x&&x<1&&y.push(x);continue}M=C*C-4*A*T,R=Math.sqrt(M),!(M<0)&&(k=(-C+R)/(2*T),0<k&&k<1&&y.push(k),N=(-C-R)/(2*T),0<N&&N<1&&y.push(N))}let L=y.length,q=L,z;for(;L--;)x=y[L],z=1-x,_[0][L]=z*z*z*t+3*z*z*x*r+3*z*x*x*a+x*x*x*f,_[1][L]=z*z*z*e+3*z*z*x*s+3*z*x*x*c+x*x*x*p;return _[0][q]=t,_[1][q]=e,_[0][q+1]=f,_[1][q+1]=p,_[0].length=_[1].length=q+2,{min:{x:Math.min.apply(0,_[0]),y:Math.min.apply(0,_[1])},max:{x:Math.max.apply(0,_[0]),y:Math.max.apply(0,_[1])}}}function xa(t,e,r,s){let a=Ai.abscissas[s-2],c=Ai.weights[s-2],f=.5*(r-e),p=f+e,y=0,_=s+1>>1,T=s&1?c[y++]*t(p):0;for(;y<_;){let C=f*a[y];T+=c[y++]*(t(p+C)+t(p-C))}return f*T}function wa(t,e){let r=t.length,s=r-1;for(let a=0;a<r;a++){let c=t[a],f=e?ge(a-1,r):Math.max(a-1,0),p=e?ge(a+1,r):Math.min(a+1,s),y=t[f],_=c,T=t[p];ka(y,_,T),_.command=a===0?V.move:V.curve}}function ka(t,e,r){let s=$.angleBetween(t,e),a=$.angleBetween(r,e),c=$.distanceBetween(t,e),f=$.distanceBetween(r,e),p=(s+a)/2;return c<1e-4||f<1e-4?(typeof e.relative=="boolean"&&!e.relative&&(e.controls.left.copy(e),e.controls.right.copy(e)),e):(c*=.33,f*=.33,a<s?p+=Jt:p-=Jt,e.controls.left.x=Math.cos(p)*c,e.controls.left.y=Math.sin(p)*c,p-=Math.PI,e.controls.right.x=Math.cos(p)*f,e.controls.right.y=Math.sin(p)*f,typeof e.relative=="boolean"&&!e.relative&&(e.controls.left.x+=e.x,e.controls.left.y+=e.y,e.controls.right.x+=e.x,e.controls.right.y+=e.y),e)}function Tn(t,e,r){return new $(2*t.x-(e.x+t.x)-(r?t.x:0),2*t.y-(e.y+t.y)-(r?t.y:0))}function ol(t,e,r,s,a,c,f){let p=Gt.Resolution,y=[];for(let _=0;_<p;_++){let T=(_+1)/p;f&&(T=1-T);let C=T*c+a,A=r*Math.cos(C),x=s*Math.sin(C),k=new bt(A,x);k.command=V.line,y.push(k)}}var ll=Bt.devicePixelRatio||1;function hl(t){return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1}function Fn(t){return ll/hl(t)}var Ps=Array.prototype.slice;function fl(t){if(t==null)return!1;let e=t.length;return typeof e=="number"&&e>=0&&e<4294967296}var J={isNaN:function(t){return typeof t=="number"&&t!==+t},isElement:function(t){return!!(t&&t.nodeType===1)},isObject:function(t){let e=typeof t;return e==="function"||e==="object"&&!!t},extend:function(t){let e=Ps.call(arguments,1);for(let r=0;r<e.length;r++){let s=e[r];for(let a in s)t[a]=s[a]}return t},defaults:function(t){let e=Ps.call(arguments,1);for(let r=0;r<e.length;r++){let s=e[r];for(let a in s)t[a]===void 0&&(t[a]=s[a])}return t},each:function(t,e,r){let s=r||this,a=!fl(t)&&Object.keys(t),c=(a||t).length;for(let f=0;f<c;f++){let p=a?a[f]:f;e.call(s,t[p],p,t)}return t},performance:Bt.performance&&Bt.performance.now?Bt.performance:Date},Or=class extends B{constructor(){super(),m(this,"_flagId",!1),m(this,"_flagClassName",!1),m(this,"_renderer",{}),m(this,"_id",""),m(this,"_className",""),m(this,"classList",[]);for(let t in Ls)Object.defineProperty(this,t,Ls[t])}flagReset(){this._flagId=this._flagClassName=!1}},Ls={renderer:{enumerable:!1,get:function(){return this._renderer}},id:{enumerable:!0,get:function(){return this._id},set:function(t){let e=this._id;t!==this._id&&(this._id=t,this._flagId=!0,this.parent&&(delete this.parent.children.ids[e],this.parent.children.ids[this._id]=this))}},className:{enumerable:!0,get:function(){return this._className},set:function(t){this._className!==t&&(this._flagClassName=!0,this.classList=t.split(/\s+?/),this._className=t)}}},cl=Math.cos,ul=Math.sin,Is=Math.tan,yn=[],we=class extends B{constructor(t,e,r,s,a,c){super(),m(this,"elements",new je(9)),m(this,"manual",!1);let f=t;Array.isArray(f)||(f=Array.prototype.slice.call(arguments)),this.identity(),f.length>0&&this.set(f)}static Multiply(t,e,r){if(e.length<=3){let H=t,l,Z,G,nt=e[0]||0,Q=e[1]||0,_t=e[2]||0;return l=H[0]*nt+H[1]*Q+H[2]*_t,Z=H[3]*nt+H[4]*Q+H[5]*_t,G=H[6]*nt+H[7]*Q+H[8]*_t,[l,Z,G]}let s=t[0],a=t[1],c=t[2],f=t[3],p=t[4],y=t[5],_=t[6],T=t[7],C=t[8],A=e[0],x=e[1],k=e[2],N=e[3],M=e[4],R=e[5],L=e[6],q=e[7],z=e[8];return r=r||new je(9),r[0]=s*A+a*N+c*L,r[1]=s*x+a*M+c*q,r[2]=s*k+a*R+c*z,r[3]=f*A+p*N+y*L,r[4]=f*x+p*M+y*q,r[5]=f*k+p*R+y*z,r[6]=_*A+T*N+C*L,r[7]=_*x+T*M+C*q,r[8]=_*k+T*R+C*z,r}set(t,e,r,s,a,c,f,p,y){if(typeof e>"u"){let _=t;t=_[0],e=_[1],r=_[2],s=_[3],a=_[4],c=_[5],f=_[6],p=_[7],y=_[8]}return this.elements[0]=t,this.elements[1]=e,this.elements[2]=r,this.elements[3]=s,this.elements[4]=a,this.elements[5]=c,this.elements[6]=f,this.elements[7]=p,this.elements[8]=y,this.trigger(B.Types.change)}copy(t){return this.elements[0]=t.elements[0],this.elements[1]=t.elements[1],this.elements[2]=t.elements[2],this.elements[3]=t.elements[3],this.elements[4]=t.elements[4],this.elements[5]=t.elements[5],this.elements[6]=t.elements[6],this.elements[7]=t.elements[7],this.elements[8]=t.elements[8],this.manual=t.manual,this.trigger(B.Types.change)}identity(){return this.elements[0]=we.Identity[0],this.elements[1]=we.Identity[1],this.elements[2]=we.Identity[2],this.elements[3]=we.Identity[3],this.elements[4]=we.Identity[4],this.elements[5]=we.Identity[5],this.elements[6]=we.Identity[6],this.elements[7]=we.Identity[7],this.elements[8]=we.Identity[8],this.trigger(B.Types.change)}multiply(t,e,r,s,a,c,f,p,y){if(typeof e>"u")return this.elements[0]*=t,this.elements[1]*=t,this.elements[2]*=t,this.elements[3]*=t,this.elements[4]*=t,this.elements[5]*=t,this.elements[6]*=t,this.elements[7]*=t,this.elements[8]*=t,this.trigger(B.Types.change);if(typeof r>"u"&&(r=1),typeof s>"u"){t=t||0,e=e||0,r=r||0,a=this.elements;let Tt=a[0]*t+a[1]*e+a[2]*r,gt=a[3]*t+a[4]*e+a[5]*r,zt=a[6]*t+a[7]*e+a[8]*r;return[Tt,gt,zt]}let _=this.elements,T=[t,e,r,s,a,c,f,p,y],C=_[0],A=_[1],x=_[2],k=_[3],N=_[4],M=_[5],R=_[6],L=_[7],q=_[8],z=T[0],H=T[1],l=T[2],Z=T[3],G=T[4],nt=T[5],Q=T[6],_t=T[7],K=T[8];return this.elements[0]=C*z+A*Z+x*Q,this.elements[1]=C*H+A*G+x*_t,this.elements[2]=C*l+A*nt+x*K,this.elements[3]=k*z+N*Z+M*Q,this.elements[4]=k*H+N*G+M*_t,this.elements[5]=k*l+N*nt+M*K,this.elements[6]=R*z+L*Z+q*Q,this.elements[7]=R*H+L*G+q*_t,this.elements[8]=R*l+L*nt+q*K,this.trigger(B.Types.change)}inverse(t){let e=this.elements;t=t||new we;let r=e[0],s=e[1],a=e[2],c=e[3],f=e[4],p=e[5],y=e[6],_=e[7],T=e[8],C=T*f-p*_,A=-T*c+p*y,x=_*c-f*y,k=r*C+s*A+a*x;return k?(k=1/k,t.elements[0]=C*k,t.elements[1]=(-T*s+a*_)*k,t.elements[2]=(p*s-a*f)*k,t.elements[3]=A*k,t.elements[4]=(T*r-a*y)*k,t.elements[5]=(-p*r+a*c)*k,t.elements[6]=x*k,t.elements[7]=(-_*r+s*y)*k,t.elements[8]=(f*r-s*c)*k,t):null}scale(t,e){return arguments.length<=1&&(e=t),this.multiply(t,0,0,0,e,0,0,0,1)}rotate(t){let e=cl(t),r=ul(t);return this.multiply(e,-r,0,r,e,0,0,0,1)}translate(t,e){return this.multiply(1,0,t,0,1,e,0,0,1)}skewX(t){let e=Is(t);return this.multiply(1,e,0,0,1,0,0,0,1)}skewY(t){let e=Is(t);return this.multiply(1,0,0,e,1,0,0,0,1)}toString(t){return yn.length=0,this.toTransformArray(t,yn),yn.map(Ht).join(" ")}toTransformArray(t,e){let r=this.elements,s=!!e,a=r[0],c=r[1],f=r[2],p=r[3],y=r[4],_=r[5];if(t){let T=r[6],C=r[7],A=r[8];if(s){e[0]=a,e[1]=p,e[2]=T,e[3]=c,e[4]=y,e[5]=C,e[6]=f,e[7]=_,e[8]=A;return}return[a,p,T,c,y,C,f,_,A]}if(s){e[0]=a,e[1]=p,e[2]=c,e[3]=y,e[4]=f,e[5]=_;return}return[a,p,c,y,f,_]}toArray(t,e){let r=this.elements,s=!!e,a=r[0],c=r[1],f=r[2],p=r[3],y=r[4],_=r[5];if(t){let T=r[6],C=r[7],A=r[8];if(s){e[0]=a,e[1]=c,e[2]=f,e[3]=p,e[4]=y,e[5]=_,e[6]=T,e[7]=C,e[8]=A;return}return[a,c,f,p,y,_,T,C,A]}if(s){e[0]=a,e[1]=c,e[2]=f,e[3]=p,e[4]=y,e[5]=_;return}return[a,c,f,p,y,_]}toObject(){return{elements:this.toArray(!0),manual:!!this.manual}}clone(){return new we().copy(this)}},ai=we;m(ai,"Identity",[1,0,0,0,1,0,0,0,1]);ga(ai);var Qe=class extends Or{constructor(){super(),m(this,"_flagMatrix",!0),m(this,"_flagScale",!1),m(this,"_matrix",null),m(this,"_worldMatrix",null),m(this,"_position",null),m(this,"_rotation",0),m(this,"_scale",1),m(this,"_skewX",0),m(this,"_skewY",0);for(let t in pr)Object.defineProperty(this,t,pr[t]);this._renderer.flagMatrix=Ta.bind(this),this.isShape=!0,this.id=Gt.Identifier+Gt.uniqueId(),this.matrix=new ai,this.worldMatrix=new ai,this.position=new $,this.rotation=0,this.scale=1,this.skewX=0,this.skewY=0}get renderer(){return this._renderer}set renderer(t){this._renderer=t}get translation(){return pr.position.get.apply(this,arguments)}set translation(t){pr.position.set.apply(this,arguments)}addTo(t){return t.add(this),this}remove(){return this.parent?(this.parent.remove(this),this):this}clone(t){let e=new Qe;return e.position.copy(this.position),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}_update(t){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.position.x,this.position.y),this._scale instanceof $?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation),this._matrix.skewX(this.skewX),this._matrix.skewY(this.skewY)),t&&this.parent&&this.parent._update&&this.parent._update(),this}flagReset(){return this._flagMatrix=this._flagScale=!1,super.flagReset.call(this),this}},pr={position:{enumerable:!0,get:function(){return this._position},set:function(t){this._position&&this._position.unbind(B.Types.change,this._renderer.flagMatrix),this._position=t,this._position.bind(B.Types.change,this._renderer.flagMatrix),Ta.call(this)}},rotation:{enumerable:!0,get:function(){return this._rotation},set:function(t){this._rotation=t,this._flagMatrix=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(t){this._scale instanceof $&&this._scale.unbind(B.Types.change,this._renderer.flagMatrix),this._scale=t,this._scale instanceof $&&this._scale.bind(B.Types.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}},skewX:{enumerable:!0,get:function(){return this._skewX},set:function(t){this._skewX=t,this._flagMatrix=!0}},skewY:{enumerable:!0,get:function(){return this._skewY},set:function(t){this._skewY=t,this._flagMatrix=!0}},matrix:{enumerable:!0,get:function(){return this._matrix},set:function(t){this._matrix=t,this._flagMatrix=!0}},worldMatrix:{enumerable:!0,get:function(){return _a(this,this._worldMatrix),this._worldMatrix},set:function(t){this._worldMatrix=t}}};function Ta(){this._flagMatrix=!0}var Je=class extends Array{constructor(){super(),m(this,"_events",new B),arguments[0]&&Array.isArray(arguments[0])?arguments[0].length>0&&this.push.apply(this,arguments[0]):arguments.length>0&&this.push.apply(this,arguments)}get _bound(){return this._events._bound}set _bound(t){this._events._bound=t}addEventListener(){return this._events.addEventListener.apply(this,arguments)}on(){return this._events.on.apply(this,arguments)}bind(){return this._events.bind.apply(this,arguments)}removeEventListener(){return this._events.removeEventListener.apply(this,arguments)}off(){return this._events.off.apply(this,arguments)}unbind(){return this._events.unbind.apply(this,arguments)}dispatchEvent(){return this._events.dispatchEvent.apply(this,arguments)}trigger(){return this._events.trigger.apply(this,arguments)}listen(){return this._events.listen.apply(this,arguments)}ignore(){return this._events.ignore.apply(this,arguments)}pop(){let t=super.pop.apply(this,arguments);return this.trigger(B.Types.remove,[t]),t}shift(){let t=super.shift.apply(this,arguments);return this.trigger(B.Types.remove,[t]),t}push(){let t=super.push.apply(this,arguments);return this.trigger(B.Types.insert,arguments),t}unshift(){let t=super.unshift.apply(this,arguments);return this.trigger(B.Types.insert,arguments),t}splice(){let t=super.splice.apply(this,arguments);if(this.trigger(B.Types.remove,t),arguments.length>2){let e=this.slice(arguments[0],arguments[0]+arguments.length-2);this.trigger(B.Types.insert,e),this.trigger(B.Types.order)}return t}sort(){return super.sort.apply(this,arguments),this.trigger(B.Types.order),this}reverse(){return super.reverse.apply(this,arguments),this.trigger(B.Types.order),this}indexOf(){return super.indexOf.apply(this,arguments)}map(t,e){let r=[];for(let s=0;s<this.length;s++){let a=this[s],c;e?c=t.call(e,a,s):c=t(a,s),r.push(c)}return r}},Sa=class extends Je{constructor(t){t=Array.isArray(t)?t:Array.prototype.slice.call(arguments),super(t),m(this,"ids",{}),this.attach(t),this.on(B.Types.insert,this.attach),this.on(B.Types.remove,this.detach)}attach(t){for(let e=0;e<t.length;e++){let r=t[e];r&&r.id&&(this.ids[r.id]=r)}return this}detach(t){for(let e=0;e<t.length;e++)delete this.ids[t[e].id];return this}},gr=Math.min,_r=Math.max,Aa=class extends Qe{constructor(t){super(),m(this,"_flagAdditions",!1),m(this,"_flagSubtractions",!1),m(this,"_flagOrder",!1),m(this,"_flagOpacity",!0),m(this,"_flagBeginning",!1),m(this,"_flagEnding",!1),m(this,"_flagLength",!1),m(this,"_flagMask",!1),m(this,"_fill","#fff"),m(this,"_stroke","#000"),m(this,"_linewidth",1),m(this,"_opacity",1),m(this,"_visible",!0),m(this,"_cap","round"),m(this,"_join","round"),m(this,"_miter",4),m(this,"_closed",!0),m(this,"_curved",!1),m(this,"_automatic",!0),m(this,"_beginning",0),m(this,"_ending",1),m(this,"_length",0),m(this,"_mask",null);for(let e in Ns)Object.defineProperty(this,e,Ns[e]);this._renderer.type="group",this.additions=[],this.subtractions=[],this.children=Array.isArray(t)?t:Array.prototype.slice.call(arguments)}static InsertChildren(t){for(let e=0;e<t.length;e++)js.call(this,t[e],this)}static RemoveChildren(t){for(let e=0;e<t.length;e++)js.call(this,t[e])}static OrderChildren(t){this._flagOrder=!0}clone(t){let e=new Aa,r=this.children.map(function(s){return s.clone()});return e.add(r),e.opacity=this.opacity,this.mask&&(e.mask=this.mask),e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.className=this.className,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}toObject(){let t={children:[],translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale instanceof $?this.scale.toObject():this.scale,opacity:this.opacity,className:this.className,mask:this.mask?this.mask.toObject():null};return this.matrix.manual&&(t.matrix=this.matrix.toObject()),J.each(this.children,function(e,r){t.children[r]=e.toObject()},this),t}corner(){let t=this.getBoundingClientRect(!0);for(let e=0;e<this.children.length;e++){let r=this.children[e];r.translation.x-=t.left,r.translation.y-=t.top}return this.mask&&(this.mask.translation.x-=t.left,this.mask.translation.y-=t.top),this}center(){let t=this.getBoundingClientRect(!0),e=t.left+t.width/2-this.translation.x,r=t.top+t.height/2-this.translation.y;for(let s=0;s<this.children.length;s++){let a=this.children[s];a.isShape&&(a.translation.x-=e,a.translation.y-=r)}return this.mask&&(this.mask.translation.x-=e,this.mask.translation.y-=r),this}getById(t){let e=null;function r(s){if(s.id===t)return s;if(s.children){for(let a=0;a<s.children.length;a++)if(e=r(s.children[a]),e)return e}return null}return r(this)}getByClassName(t){let e=[];function r(s){if(Array.prototype.indexOf.call(s.classList,t)>=0&&e.push(s),s.children)for(let a=0;a<s.children.length;a++){let c=s.children[a];r(c)}return e}return r(this)}getByType(t){let e=[];function r(s){if(s instanceof t&&e.push(s),s.children)for(let a=0;a<s.children.length;a++){let c=s.children[a];r(c)}return e}return r(this)}add(t){t instanceof Array?t=t.slice():t=Array.prototype.slice.call(arguments);for(let e=0;e<t.length;e++){let r=t[e];if(!(r&&r.id))continue;let s=Array.prototype.indexOf.call(this.children,r);s>=0&&this.children.splice(s,1),this.children.push(r)}return this}remove(t){let e=arguments.length,r=this.parent;if(e<=0&&r)return r.remove(this),this;t instanceof Array?t=t.slice():t=Array.prototype.slice.call(arguments);for(let s=0;s<t.length;s++){let a=t[s];if(!a||!this.children.ids[a.id])continue;let c=this.children.indexOf(a);c>=0&&this.children.splice(c,1)}return this}getBoundingClientRect(t){let e,r,s,a,c,f;this._update(!0);let p=1/0,y=-1/0,_=1/0,T=-1/0,C=/texture|gradient/i;r=t?this.matrix:this.worldMatrix;for(let A=0;A<this.children.length;A++){let x=this.children[A];if(!(!x.visible||C.test(x._renderer.type))&&(e=x.getBoundingClientRect(t),s=typeof e.top!="number"||J.isNaN(e.top)||!isFinite(e.top),a=typeof e.left!="number"||J.isNaN(e.left)||!isFinite(e.left),c=typeof e.right!="number"||J.isNaN(e.right)||!isFinite(e.right),f=typeof e.bottom!="number"||J.isNaN(e.bottom)||!isFinite(e.bottom),!(s||a||c||f)))if(t){let[k,N]=r.multiply(e.left,e.top),[M,R]=r.multiply(e.right,e.top),[L,q]=r.multiply(e.left,e.bottom),[z,H]=r.multiply(e.right,e.bottom);_=gr(N,R,q,H),p=gr(k,M,L,z),y=_r(k,M,L,z),T=_r(N,R,q,H)}else _=gr(e.top,_),p=gr(e.left,p),y=_r(e.right,y),T=_r(e.bottom,T)}return{top:_,left:p,right:y,bottom:T,width:y-p,height:T-_}}noFill(){return this.children.forEach(function(t){t.noFill()}),this}noStroke(){return this.children.forEach(function(t){t.noStroke()}),this}subdivide(){let t=arguments;return this.children.forEach(function(e){e.subdivide.apply(e,t)}),this}_update(){let t,e,r;if(this._flagBeginning||this._flagEnding){let s=Math.min(this._beginning,this._ending),a=Math.max(this._beginning,this._ending),c=this.length,f=0,p=s*c,y=a*c;for(t=0;t<this.children.length;t++)r=this.children[t],e=r.length,p>f+e?(r.beginning=1,r.ending=1):y<f?(r.beginning=0,r.ending=0):p>f&&p<f+e?(r.beginning=(p-f)/e,r.ending=1):y>f&&y<f+e?(r.beginning=0,r.ending=(y-f)/e):(r.beginning=0,r.ending=1),f+=e}return super._update.apply(this,arguments)}flagReset(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=this._flagBeginning=this._flagEnding=!1,super.flagReset.call(this),this}},Xt=Aa;m(Xt,"Children",Sa);m(Xt,"Properties",["fill","stroke","linewidth","cap","join","miter","closed","curved","automatic"]);var Ns={visible:{enumerable:!0,get:function(){return this._visible},set:function(t){this._flagVisible=this._visible!==t||this._flagVisible,this._visible=t}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._flagOpacity=this._opacity!==t||this._flagOpacity,this._opacity=t}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(t){this._flagBeginning=this._beginning!==t||this._flagBeginning,this._beginning=t}},ending:{enumerable:!0,get:function(){return this._ending},set:function(t){this._flagEnding=this._ending!==t||this._flagEnding,this._ending=t}},length:{enumerable:!0,get:function(){if(this._flagLength||this._length<=0){if(this._length=0,!this.children)return this._length;for(let t=0;t<this.children.length;t++){let e=this.children[t];this._length+=e.length}}return this._length}},fill:{enumerable:!0,get:function(){return this._fill},set:function(t){this._fill=t;for(let e=0;e<this.children.length;e++){let r=this.children[e];r.fill=t}}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(t){this._stroke=t;for(let e=0;e<this.children.length;e++){let r=this.children[e];r.stroke=t}}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(t){this._linewidth=t;for(let e=0;e<this.children.length;e++){let r=this.children[e];r.linewidth=t}}},join:{enumerable:!0,get:function(){return this._join},set:function(t){this._join=t;for(let e=0;e<this.children.length;e++){let r=this.children[e];r.join=t}}},miter:{enumerable:!0,get:function(){return this._miter},set:function(t){this._miter=t;for(let e=0;e<this.children.length;e++){let r=this.children[e];r.miter=t}}},cap:{enumerable:!0,get:function(){return this._cap},set:function(t){this._cap=t;for(let e=0;e<this.children.length;e++){let r=this.children[e];r.cap=t}}},closed:{enumerable:!0,get:function(){return this._closed},set:function(t){this._closed=t;for(let e=0;e<this.children.length;e++){let r=this.children[e];r.closed=t}}},curved:{enumerable:!0,get:function(){return this._curved},set:function(t){this._curved=t;for(let e=0;e<this.children.length;e++){let r=this.children[e];r.curved=t}}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(t){this._automatic=t;for(let e=0;e<this.children.length;e++){let r=this.children[e];r.automatic=t}}},children:{enumerable:!0,get:function(){return this._children},set:function(t){let e=Xt.InsertChildren.bind(this),r=Xt.RemoveChildren.bind(this),s=Xt.OrderChildren.bind(this);this._children&&(this._children.unbind(),this._children.length>0&&r(this._children)),this._children=new Sa(t),this._children.bind(B.Types.insert,e),this._children.bind(B.Types.remove,r),this._children.bind(B.Types.order,s),t.length>0&&e(t)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,J.isObject(t)&&!t.clip&&(t.clip=!0)}}};function js(t,e){let r=t.parent,s;if(r===e){a();return}if(r&&r.children.ids[t.id]&&(s=Array.prototype.indexOf.call(r.children,t),r.children.splice(s,1),c()),e){a();return}c(),r._flagAdditions&&r.additions.length===0&&(r._flagAdditions=!1),r._flagSubtractions&&r.subtractions.length===0&&(r._flagSubtractions=!1),delete t.parent;function a(){e.subtractions.length>0&&(s=Array.prototype.indexOf.call(e.subtractions,t),s>=0&&e.subtractions.splice(s,1)),e.additions.length>0&&(s=Array.prototype.indexOf.call(e.additions,t),s>=0&&e.additions.splice(s,1)),t.parent=e,e.additions.push(t),e._flagAdditions=!0}function c(){s=Array.prototype.indexOf.call(r.additions,t),s>=0&&r.additions.splice(s,1),s=Array.prototype.indexOf.call(r.subtractions,t),s<0&&(r.subtractions.push(t),r._flagSubtractions=!0)}}var bn=[],Sn=Math.max,dl=Math.min,Ds=Math.abs,mr=Math.sin,yr=Math.cos,pl=Math.acos,Mr=Math.sqrt,Vt={isHidden:/(undefined|none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},shim:function(t,e){return t.tagName=t.nodeName=e||"canvas",t.nodeType=1,t.getAttribute=function(r){return this[r]},t.setAttribute=function(r,s){return this[r]=s,this},t},group:{renderChild:function(t){Vt[t._renderer.type].render.call(t,this.ctx,!0,this.clip)},render:function(t){if(!this._visible)return this;this._update();let e=this._matrix.elements,r=this.parent;this._renderer.opacity=this._opacity*(r&&r._renderer?r._renderer.opacity:1);let s=this._mask,a=br(e),c=!a||!!s;if(this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=t,c&&(t.save(),a||t.transform(e[0],e[3],e[1],e[4],e[2],e[5])),s&&Vt[s._renderer.type].render.call(s,t,!0),this._opacity>0&&this._scale!==0)for(let f=0;f<this.children.length;f++){let p=this.children[f];Vt[p._renderer.type].render.call(p,t)}return c&&t.restore(),this.flagReset()}},path:{render:function(t,e,r){let s,a,c,f,p,y,_,T,C,A,x,k,N,M,R,L,q,z,H,l,Z,G,nt,Q,_t,K,Tt,gt,zt,St,at,it,ct,mt;if(mt=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,zt=this._mask,St=this._clip,p=this._opacity*(mt||1),y=this._visible,!e&&(!y||St||p===0))return this;this._update(),s=this._matrix.elements,a=this._stroke,c=this._linewidth,f=this._fill,_=this._cap,T=this._join,C=this._miter,A=this._closed,x=this._renderer.vertices,k=x.length,N=k-1,at=br(s),ct=this.dashes,at||(t.save(),t.transform(s[0],s[3],s[1],s[4],s[2],s[5])),zt&&Vt[zt._renderer.type].render.call(zt,t,!0),f&&(typeof f=="string"?t.fillStyle=f:(Vt[f._renderer.type].render.call(f,t,this),t.fillStyle=f._renderer.effect)),a&&(typeof a=="string"?t.strokeStyle=a:(Vt[a._renderer.type].render.call(a,t,this),t.strokeStyle=a._renderer.effect),c&&(t.lineWidth=c),C&&(t.miterLimit=C),T&&(t.lineJoin=T),!A&&_&&(t.lineCap=_)),typeof p=="number"&&(t.globalAlpha=p),ct&&ct.length>0&&(t.lineDashOffset=ct.offset||0,t.setLineDash(ct)),t.beginPath();let tt,Pt,Kt,Ut,Ot,Et,Wt;for(let Lt=0;Lt<k;Lt++)switch(L=x[Lt],Tt=L.x,gt=L.y,L.command){case V.close:t.closePath();break;case V.arc:tt=L.rx,Pt=L.ry,Kt=L.xAxisRotation,Ut=L.largeArcFlag,Ot=L.sweepFlag,M=A?ge(Lt-1,k):Sn(Lt-1,0),R=x[M],Et=R.x,Wt=R.y,Vt.renderSvgArcCommand(t,Et,Wt,tt,Pt,Ut,Ot,Kt,Tt,gt);break;case V.curve:M=A?ge(Lt-1,k):Math.max(Lt-1,0),R=x[M],nt=R.controls&&R.controls.right||$.zero,Q=L.controls&&L.controls.left||$.zero,R._relative?(Z=nt.x+R.x,G=nt.y+R.y):(Z=nt.x,G=nt.y),L._relative?(H=Q.x+L.x,l=Q.y+L.y):(H=Q.x,l=Q.y),t.bezierCurveTo(Z,G,H,l,Tt,gt),Lt>=N&&A&&(q=z,_t=L.controls&&L.controls.right||$.zero,K=q.controls&&q.controls.left||$.zero,L._relative?(Z=_t.x+L.x,G=_t.y+L.y):(Z=_t.x,G=_t.y),q._relative?(H=K.x+q.x,l=K.y+q.y):(H=K.x,l=K.y),Tt=q.x,gt=q.y,t.bezierCurveTo(Z,G,H,l,Tt,gt));break;case V.line:t.lineTo(Tt,gt);break;case V.move:z=L,t.moveTo(Tt,gt);break}return A&&t.closePath(),!St&&!r&&(Vt.isHidden.test(f)||(it=f._renderer&&f._renderer.offset,it&&(t.save(),t.translate(-f._renderer.offset.x,-f._renderer.offset.y),t.scale(f._renderer.scale.x,f._renderer.scale.y)),t.fill(),it&&t.restore()),Vt.isHidden.test(a)||(it=a._renderer&&a._renderer.offset,it&&(t.save(),t.translate(-a._renderer.offset.x,-a._renderer.offset.y),t.scale(a._renderer.scale.x,a._renderer.scale.y),t.lineWidth=c/a._renderer.scale.x),t.stroke(),it&&t.restore())),at||t.restore(),St&&!r&&t.clip(),ct&&ct.length>0&&t.setLineDash(bn),this.flagReset()}},points:{render:function(t,e,r){let s,a,c,f,p,y,_,T,C,A,x,k,N,M,R,L;if(L=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,p=this._opacity*(L||1),y=this._visible,!e&&(!y||p===0))return this;this._update(),s=this._matrix.elements,a=this._stroke,c=this._linewidth,f=this._fill,T=this._renderer.collection,C=T.length,N=br(s),R=this.dashes,_=this._size,N||(t.save(),t.transform(s[0],s[3],s[1],s[4],s[2],s[5])),f&&(typeof f=="string"?t.fillStyle=f:(Vt[f._renderer.type].render.call(f,t,this),t.fillStyle=f._renderer.effect)),a&&(typeof a=="string"?t.strokeStyle=a:(Vt[a._renderer.type].render.call(a,t,this),t.strokeStyle=a._renderer.effect),c&&(t.lineWidth=c)),typeof p=="number"&&(t.globalAlpha=p),R&&R.length>0&&(t.lineDashOffset=R.offset||0,t.setLineDash(R)),t.beginPath();let q=_*.5,z;this._sizeAttenuation||(z=this.worldMatrix.elements,z=Si(z[0],z[3],z[1],z[4],z[2],z[5]),q/=Math.max(z.scaleX,z.scaleY));for(let H=0;H<C;H++)A=T[H],x=A.x,k=A.y,t.moveTo(x+q,k),t.arc(x,k,q,0,ne);return r||(Vt.isHidden.test(f)||(M=f._renderer&&f._renderer.offset,M&&(t.save(),t.translate(-f._renderer.offset.x,-f._renderer.offset.y),t.scale(f._renderer.scale.x,f._renderer.scale.y)),t.fill(),M&&t.restore()),Vt.isHidden.test(a)||(M=a._renderer&&a._renderer.offset,M&&(t.save(),t.translate(-a._renderer.offset.x,-a._renderer.offset.y),t.scale(a._renderer.scale.x,a._renderer.scale.y),t.lineWidth=c/a._renderer.scale.x),t.stroke(),M&&t.restore())),N||t.restore(),R&&R.length>0&&t.setLineDash(bn),this.flagReset()}},text:{render:function(t,e,r){let s=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,a=this._opacity*s,c=this._visible,f=this._mask,p=this._clip;if(!e&&(!c||p||a===0))return this;this._update();let y=this._matrix.elements,_=this._stroke,T=this._linewidth,C=this._fill,A=this._decoration,x=br(y),k=C._renderer&&C._renderer.offset&&_._renderer&&_._renderer.offset,N=this.dashes,M=Vt.alignments[this._alignment]||this._alignment,R=this._baseline,L,q,z,H,l,Z,G,nt,Q,_t,K;if(x||(t.save(),t.transform(y[0],y[3],y[1],y[4],y[2],y[5])),f&&Vt[f._renderer.type].render.call(f,t,!0),k||(t.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" ")),t.textAlign=M,t.textBaseline=R,C&&(typeof C=="string"?t.fillStyle=C:(Vt[C._renderer.type].render.call(C,t,this),t.fillStyle=C._renderer.effect)),_&&(typeof _=="string"?t.strokeStyle=_:(Vt[_._renderer.type].render.call(_,t,this),t.strokeStyle=_._renderer.effect),T&&(t.lineWidth=T)),typeof a=="number"&&(t.globalAlpha=a),N&&N.length>0&&(t.lineDashOffset=N.offset||0,t.setLineDash(N)),!p&&!r&&(Vt.isHidden.test(C)||(C._renderer&&C._renderer.offset?(Z=C._renderer.scale.x,G=C._renderer.scale.y,t.save(),t.translate(-C._renderer.offset.x,-C._renderer.offset.y),t.scale(Z,G),L=this._size/C._renderer.scale.y,q=this._leading/C._renderer.scale.y,t.font=[this._style,this._weight,L+"px/",q+"px",this._family].join(" "),z=C._renderer.offset.x/C._renderer.scale.x,H=C._renderer.offset.y/C._renderer.scale.y,t.fillText(this.value,z,H),t.restore()):t.fillText(this.value,0,0)),Vt.isHidden.test(_)||(_._renderer&&_._renderer.offset?(Z=_._renderer.scale.x,G=_._renderer.scale.y,t.save(),t.translate(-_._renderer.offset.x,-_._renderer.offset.y),t.scale(Z,G),L=this._size/_._renderer.scale.y,q=this._leading/_._renderer.scale.y,t.font=[this._style,this._weight,L+"px/",q+"px",this._family].join(" "),z=_._renderer.offset.x/_._renderer.scale.x,H=_._renderer.offset.y/_._renderer.scale.y,l=T/_._renderer.scale.x,t.lineWidth=l,t.strokeText(this.value,z,H),t.restore()):t.strokeText(this.value,0,0))),/(underline|strikethrough)/i.test(A)){let Tt=t.measureText(this.value),gt=1;switch(A){case"underline":Q=Tt.actualBoundingBoxAscent,K=Tt.actualBoundingBoxAscent;break;case"strikethrough":Q=0,K=0,gt=.5;break}switch(R){case"top":Q+=this._size*gt,K+=this._size*gt;break;case"baseline":case"bottom":Q-=this._size*gt,K-=this._size*gt;break}switch(M){case"left":case"start":nt=0,_t=Tt.width;break;case"right":case"end":nt=-Tt.width,_t=0;break;default:nt=-Tt.width/2,_t=Tt.width/2}t.lineWidth=Math.max(Math.floor(this._size/15),1),t.strokeStyle=t.fillStyle,t.beginPath(),t.moveTo(nt,Q),t.lineTo(_t,K),t.stroke()}return x||t.restore(),p&&!r&&t.clip(),N&&N.length>0&&t.setLineDash(bn),this.flagReset()}},"linear-gradient":{render:function(t,e){if(!!e){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let r,s=this.left._x,a=this.left._y,c=this.right._x,f=this.right._y;/objectBoundingBox/i.test(this._units)&&(r=e.getBoundingClientRect(!0),s=(s-.5)*r.width,a=(a-.5)*r.height,c=(c-.5)*r.width,f=(f-.5)*r.height),this._renderer.effect=t.createLinearGradient(s,a,c,f);for(let p=0;p<this.stops.length;p++){let y=this.stops[p];this._renderer.effect.addColorStop(y._offset,y._color)}}return this.flagReset()}}},"radial-gradient":{render:function(t,e){if(!!e){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let r,s=this.center._x,a=this.center._y,c=this.focal._x,f=this.focal._y,p=this._radius;/objectBoundingBox/i.test(this._units)&&(r=e.getBoundingClientRect(!0),s=s*r.width*.5,a=a*r.height*.5,c=c*r.width*.5,f=f*r.height*.5,p*=Math.min(r.width,r.height)*.5),this._renderer.effect=t.createRadialGradient(s,a,0,c,f,p);for(let y=0;y<this.stops.length;y++){let _=this.stops[y];this._renderer.effect.addColorStop(_._offset,_._color)}}return this.flagReset()}}},texture:{render:function(t){this._update();let e=this.image;return(!this._renderer.effect||(this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)&&(this._renderer.effect=t.createPattern(this.image,this._repeat)),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof $||(this._renderer.offset=new $),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,e&&(this._renderer.offset.x+=e.width/2,this._renderer.offset.y+=e.height/2,this._scale instanceof $?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof $||(this._renderer.scale=new $),this._scale instanceof $?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},renderSvgArcCommand:function(t,e,r,s,a,c,f,p,y,_){p=p*Math.PI/180,s=Ds(s),a=Ds(a);let T=(e-y)/2,C=(r-_)/2,A=yr(p)*T+mr(p)*C,x=-mr(p)*T+yr(p)*C,k=A*A,N=x*x,M=s*s,R=a*a,L=k/M+N/R;if(L>1){let gt=Mr(L);s=gt*s,a=gt*a,M=s*s,R=a*a}let q=M*N+R*k,z=(M*R-q)/q,H=Mr(Sn(0,z));c===f&&(H=-H);let l=H*s*x/a,Z=-H*a*A/s,G=yr(p)*l-mr(p)*Z+(e+y)/2,nt=mr(p)*l+yr(p)*Z+(r+_)/2,Q=Bs(1,0,(A-l)/s,(x-Z)/a),_t=Bs((A-l)/s,(x-Z)/a,(-A-l)/s,(-x-Z)/a)%ne,K=Q+_t;gl(t,G,nt,s,a,Q,K,f===0,p)}},Xi=class extends B{constructor(t){super();let e=t.smoothing!==!1;this.domElement=t.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=t.overdraw||!1,typeof this.ctx.imageSmoothingEnabled<"u"&&(this.ctx.imageSmoothingEnabled=e),this.scene=new Xt,this.scene.parent=this}setSize(t,e,r){return this.width=t,this.height=e,this.ratio=typeof r>"u"?Fn(this.ctx):r,this.domElement.width=t*this.ratio,this.domElement.height=e*this.ratio,this.domElement.style&&J.extend(this.domElement.style,{width:t+"px",height:e+"px"}),this.trigger(B.Types.resize,t,e,r)}render(){let t=this.ratio===1;return t||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),Vt.group.render.call(this.scene,this.ctx),t||this.ctx.restore(),this}};m(Xi,"Utils",Vt);function gl(t,e,r,s,a,c,f,p,y){let _=f-c,T=Ai.Tolerance.epsilon,C=Math.abs(_)<T,A=ge(_,ne);A<T&&(C?A=0:A=ne),p===!0&&!C&&(A===ne?A=-ne:A=A-ne);for(let x=0;x<Gt.Resolution;x++){let k=x/(Gt.Resolution-1),N=c+k*A,M=e+s*Math.cos(N),R=r+a*Math.sin(N);if(y!==0){let L=Math.cos(y),q=Math.sin(y),z=M-e,H=R-r;M=z*L-H*q+e,R=z*q+H*L+r}t.lineTo(M,R)}}function Bs(t,e,r,s){let a=t*r+e*s,c=Mr(t*t+e*e)*Mr(r*r+s*s),f=pl(Sn(-1,dl(1,a/c)));return t*s-e*r<0&&(f=-f),f}function br(t){return t[0]==1&&t[3]==0&&t[1]==0&&t[4]==1&&t[2]==0&&t[5]==0}var de={Image:null,isHeadless:!1,shim:function(t,e){return Xi.Utils.shim(t),typeof e<"u"&&(de.Image=e),de.isHeadless=!0,t}},ue={hasEventListeners:typeof Bt.addEventListener=="function",bind:function(t,e,r,s){return this.hasEventListeners?t.addEventListener(e,r,!!s):t.attachEvent("on"+e,r),ue},unbind:function(t,e,r,s){return ue.hasEventListeners?t.removeEventListeners(e,r,!!s):t.detachEvent("on"+e,r),ue},getRequestAnimationFrame:function(){let t=["ms","moz","webkit","o"],e=0,r=Bt.requestAnimationFrame;if(!r){for(let a=0;a<t.length;a++)r=Bt[t[a]+"RequestAnimationFrame"]||r;r=r||s}function s(a,c){let f=new Date().getTime(),p=Math.max(0,16-(f-e)),y=Bt.setTimeout(_,p);e=f+p;function _(){a(f+p)}return y}return r}},Ti=Bt.document?Bt.document.createElement("div"):{};Ti.id="help-two-load";Object.defineProperty(ue,"temp",{enumerable:!0,get:function(){return J.isElement(Ti)&&!Bt.document.head.contains(Ti)&&(Ti.style.display="none",Bt.document.head.appendChild(Ti)),Ti}});var pe=class extends Error{constructor(t){super(),m(this,"name","Two.js"),m(this,"message"),this.message=t}},Pr=class{constructor(){m(this,"map",{})}add(t,e){return this.map[t]=e,this}remove(t){return delete this.map[t],this}get(t){return this.map[t]}contains(t){return t in this.map}};function qs(t,e){if(e===0||e===1)return!0;let s=t._length*e,a=0;for(let c=0;c<t._lengths.length;c++){let f=t._lengths[c];if(a>=s)return s-a>=0;a+=f}return!1}function Fr(t,e){let r=t._length;if(e<=0)return 0;if(e>=r)return t._lengths.length-1;for(let s=0,a=0;s<t._lengths.length;s++){if(a+t._lengths[s]>=e)return e-=a,Math.max(s-1,0)+e/t._lengths[s];a+=t._lengths[s]}return-1}function An(t,e,r){let s,a,c,f,p,y,_,T,C=e.controls&&e.controls.right,A=t.controls&&t.controls.left;return s=e.x,p=e.y,a=(C||e).x,y=(C||e).y,c=(A||t).x,_=(A||t).y,f=t.x,T=t.y,C&&e._relative&&(a+=e.x,y+=e.y),A&&t._relative&&(c+=t.x,_+=t.y),ba(s,p,a,y,c,_,f,T,r)}function Hs(t,e,r){let s,a,c,f,p,y,_,T,C=e.controls&&e.controls.right,A=t.controls&&t.controls.left;return s=e.x,p=e.y,a=(C||e).x,y=(C||e).y,c=(A||t).x,_=(A||t).y,f=t.x,T=t.y,C&&e._relative&&(a+=e.x,y+=e.y),A&&t._relative&&(c+=t.x,_+=t.y),Mn(s,p,a,y,c,_,f,T,r)}var Ke=class extends Or{constructor(t,e,r){super(),m(this,"_flagOffset",!0),m(this,"_flagOpacity",!0),m(this,"_flagColor",!0),m(this,"_offset",0),m(this,"_opacity",1),m(this,"_color","#fff");for(let s in zs)Object.defineProperty(this,s,zs[s]);this._renderer.type="stop",this.offset=typeof t=="number"?t:Ke.Index<=0?0:1,this.opacity=typeof r=="number"?r:1,this.color=typeof e=="string"?e:Ke.Index<=0?"#fff":"#000",Ke.Index=(Ke.Index+1)%2}clone(t){let e=new Ke;return J.each(Ke.Properties,function(r){e[r]=this[r]},this),t&&t.stops&&t.stops.push(e),e}toObject(){let t={};return J.each(Ke.Properties,function(e){t[e]=this[e]},this),t}flagReset(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,super.flagReset.call(this),this}},Ze=Ke;m(Ze,"Index",0);m(Ze,"Properties",["offset","opacity","color"]);var zs={offset:{enumerable:!0,get:function(){return this._offset},set:function(t){this._offset=t,this._flagOffset=!0,this.parent&&(this.parent._flagStops=!0)}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._opacity=t,this._flagOpacity=!0,this.parent&&(this.parent._flagStops=!0)}},color:{enumerable:!0,get:function(){return this._color},set:function(t){this._color=t,this._flagColor=!0,this.parent&&(this.parent._flagStops=!0)}}},xr=class extends Or{constructor(t){super(),m(this,"_flagStops",!1),m(this,"_flagSpread",!1),m(this,"_flagUnits",!1),m(this,"_spread",""),m(this,"_units","");for(let e in Us)Object.defineProperty(this,e,Us[e]);this._renderer.type="gradient",this.id=Gt.Identifier+Gt.uniqueId(),this.classList=[],this._renderer.flagStops=_l.bind(this),this._renderer.bindStops=ml.bind(this),this._renderer.unbindStops=yl.bind(this),this.spread="pad",this.units="objectBoundingBox",t&&(this.stops=t)}clone(t){let e=this.stops.map(function(s){return s.clone()}),r=new xr(e);return J.each(xr.Properties,function(s){r[s]=this[s]},this),t&&t.add(r),r}toObject(){let t={stops:this.stops.map(function(e){return e.toObject()})};return J.each(xr.Properties,function(e){t[e]=this[e]},this),t}_update(){return(this._flagSpread||this._flagStops)&&this.trigger(B.Types.change),this}flagReset(){return this._flagSpread=this._flagUnits=this._flagStops=!1,super.flagReset.call(this),this}},Yt=xr;m(Yt,"Stop",Ze);m(Yt,"Properties",["spread","stops","renderer","units"]);var Us={spread:{enumerable:!0,get:function(){return this._spread},set:function(t){this._spread=t,this._flagSpread=!0}},units:{enumerable:!0,get:function(){return this._units},set:function(t){this._units=t,this._flagUnits=!0}},stops:{enumerable:!0,get:function(){return this._stops},set:function(t){let e=this._renderer.bindStops,r=this._renderer.unbindStops;this._stops&&this._stops.unbind(B.Types.insert,e).unbind(B.Types.remove,r),this._stops=new Je((t||[]).slice(0)),this._stops.bind(B.Types.insert,e).bind(B.Types.remove,r),e(this._stops)}}};function _l(){this._flagStops=!0}function ml(t){let e=t.length;for(;e--;)t[e].bind(B.Types.change,this._renderer.flagStops),t[e].parent=this;this._renderer.flagStops()}function yl(t){let e=t.length;for(;e--;)t[e].unbind(B.Types.change,this._renderer.flagStops),delete t[e].parent;this._renderer.flagStops()}var Ca=class extends Yt{constructor(t,e,r,s,a){super(a),m(this,"_flagEndPoints",!1),m(this,"_left",null),m(this,"_right",null);for(let c in Vs)Object.defineProperty(this,c,Vs[c]);this._renderer.type="linear-gradient",this._renderer.flagEndPoints=bl.bind(this),this.left=new $,this.right=new $,typeof t=="number"&&(this.left.x=t),typeof e=="number"&&(this.left.y=e),typeof r=="number"&&(this.right.x=r),typeof s=="number"&&(this.right.y=s)}clone(t){let e=this.stops.map(function(s){return s.clone()}),r=new Ca(this.left._x,this.left._y,this.right._x,this.right._y,e);return J.each(Yt.Properties,function(s){r[s]=this[s]},this),t&&t.add(r),r}toObject(){let t=super.toObject.call(this);return t.left=this.left.toObject(),t.right=this.right.toObject(),t}_update(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(B.Types.change),this}flagReset(){return this._flagEndPoints=!1,super.flagReset.call(this),this}},jt=Ca;m(jt,"Properties",["left","right"]);m(jt,"Stop",Ze);var Vs={left:{enumerable:!0,get:function(){return this._left},set:function(t){this._left instanceof $&&this._left.unbind(B.Types.change,this._renderer.flagEndPoints),this._left=t,this._left.bind(B.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}},right:{enumerable:!0,get:function(){return this._right},set:function(t){this._right instanceof $&&this._right.unbind(B.Types.change,this._renderer.flagEndPoints),this._right=t,this._right.bind(B.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}}};function bl(){this._flagEndPoints=!0}var wr=class extends Yt{constructor(t,e,r,s,a,c){super(s),m(this,"_flagRadius",!1),m(this,"_flagCenter",!1),m(this,"_flagFocal",!1),m(this,"_radius",0),m(this,"_center",null),m(this,"_focal",null);for(let f in Ws)Object.defineProperty(this,f,Ws[f]);this._renderer.type="radial-gradient",this._renderer.flagCenter=vl.bind(this),this._renderer.flagFocal=xl.bind(this),this.center=new $,this.radius=typeof r=="number"?r:1,this.focal=new $,typeof t=="number"&&(this.center.x=t),typeof e=="number"&&(this.center.y=e),this.focal.copy(this.center),typeof a=="number"&&(this.focal.x=a),typeof c=="number"&&(this.focal.y=c)}clone(t){let e=this.stops.map(function(s){return s.clone()}),r=new wr(this.center._x,this.center._y,this._radius,e,this.focal._x,this.focal._y);return J.each(Yt.Properties.concat(wr.Properties),function(s){r[s]=this[s]},this),t&&t.add(r),r}toObject(){let t=super.toObject.call(this);return J.each(wr.Properties,function(e){t[e]=this[e]},this),t.center=this.center.toObject(),t.focal=this.focal.toObject(),t}_update(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(B.Types.change),this}flagReset(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,super.flagReset.call(this),this}},Dt=wr;m(Dt,"Stop",Ze);m(Dt,"Properties",["center","radius","focal"]);var Ws={radius:{enumerable:!0,get:function(){return this._radius},set:function(t){this._radius=t,this._flagRadius=!0}},center:{enumerable:!0,get:function(){return this._center},set:function(t){this._center&&this._center.unbind(B.Types.change,this._renderer.flagCenter),this._center=t,this._center.bind(B.Types.change,this._renderer.flagCenter),this._flagCenter=!0}},focal:{enumerable:!0,get:function(){return this._focal},set:function(t){this._focal&&this._focal.unbind(B.Types.change,this._renderer.flagFocal),this._focal=t,this._focal.bind(B.Types.change,this._renderer.flagFocal),this._flagFocal=!0}}};function vl(){this._flagCenter=!0}function xl(){this._flagFocal=!0}var kr,Ea={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};Bt.document&&(kr=document.createElement("a"));var Zt=class extends Or{constructor(t,e){super(),m(this,"_flagSrc",!1),m(this,"_flagImage",!1),m(this,"_flagVideo",!1),m(this,"_flagLoaded",!1),m(this,"_flagRepeat",!1),m(this,"_flagOffset",!1),m(this,"_flagScale",!1),m(this,"_src",""),m(this,"_image",null),m(this,"_loaded",!1),m(this,"_repeat","no-repeat"),m(this,"_scale",1),m(this,"_offset",null),this._renderer={};for(let r in $s)Object.defineProperty(this,r,$s[r]);if(this._renderer.type="texture",this._renderer.flagOffset=wl.bind(this),this._renderer.flagScale=kl.bind(this),this.id=Gt.Identifier+Gt.uniqueId(),this.classList=[],this.loaded=!1,this.repeat="no-repeat",this.offset=new $,typeof e=="function"){let r=function(){this.unbind(B.Types.load,r),typeof e=="function"&&e()}.bind(this);this.bind(B.Types.load,r)}if(typeof t=="string")this.src=t;else if(typeof t=="object"){let r=Object.prototype.toString.call(t);(r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]"||r==="[object HTMLVideoElement]"||r==="[object Image]")&&(this.image=t)}this._update()}static getAbsoluteURL(t){return kr?(kr.href=t,kr.href):t}static loadHeadlessBuffer(t,e){t.image.onload=e,t.image.src=t.src}static getTag(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||"img"}static getImage(t){let e=Zt.getAbsoluteURL(t);if(Zt.ImageRegistry.contains(e))return Zt.ImageRegistry.get(e);let r;return de.Image?(r=new de.Image,Xi.Utils.shim(r,"img")):Bt.document?Ea.video.test(e)?r=document.createElement("video"):r=document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),r.crossOrigin="anonymous",r}static load(t,e){let r=t.image,s=Zt.getTag(r);t._flagImage&&(/canvas/i.test(s)?Zt.Register.canvas(t,e):(t._src=!de.isHeadless&&r.getAttribute("two-src")||r.src,Zt.Register[s](t,e))),t._flagSrc&&(r||(r=Zt.getImage(t.src),t.image=r),s=Zt.getTag(r),Zt.Register[s](t,e))}clone(){let t=new Zt(this.src);return t.repeat=this.repeat,t.offset.copy(this.origin),t.scale=this.scale,t}toObject(){return{src:this.src,repeat:this.repeat,origin:this.origin.toObject(),scale:typeof this.scale=="number"?this.scale:this.scale.toObject()}}_update(){return(this._flagSrc||this._flagImage)&&(this.trigger(B.Types.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,Zt.load(this,function(){this.loaded=!0,this.trigger(B.Types.change).trigger(B.Types.load)}.bind(this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this}flagReset(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagRepeat=this._flagVideo=this._flagScale=this._flagOffset=!1,super.flagReset.call(this),this}},Rt=Zt;m(Rt,"Properties",["src","loaded","repeat","scale","offset","image"]);m(Rt,"RegularExpressions",Ea);m(Rt,"ImageRegistry",new Pr);m(Rt,"Register",{canvas:function(t,e){t._src="#"+t.id,Zt.ImageRegistry.add(t.src,t.image),typeof e=="function"&&e()},img:function(t,e){let r=t.image,s=function(c){!de.isHeadless&&r.removeEventListener&&typeof r.removeEventListener=="function"&&(r.removeEventListener("load",s,!1),r.removeEventListener("error",a,!1)),typeof e=="function"&&e()},a=function(c){throw!de.isHeadless&&typeof r.removeEventListener=="function"&&(r.removeEventListener("load",s,!1),r.removeEventListener("error",a,!1)),new pe("unable to load "+t.src)};typeof r.width=="number"&&r.width>0&&typeof r.height=="number"&&r.height>0?s():!de.isHeadless&&typeof r.addEventListener=="function"&&(r.addEventListener("load",s,!1),r.addEventListener("error",a,!1)),t._src=Zt.getAbsoluteURL(t._src),!(!de.isHeadless&&r&&r.getAttribute("two-src"))&&(de.isHeadless||r.setAttribute("two-src",t.src),Zt.ImageRegistry.add(t.src,r),de.isHeadless?Zt.loadHeadlessBuffer(t,s):t.image.src=t.src)},video:function(t,e){if(de.isHeadless)throw new pe("video textures are not implemented in headless environments.");let r=function(a){t.image.removeEventListener("canplaythrough",r,!1),t.image.removeEventListener("error",s,!1),t.image.width=t.image.videoWidth,t.image.height=t.image.videoHeight,typeof e=="function"&&e()},s=function(a){throw t.image.removeEventListener("canplaythrough",r,!1),t.image.removeEventListener("error",s,!1),new pe("unable to load "+t.src)};t._src=Zt.getAbsoluteURL(t._src),t.image.getAttribute("two-src")||(t.image.setAttribute("two-src",t.src),Zt.ImageRegistry.add(t.src,t.image)),t.image.readyState>=4?r():(t.image.addEventListener("canplaythrough",r,!1),t.image.addEventListener("error",s,!1),t.image.src=t.src,t.image.load())}});var $s={src:{enumerable:!0,get:function(){return this._src},set:function(t){this._src=t,this._flagSrc=!0}},loaded:{enumerable:!0,get:function(){return this._loaded},set:function(t){this._loaded=t,this._flagLoaded=!0}},repeat:{enumerable:!0,get:function(){return this._repeat},set:function(t){this._repeat=t,this._flagRepeat=!0}},image:{enumerable:!0,get:function(){return this._image},set:function(t){let e=Rt.getTag(t),r;switch(e){case"canvas":r="#"+t.id;break;default:r=t.src}Rt.ImageRegistry.contains(r)?this._image=Rt.ImageRegistry.get(t.src):this._image=t,this._flagImage=!0}},offset:{enumerable:!0,get:function(){return this._offset},set:function(t){this._offset&&this._offset.unbind(B.Types.change,this._renderer.flagOffset),this._offset=t,this._offset.bind(B.Types.change,this._renderer.flagOffset),this._flagOffset=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(t){this._scale instanceof $&&this._scale.unbind(B.Types.change,this._renderer.flagScale),this._scale=t,this._scale instanceof $&&this._scale.bind(B.Types.change,this._renderer.flagScale),this._flagScale=!0}}};function wl(){this._flagOffset=!0}function kl(){this._flagScale=!0}var wi=Math.min,ki=Math.max,Tl=Math.ceil,Sl=Math.floor,Al=new $,Hi=class extends Qe{constructor(t,e,r,s){super(),m(this,"_flagVertices",!0),m(this,"_flagLength",!0),m(this,"_flagFill",!0),m(this,"_flagStroke",!0),m(this,"_flagLinewidth",!0),m(this,"_flagOpacity",!0),m(this,"_flagVisible",!0),m(this,"_flagCap",!0),m(this,"_flagJoin",!0),m(this,"_flagMiter",!0),m(this,"_flagMask",!1),m(this,"_flagClip",!1),m(this,"_length",0),m(this,"_fill","#fff"),m(this,"_stroke","#000"),m(this,"_linewidth",1),m(this,"_opacity",1),m(this,"_visible",!0),m(this,"_cap","round"),m(this,"_join","round"),m(this,"_miter",4),m(this,"_closed",!0),m(this,"_curved",!1),m(this,"_automatic",!0),m(this,"_beginning",0),m(this,"_ending",1),m(this,"_mask",null),m(this,"_clip",!1),m(this,"_dashes",null);for(let a in Xs)Object.defineProperty(this,a,Xs[a]);this._renderer.type="path",this._renderer.flagVertices=Ra.bind(this),this._renderer.bindVertices=Ma.bind(this),this._renderer.unbindVertices=Fa.bind(this),this._renderer.flagFill=Oa.bind(this),this._renderer.flagStroke=Pa.bind(this),this._renderer.vertices=[],this._renderer.collection=[],this.closed=!!e,this.curved=!!r,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=t,this.automatic=!s,this.dashes=[],this.dashes.offset=0}clone(t){let e=new Hi;for(let r=0;r<this.vertices.length;r++)e.vertices.push(this.vertices[r].clone());for(let r=0;r<Hi.Properties.length;r++){let s=Hi.Properties[r];e[s]=this[s]}return e.className=this.className,e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}toObject(){let t={vertices:this.vertices.map(function(e){return e.toObject()})};return J.each(Hi.Properties,function(e){typeof this[e]<"u"&&(this[e].toObject?t[e]=this[e].toObject():t[e]=this[e])},this),t.className=this.className,t.translation=this.translation.toObject(),t.rotation=this.rotation,t.scale=this.scale instanceof $?this.scale.toObject():this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&(t.matrix=this.matrix.toObject()),t}noFill(){return this.fill="transparent",this}noStroke(){return this.stroke=void 0,this}corner(){let t=this.getBoundingClientRect(!0),e=t.width/2,r=t.height/2,s=t.left+t.width/2,a=t.top+t.height/2;for(let c=0;c<this.vertices.length;c++){let f=this.vertices[c];f.x-=s,f.y-=a,f.x+=e,f.y+=r}return this.mask&&(this.mask.translation.x-=s,this.mask.translation.x+=e,this.mask.translation.y-=a,this.mask.translation.y+=r),this}center(){let t=this.getBoundingClientRect(!0),e=t.left+t.width/2-this.translation.x,r=t.top+t.height/2-this.translation.y;for(let s=0;s<this.vertices.length;s++){let a=this.vertices[s];a.x-=e,a.y-=r}return this.mask&&(this.mask.translation.x-=e,this.mask.translation.y-=r),this}getBoundingClientRect(t){let e,r,s,a,c,f,p=1/0,y=-1/0,_=1/0,T=-1/0;if(this._update(!0),e=t?this.matrix:this.worldMatrix,r=(this.linewidth||0)/2,s=this._renderer.vertices.length,this.linewidth>0||this.stroke&&this.stroke!=="transparent")if(this.matrix.manual){let{scaleX:C,scaleY:A}=Si(e.elements[0],e.elements[3],e.elements[1],e.elements[4],e.elements[2],e.elements[5]);typeof C=="number"&&typeof A=="number"&&(r=Math.max(C,A)*(this.linewidth||0)/2)}else r*=typeof this.scale=="number"?this.scale:Math.max(this.scale.x,this.scale.y);if(s<=0)return{width:0,height:0};for(a=0;a<s;a++){f=this._renderer.vertices[a],c=this._renderer.vertices[(a+s-1)%s];let[C,A]=e.multiply(c.x,c.y),[x,k]=e.multiply(f.x,f.y);if(c.controls&&f.controls){let N=c.controls.right.x,M=c.controls.right.y;c.relative&&(N+=c.x,M+=c.y);let[R,L]=e.multiply(N,M),q=f.controls.left.x,z=f.controls.left.y;f.relative&&(q+=f.x,z+=f.y);let[H,l]=e.multiply(q,z),Z=va(C,A,R,L,H,l,x,k);_=wi(Z.min.y-r,_),p=wi(Z.min.x-r,p),y=ki(Z.max.x+r,y),T=ki(Z.max.y+r,T)}else a<=1&&(_=wi(A-r,_),p=wi(C-r,p),y=ki(C+r,y),T=ki(A+r,T)),_=wi(k-r,_),p=wi(x-r,p),y=ki(x+r,y),T=ki(k+r,T)}return{top:_,left:p,right:y,bottom:T,width:y-p,height:T-_}}getPointAt(t,e){let r,s,a,c,f,p,y,_,T,C,A,x,k,N,M,R=this.length*Math.min(Math.max(t,0),1),L=this.vertices.length,q=L-1,z=null,H=null;for(let St=0,at=this._lengths.length,it=0;St<at;St++){if(it+this._lengths[St]>=R){this._closed?(r=ge(St,L),s=ge(St-1,L),St===0&&(r=s,s=St)):(r=St,s=Math.min(Math.max(St-1,0),q)),z=this.vertices[r],H=this.vertices[s],R-=it,this._lengths[St]!==0?t=R/this._lengths[St]:t=0;break}it+=this._lengths[St]}if(z===null||H===null)return null;if(z){if(!H)return z}else return H;M=H.controls&&H.controls.right,N=z.controls&&z.controls.left,f=H.x,C=H.y,p=(M||H).x,A=(M||H).y,y=(N||z).x,x=(N||z).y,_=z.x,k=z.y,M&&H.relative&&(p+=H.x,A+=H.y),N&&z.relative&&(y+=z.x,x+=z.y),c=Vi(t,f,p,y,_),T=Vi(t,C,A,x,k);let l=ce(f,p,t),Z=ce(C,A,t),G=ce(p,y,t),nt=ce(A,x,t),Q=ce(y,_,t),_t=ce(x,k,t),K=ce(l,G,t),Tt=ce(Z,nt,t),gt=ce(G,Q,t),zt=ce(nt,_t,t);return J.isObject(e)?(e.x=c,e.y=T,e instanceof bt&&(e.controls.left.x=K,e.controls.left.y=Tt,e.controls.right.x=gt,e.controls.right.y=zt,(typeof e.relative!="boolean"||e.relative)&&(e.controls.left.x-=c,e.controls.left.y-=T,e.controls.right.x-=c,e.controls.right.y-=T)),e.t=t,e):(a=new bt(c,T,K-c,Tt-T,gt-c,zt-T,this._curved?V.curve:V.line),a.t=t,a)}plot(){if(this.curved)return wa(this._collection,this.closed),this;for(let t=0;t<this._collection.length;t++)this._collection[t].command=t===0?V.move:V.line;return this}subdivide(t){this._update();let e=this.vertices.length-1,r=this._closed||this.vertices[e]._command===V.close,s=this.vertices[e],a=[],c;return J.each(this.vertices,function(f,p){if(p<=0&&!r){s=f;return}if(f.command===V.move){a.push(new bt(s.x,s.y)),p>0&&(a[a.length-1].command=V.line),s=f;return}c=Hs(f,s,t),a=a.concat(c),J.each(c,function(y,_){_<=0&&s.command===V.move?y.command=V.move:y.command=V.line}),p>=e&&(this._closed&&this._automatic?(s=f,c=Hs(f,s,t),a=a.concat(c),J.each(c,function(y,_){_<=0&&s.command===V.move?y.command=V.move:y.command=V.line})):r&&a.push(new bt(f.x,f.y)),a[a.length-1].command=r?V.close:V.line),s=f},this),this._automatic=!1,this._curved=!1,this.vertices=a,this}_updateLength(t,e){e||this._update();let r=this.vertices.length,s=r-1,a=!1,c=this.vertices[s],f=0;return typeof this._lengths>"u"&&(this._lengths=[]),J.each(this.vertices,function(p,y){if(y<=0&&!a||p.command===V.move){c=p,this._lengths[y]=0;return}this._lengths[y]=An(p,c,t),f+=this._lengths[y],y>=s&&a&&(c=this.vertices[(y+1)%r],this._lengths[y+1]=An(p,c,t),f+=this._lengths[y+1]),c=p},this),this._length=f,this._flagLength=!1,this}_update(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);let t=this._collection.length,e=this._closed,r=Math.min(this._beginning,this._ending),s=Math.max(this._beginning,this._ending),a=Fr(this,r*this._length),c=Fr(this,s*this._length),f=Tl(a),p=Sl(c),y,_,T,C,A,x;for(this._renderer.vertices.length=0,x=0;x<t;x++)this._renderer.collection.length<=x&&this._renderer.collection.push(new bt),x>p&&!_?(A=this._renderer.collection[x].copy(this._collection[x]),this.getPointAt(s,A),A.command=this._renderer.collection[x].command,this._renderer.vertices.push(A),_=A,T=this._collection[x-1],T&&T.controls&&(A.relative?A.controls.right.clear():A.controls.right.copy(A),T.relative?this._renderer.collection[x-1].controls.right.copy(T.controls.right).lerp($.zero,1-A.t):this._renderer.collection[x-1].controls.right.copy(T.controls.right).lerp(T,1-A.t))):x>=f&&x<=p&&(A=this._renderer.collection[x].copy(this._collection[x]),this._renderer.vertices.push(A),x===p&&qs(this,s)?(_=A,!e&&_.controls&&(_.relative?_.controls.right.clear():_.controls.right.copy(_))):x===f&&qs(this,r)&&(y=A,y.command=V.move,!e&&y.controls&&(y.relative?y.controls.left.clear():y.controls.left.copy(y))));f>0&&!y&&(x=f-1,A=this._renderer.collection[x].copy(this._collection[x]),this.getPointAt(r,A),A.command=V.move,this._renderer.vertices.unshift(A),C=this._collection[x+1],C&&C.controls&&(A.controls.left.clear(),C.relative?this._renderer.collection[x+1].controls.left.copy(C.controls.left).lerp($.zero,A.t):(Al.copy(C),this._renderer.collection[x+1].controls.left.copy(C.controls.left).lerp(C,A.t))))}return Qe.prototype._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,Qe.prototype.flagReset.call(this),this}},kt=Hi;m(kt,"Properties",["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending"]);m(kt,"Utils",{getCurveLength:An});var Xs={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(t){this._linewidth=t,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._opacity=t,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(t){this._visible=t,this._flagVisible=!0}},cap:{enumerable:!0,get:function(){return this._cap},set:function(t){this._cap=t,this._flagCap=!0}},join:{enumerable:!0,get:function(){return this._join},set:function(t){this._join=t,this._flagJoin=!0}},miter:{enumerable:!0,get:function(){return this._miter},set:function(t){this._miter=t,this._flagMiter=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof Yt||this._fill instanceof jt||this._fill instanceof Dt||this._fill instanceof Rt)&&this._fill.unbind(B.Types.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof Yt||this._fill instanceof jt||this._fill instanceof Dt||this._fill instanceof Rt)&&this._fill.bind(B.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof Yt||this._stroke instanceof jt||this._stroke instanceof Dt||this._stroke instanceof Rt)&&this._stroke.unbind(B.Types.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof Yt||this._stroke instanceof jt||this._stroke instanceof Dt||this._stroke instanceof Rt)&&this._stroke.bind(B.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},closed:{enumerable:!0,get:function(){return this._closed},set:function(t){this._closed=!!t,this._flagVertices=!0}},curved:{enumerable:!0,get:function(){return this._curved},set:function(t){this._curved=!!t,this._flagVertices=!0}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(t){if(t===this._automatic)return;this._automatic=!!t;let e=this._automatic?"ignore":"listen";J.each(this.vertices,function(r){r[e]()})}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(t){this._beginning=t,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(t){this._ending=t,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(t){let e=this._renderer.bindVertices,r=this._renderer.unbindVertices;this._collection&&this._collection.unbind(B.Types.insert,e).unbind(B.Types.remove,r),t instanceof Je?this._collection=t:this._collection=new Je(t||[]),this._collection.bind(B.Types.insert,e).bind(B.Types.remove,r),e(this._collection)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,J.isObject(t)&&!t.clip&&(t.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(t){typeof t.offset!="number"&&(t.offset=this.dashes&&this._dashes.offset||0),this._dashes=t}}};function Ra(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)}function Ma(t){let e=t.length;for(;e--;)t[e].bind(B.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function Fa(t){let e=t.length;for(;e--;)t[e].unbind(B.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function Oa(){this._flagFill=!0}function Pa(){this._flagStroke=!0}var La=class extends kt{constructor(t,e,r,s){let a=[new bt,new bt,new bt,new bt];super(a,!0,!1,!0),m(this,"_flagWidth",0),m(this,"_flagHeight",0),m(this,"_width",0),m(this,"_height",0),m(this,"_origin",null);for(let c in Ys)Object.defineProperty(this,c,Ys[c]);this.width=typeof r=="number"?r:1,this.height=typeof s=="number"?s:1,this.origin=new $,typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e),this._update()}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){let t=this._width/2,e=this._height/2;!this._closed&&this.vertices.length===4&&this.vertices.push(new bt),this.vertices[0].set(-t,-e).sub(this._origin).command=V.move,this.vertices[1].set(t,-e).sub(this._origin).command=V.line,this.vertices[2].set(t,e).sub(this._origin).command=V.line,this.vertices[3].set(-t,e).sub(this._origin).command=V.line,this.vertices[4]&&(this.vertices[4].set(-t,-e).sub(this._origin).command=V.line)}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(t){let e=new La(0,0,this.width,this.height);e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix);for(let r=0;r<kt.Properties.length;r++){let s=kt.Properties[r];e[s]=this[s]}return t&&t.add(e),e}toObject(){let t=super.toObject.call(this);return t.width=this.width,t.height=this.height,t.origin=this.origin.toObject(),t}},oi=La;m(oi,"Properties",["width","height"]);var Ys={width:{enumerable:!0,get:function(){return this._width},set:function(t){this._width=t,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(t){this._height=t,this._flagHeight=!0}},origin:{enumerable:!0,get:function(){return this._origin},set:function(t){this._origin&&this._origin.unbind(B.Types.change,this._renderer.flagVertices),this._origin=t,this._origin.bind(B.Types.change,this._renderer.flagVertices),this._renderer.flagVertices()}}},Ia=class extends oi{constructor(t,e,r,s,a,c){super(e,r,0,0),m(this,"_flagTexture",!1),m(this,"_flagColumns",!1),m(this,"_flagRows",!1),m(this,"_flagFrameRate",!1),m(this,"_flagIndex",!1),m(this,"_amount",1),m(this,"_duration",0),m(this,"_startTime",0),m(this,"_playing",!1),m(this,"_firstFrame",0),m(this,"_lastFrame",0),m(this,"_loop",!0),m(this,"_texture",null),m(this,"_columns",1),m(this,"_rows",1),m(this,"_frameRate",0),m(this,"_index",0),m(this,"_origin",null);for(let f in Gs)Object.defineProperty(this,f,Gs[f]);this.noStroke(),this.noFill(),t instanceof Rt?this.texture=t:typeof t=="string"&&(this.texture=new Rt(t)),this.origin=new $,this._update(),typeof s=="number"&&(this.columns=s),typeof a=="number"&&(this.rows=a),typeof c=="number"&&(this.frameRate=c),this.index=0}play(t,e,r){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=J.performance.now(),typeof t=="number"&&(this._firstFrame=t),typeof e=="number"&&(this._lastFrame=e),typeof r=="function"?this._onLastFrame=r:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=0,this}clone(t){let e=new Ia(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);return this.playing&&(e.play(this._firstFrame,this._lastFrame),e._loop=this._loop),t&&t.add(e),e}toObject(){let t=super.toObject.call(this);return t.texture=this.texture.toObject(),t.columns=this.columns,t.rows=this.rows,t.frameRate=this.frameRate,t.index=this.index,t._firstFrame=this._firstFrame,t._lastFrame=this._lastFrame,t._loop=this._loop,t}_update(){let t=this._texture,e=this._columns,r=this._rows,s,a,c,f,p,y,_,T,C;if(t&&((this._flagColumns||this._flagRows)&&(this._amount=this._columns*this._rows),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._flagTexture&&(this.fill=t),t.loaded)){_=t.image.width,T=t.image.height,s=_/e,a=T/r,f=this._amount,this.width!==s&&(this.width=s),this.height!==a&&(this.height=a),this._playing&&this._frameRate>0&&(J.isNaN(this._lastFrame)&&(this._lastFrame=f-1),c=J.performance.now()-this._startTime,C=this._lastFrame+1,p=1e3*(C-this._firstFrame)/this._frameRate,this._loop?c=c%p:c=Math.min(c,p),y=ce(this._firstFrame,C,c/p),y=Math.floor(y),y!==this._index&&(this._index=y,y>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()));let A=this._index%e,x=Math.floor(this._index/e),k=-s*A+(_-s)/2,N=-a*x+(T-a)/2;k!==t.offset.x&&(t.offset.x=k),N!==t.offset.y&&(t.offset.y=N)}return super._update.call(this),this}flagReset(){return this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=!1,super.flagReset.call(this),this}},Lr=Ia;m(Lr,"Properties",["texture","columns","rows","frameRate","index"]);var Gs={texture:{enumerable:!0,get:function(){return this._texture},set:function(t){this._texture=t,this._flagTexture=!0}},columns:{enumerable:!0,get:function(){return this._columns},set:function(t){this._columns=t,this._flagColumns=!0}},rows:{enumerable:!0,get:function(){return this._rows},set:function(t){this._rows=t,this._flagRows=!0}},frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(t){this._frameRate=t,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(t){this._index=t,this._flagIndex=!0}}},vn=Math.cos,xn=Math.sin,Tr=class extends kt{constructor(t,e,r,s){let a=s?Math.max(s,2):4,c=[];for(let f=0;f<a;f++)c.push(new bt(0,0,0,0,0,0));super(c,!0,!0,!0),m(this,"_flagRadius",!1),m(this,"_radius",0);for(let f in Ks)Object.defineProperty(this,f,Ks[f]);typeof r=="number"&&(this.radius=r),this._update(),typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagRadius){let t=this.vertices.length;!this._closed&&t>2&&(t-=1);let e=4/3*Math.tan(Math.PI/(t*2)),r=this._radius,s=r*e;for(let a=0;a<this.vertices.length;a++){let f=a/t*ne,p=r*vn(f),y=r*xn(f),_=s*vn(f-Jt),T=s*xn(f-Jt),C=s*vn(f+Jt),A=s*xn(f+Jt),x=this.vertices[a];x.command=a===0?V.move:V.curve,x.set(p,y),x.controls.left.set(_,T),x.controls.right.set(C,A)}}return super._update.call(this),this}flagReset(){return this._flagRadius=!1,super.flagReset.call(this),this}clone(t){let e=new Tr(0,0,this.radius,this.vertices.length);e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix);for(let r=0;r<kt.Properties.length;r++){let s=kt.Properties[r];e[s]=this[s]}return t&&t.add(e),e}toObject(){let t=super.toObject.call(this);for(let e=0;e<Tr.Properties.length;e++){let r=Tr.Properties[e];t[r]=this[r]}return t}},Ir=Tr;m(Ir,"Properties",["radius"]);var Ks={radius:{enumerable:!0,get:function(){return this._radius},set:function(t){this._radius=t,this._flagRadius=!0}}},wn=Math.cos,kn=Math.sin,Sr=class extends kt{constructor(t,e,r,s,a){typeof s!="number"&&typeof r=="number"&&(s=r);let c=a?Math.max(a,2):4,f=[];for(let p=0;p<c;p++)f.push(new bt);super(f,!0,!0,!0),m(this,"_flagWidth",!1),m(this,"_flagHeight",!1),m(this,"_width",0),m(this,"_height",0);for(let p in Qs)Object.defineProperty(this,p,Qs[p]);typeof r=="number"&&(this.width=r*2),typeof s=="number"&&(this.height=s*2),this._update(),typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){let t=this.vertices.length;!this._closed&&t>2&&(t-=1);let e=4/3*Math.tan(Math.PI/(this.vertices.length*2)),r=this._width/2,s=this._height/2;for(let a=0;a<this.vertices.length;a++){let f=a/t*ne,p=r*wn(f),y=s*kn(f),_=r*e*wn(f-Jt),T=s*e*kn(f-Jt),C=r*e*wn(f+Jt),A=s*e*kn(f+Jt),x=this.vertices[a];x.command=a===0?V.move:V.curve,x.set(p,y),x.controls.left.set(_,T),x.controls.right.set(C,A)}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(t){let e=this.width/2,r=this.height/2,s=this.vertices.length,a=new Sr(0,0,e,r,s);a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix);for(let c=0;c<kt.Properties.length;c++){let f=kt.Properties[c];a[f]=this[f]}return t&&t.add(a),a}toObject(){let t=super.toObject.call(this);for(let e=0;e<Sr.Properties.length;e++){let r=Sr.Properties[e];t[r]=this[r]}return t}},Nr=Sr;m(Nr,"Properties",["width","height"]);var Qs={width:{enumerable:!0,get:function(){return this._width},set:function(t){this._width=t,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(t){this._height=t,this._flagHeight=!0}}},On=class extends kt{constructor(t,e,r,s){let a=[new bt(t,e),new bt(r,s)];super(a);for(let c in Js)Object.defineProperty(this,c,Js[c]);this.vertices[0].command=V.move,this.vertices[1].command=V.line,this.automatic=!1}},Js={left:{enumerable:!0,get:function(){return this.vertices[0]},set:function(t){if(J.isObject(t))this.vertices.splice(0,1,t);else{let e=new pe("Two.Line.x argument is not an object.");console.warn(e.name,e.message)}}},right:{enumerable:!0,get:function(){return this.vertices[1]},set:function(t){if(J.isObject(t))this.vertices.splice(1,1,t);else{let e=new pe("Two.Line.y argument is not an object.");console.warn(e.name,e.message)}}}},Ar=class extends kt{constructor(t,e,r,s,a){typeof a>"u"&&typeof r=="number"&&typeof s=="number"&&(a=Math.floor(Math.min(r,s)/12));let c=[];for(let f=0;f<10;f++)c.push(new bt(0,0,0,0,0,0,f===0?V.move:V.curve));super(c),m(this,"_flagWidth",!1),m(this,"_flagHeight",!1),m(this,"_flagRadius",!1),m(this,"_width",0),m(this,"_height",0),m(this,"_radius",12);for(let f in Zs)Object.defineProperty(this,f,Zs[f]);this.closed=!0,this.automatic=!1,this._renderer.flagRadius=Cl.bind(this),typeof r=="number"&&(this.width=r),typeof s=="number"&&(this.height=s),typeof a=="number"&&(this.radius=a),this._update(),typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagRadius){let t=this._width,e=this._height,r,s;this._radius instanceof $?(r=this._radius.x,s=this._radius.y):(r=this._radius,s=this._radius);let a,c=t/2,f=e/2;a=this.vertices[0],a.x=-(c-r),a.y=-f,a=this.vertices[1],a.x=c-r,a.y=-f,a.controls.left.clear(),a.controls.right.x=r,a.controls.right.y=0,a=this.vertices[2],a.x=c,a.y=-(f-s),a.controls.right.clear(),a.controls.left.clear(),a=this.vertices[3],a.x=c,a.y=f-s,a.controls.left.clear(),a.controls.right.x=0,a.controls.right.y=s,a=this.vertices[4],a.x=c-r,a.y=f,a.controls.right.clear(),a.controls.left.clear(),a=this.vertices[5],a.x=-(c-r),a.y=f,a.controls.left.clear(),a.controls.right.x=-r,a.controls.right.y=0,a=this.vertices[6],a.x=-c,a.y=f-s,a.controls.left.clear(),a.controls.right.clear(),a=this.vertices[7],a.x=-c,a.y=-(f-s),a.controls.left.clear(),a.controls.right.x=0,a.controls.right.y=-s,a=this.vertices[8],a.x=-(c-r),a.y=-f,a.controls.left.clear(),a.controls.right.clear(),a=this.vertices[9],a.copy(this.vertices[8])}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,super.flagReset.call(this),this}clone(t){let e=this.width,r=this.height,s=this.radius,a=new Ar(0,0,e,r,s);a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix);for(let c=0;c<kt.Properties.length;c++){let f=kt.Properties[c];a[f]=this[f]}return t&&t.add(a),a}toObject(){let t=super.toObject.call(this);for(let e=0;e<Ar.Properties.length;e++){let r=Ar.Properties[e];t[r]=this[r]}return t.radius=typeof this.radius=="number"?this.radius:this.radius.toObject(),t}},jr=Ar;m(jr,"Properties",["width","height","radius"]);var Zs={width:{enumerable:!0,get:function(){return this._width},set:function(t){this._width=t,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(t){this._height=t,this._flagHeight=!0}},radius:{enumerable:!0,get:function(){return this._radius},set:function(t){this._radius instanceof $&&this._radius.unbind(B.Types.change,this._renderer.flagRadius),this._radius=t,this._radius instanceof $&&this._radius.bind(B.Types.change,this._renderer.flagRadius),this._flagRadius=!0}}};function Cl(){this._flagRadius=!0}var Cn,ta=Math.min,ea=Math.max;Bt.document&&(Cn=document.createElement("canvas"));var Ie=class extends Qe{constructor(t,e,r,s){super(),m(this,"_flagValue",!0),m(this,"_flagFamily",!0),m(this,"_flagSize",!0),m(this,"_flagLeading",!0),m(this,"_flagAlignment",!0),m(this,"_flagBaseline",!0),m(this,"_flagStyle",!0),m(this,"_flagWeight",!0),m(this,"_flagDecoration",!0),m(this,"_flagFill",!0),m(this,"_flagStroke",!0),m(this,"_flagLinewidth",!0),m(this,"_flagOpacity",!0),m(this,"_flagVisible",!0),m(this,"_flagMask",!1),m(this,"_flagClip",!1),m(this,"_value",""),m(this,"_family","sans-serif"),m(this,"_size",13),m(this,"_leading",17),m(this,"_alignment","center"),m(this,"_baseline","middle"),m(this,"_style","normal"),m(this,"_weight",500),m(this,"_decoration","none"),m(this,"_fill","#000"),m(this,"_stroke","transparent"),m(this,"_linewidth",1),m(this,"_opacity",1),m(this,"_visible",!0),m(this,"_mask",null),m(this,"_clip",!1),m(this,"_dashes",null);for(let a in ia)Object.defineProperty(this,a,ia[a]);if(this._renderer.type="text",this._renderer.flagFill=El.bind(this),this._renderer.flagStroke=Rl.bind(this),this.value=t,typeof e=="number"&&(this.translation.x=e),typeof r=="number"&&(this.translation.y=r),this.dashes=[],this.dashes.offset=0,!J.isObject(s))return this;for(let a=0;a<Ie.Properties.length;a++){let c=Ie.Properties[a];c in s&&(this[c]=s[c])}}static Measure(t){if(Cn){let e=Cn.getContext("2d");e.font=[t._style,t._weight,`${t._size}px/${t._leading}px`,t._family].join(" ");let r=e.measureText(t.value,0,0),s=r.actualBoundingBoxDescent+r.actualBoundingBoxAscent;return{width:r.width,height:s}}else{let e=this.value.length*this.size*Ie.Ratio,r=this.leading;return console.warn("Two.Text: unable to accurately measure text, so using an approximation."),{width:e,height:r}}}clone(t){let e=new Ie(this.value);e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale;for(let r=0;r<Ie.Properties.length;r++){let s=Ie.Properties[r];e[s]=this[s]}return this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}toObject(){let t={translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale};this.matrix.manual&&(t.matrix=this.matrix.toObject());for(let e=0;e<Ie.Properties.length;e++){let r=Ie.Properties[e];t[r]=this[r]}return t}noFill(){return this.fill="transparent",this}noStroke(){return this.stroke=void 0,this.linewidth=void 0,this}getBoundingClientRect(t){let e,r,s,a,c;this._update(!0),e=t?this.matrix:this.worldMatrix;let{width:f,height:p}=Ie.Measure(this),y=(this._linewidth||0)/2;switch(this.alignment){case"left":r=-y,s=f+y;break;case"right":r=-(f+y),s=y;break;default:r=-(f/2+y),s=f/2+y}switch(this.baseline){case"middle":a=-(p/2+y),c=p/2+y;break;default:a=-(p+y),c=y}let[_,T]=e.multiply(r,a),[C,A]=e.multiply(r,c),[x,k]=e.multiply(s,a),[N,M]=e.multiply(s,c);return a=ta(T,A,k,M),r=ta(_,C,x,N),s=ea(_,C,x,N),c=ea(T,A,k,M),{top:a,left:r,right:s,bottom:c,width:s-r,height:c-a}}flagReset(){return super.flagReset.call(this),this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=this._flagWeight=this._flagStyle=!1,this}},Ae=Ie;m(Ae,"Ratio",.6);m(Ae,"Properties",["value","family","size","leading","alignment","linewidth","style","weight","decoration","baseline","opacity","visible","fill","stroke"]);var ia={value:{enumerable:!0,get:function(){return this._value},set:function(t){this._value=t,this._flagValue=!0}},family:{enumerable:!0,get:function(){return this._family},set:function(t){this._family=t,this._flagFamily=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(t){this._size=t,this._flagSize=!0}},leading:{enumerable:!0,get:function(){return this._leading},set:function(t){this._leading=t,this._flagLeading=!0}},alignment:{enumerable:!0,get:function(){return this._alignment},set:function(t){this._alignment=t,this._flagAlignment=!0}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(t){this._linewidth=t,this._flagLinewidth=!0}},style:{enumerable:!0,get:function(){return this._style},set:function(t){this._style=t,this._flagStyle=!0}},weight:{enumerable:!0,get:function(){return this._weight},set:function(t){this._weight=t,this._flagWeight=!0}},decoration:{enumerable:!0,get:function(){return this._decoration},set:function(t){this._decoration=t,this._flagDecoration=!0}},baseline:{enumerable:!0,get:function(){return this._baseline},set:function(t){this._baseline=t,this._flagBaseline=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._opacity=t,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(t){this._visible=t,this._flagVisible=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof Yt||this._fill instanceof jt||this._fill instanceof Dt||this._fill instanceof Rt)&&this._fill.unbind(B.Types.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof Yt||this._fill instanceof jt||this._fill instanceof Dt||this._fill instanceof Rt)&&this._fill.bind(B.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof Yt||this._stroke instanceof jt||this._stroke instanceof Dt||this._stroke instanceof Rt)&&this._stroke.unbind(B.Types.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof Yt||this._stroke instanceof jt||this._stroke instanceof Dt||this._stroke instanceof Rt)&&this._stroke.bind(B.Types.change,this._renderer.flagStroke)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,J.isObject(t)&&!t.clip&&(t.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(t){typeof t.offset!="number"&&(t.offset=this.dashes&&this._dashes.offset||0),this._dashes=t}}};function El(){this._flagFill=!0}function Rl(){this._flagStroke=!0}var Ne={path:/[+-]?(?:\d*\.\d+|\d+)(?:[eE][+-]\d+)?/g,cssBackgroundImage:/url\(['"]?#([\w\d-_]*)['"]?\)/i,unitSuffix:/[a-zA-Z%]*/i},Ml={start:"left",middle:"center",end:"right"},ra=["id","class","transform","xmlns","viewBox"],Fl=["x","y","width","height","href","xlink:href"];function Ol(t){return Ml[t]}function Pl(t){let e=t.getAttribute("dominant-baseline"),r=t.getAttribute("alignment-baseline");return e||r}function Wi(t){return t.replace(/svg:/ig,"").toLowerCase()}function na(t,e){if(e.x+=t.translateX,e.y+=t.translateY,e.x*=t.scaleX,e.y*=t.scaleY,t.rotation!==0){let r=e.length();e.x=r*Math.cos(t.rotation),e.y=r*Math.sin(t.rotation)}}function Ll(t,e){e||(e={});let r=t.split(";");for(let s=0;s<r.length;s++){let a=r[s].split(":"),c=a[0],f=a[1];typeof c>"u"||typeof f>"u"||(e[c]=f.replace(/\s/,""))}return e}function Il(t){let e={},r=Nl(t),s=Math.max(r.length,t.style.length);for(let a=0;a<s;a++){let c=t.style[a],f=r[a];c&&(e[c]=t.style[c]),f&&(e[f]=t.getAttribute(f))}return e}function Nl(t){let e=t.getAttributeNames();for(let r=0;r<ra.length;r++){let s=ra[r],a=Array.prototype.indexOf.call(e,s);a>=0&&e.splice(a,1)}return e}function jl(t,e){let r=e.split(/[\s,]/),s=-parseFloat(r[0]),a=-parseFloat(r[1]),c=parseFloat(r[2]),f=parseFloat(r[3]);if(s&&a)for(let C=0;C<t.children.length;C++){let A=t.children[C];"translation"in A?A.translation.add(s,a):"x"in A?A.x=s:"y"in A&&(A.y=a)}let p=typeof t.x=="number",y=typeof t.y=="number",_=typeof t.width=="number",T=typeof t.height=="number";return p&&(t.translation.x+=t.x),y&&(t.translation.y+=t.y),(_||T)&&(t.scale=new $(1,1)),_&&(t.scale.x=t.width/c),T&&(t.scale.y=t.height/f),t.mask=new oi(0,0,c,f),t.mask.origin.set(-c/2,-f/2),t}function ve(t,e,r){let s={},a={},c={},f,p,y,_,T,C,A,x,k,N,M,R,L,q,z,H,l;if(t===null)return s;if(Bt.getComputedStyle){let Z=Bt.getComputedStyle(t);for(f=Z.length;f--;)y=Z[f],_=Z[y],typeof _<"u"&&(s[y]=_)}for(f=0;f<t.attributes.length;f++)C=t.attributes[f],/style/i.test(C.nodeName)?Ll(C.value,c):a[C.nodeName]=C.value;typeof s.opacity<"u"&&(s["stroke-opacity"]=s.opacity,s["fill-opacity"]=s.opacity,delete s.opacity),r&&J.defaults(s,r),J.extend(s,c,a),s.visible=!(typeof s.display>"u"&&/none/i.test(s.display))||typeof s.visibility>"u"&&/hidden/i.test(s.visibility);for(y in s)switch(_=s[y],y){case"gradientTransform":if(/none/i.test(_)||(p=t.gradientTransform&&t.gradientTransform.baseVal&&t.gradientTransform.baseVal.length>0?t.gradientTransform.baseVal[0].matrix:t.getCTM?t.getCTM():null,p===null))break;switch(A=Si(p),e._renderer.type){case"linear-gradient":na(A,e.left),na(A,e.right);break;case"radial-gradient":e.center.x+=A.translateX,e.center.y+=A.translateY,e.focal.x+=A.translateX,e.focal.y+=A.translateY,e.radius*=Math.max(A.scaleX,A.scaleY);break}break;case"transform":if(/none/i.test(_)||(p=t.transform&&t.transform.baseVal&&t.transform.baseVal.length>0?t.transform.baseVal[0].matrix:t.getCTM?t.getCTM():null,p===null))break;Gt.AutoCalculateImportedMatrices?(A=Si(p),e.translation.set(A.translateX,A.translateY),e.rotation=Math.PI*(A.rotation/180),e.scale=new $(A.scaleX,A.scaleY),x=parseFloat((s.x+"").replace("px")),k=parseFloat((s.y+"").replace("px")),x&&(e.translation.x=x),k&&(e.translation.y=k)):(p=t.getCTM(),e._matrix.manual=!0,e._matrix.set(p.a,p.b,p.c,p.d,p.e,p.f));break;case"visible":if(e instanceof Xt){e._visible=_;break}e.visible=_;break;case"stroke-linecap":if(e instanceof Xt){e._cap=_;break}e.cap=_;break;case"stroke-linejoin":if(e instanceof Xt){e._join=_;break}e.join=_;break;case"stroke-miterlimit":if(e instanceof Xt){e._miter=_;break}e.miter=_;break;case"stroke-width":if(e instanceof Xt){e._linewidth=parseFloat(_);break}e.linewidth=parseFloat(_);break;case"opacity":case"stroke-opacity":case"fill-opacity":if(e instanceof Xt){e._opacity=parseFloat(_);break}e.opacity=parseFloat(_);break;case"clip-path":if(Ne.cssBackgroundImage.test(_)&&(N=_.replace(Ne.cssBackgroundImage,"$1"),Nt.defs.current&&Nt.defs.current.contains(N)&&(R=Nt.defs.current.get(N),R&&R.childNodes.length>0)))switch(R=R.childNodes[0],L=Wi(R.nodeName),e.mask=Nt[L].call(this,R,{}),e._renderer.type){case"text":case"path":e.position.add(e.mask.position),e.mask.position.clear();break}break;case"fill":case"stroke":T=(e instanceof Xt?"_":"")+y,Ne.cssBackgroundImage.test(_)?(N=_.replace(Ne.cssBackgroundImage,"$1"),Nt.defs.current&&Nt.defs.current.contains(N)?(R=Nt.defs.current.get(N),R.object||(L=Wi(R.nodeName),R.object=Nt[L].call(this,R,{})),R=R.object):(M=Bl(this),R=M.getById(N)),e[T]=R):e[T]=/none/i.test(_)?"transparent":_;break;case"id":e.id=_;break;case"class":case"className":e.classList=_.split(" "),e._flagClassName=!0;break;case"x":case"y":if(q=e instanceof Yt,z=e instanceof jt,H=e instanceof Dt,q||z||H)break;_.match("[a-z%]$")&&!_.endsWith("px")&&(l=new pe("only pixel values are supported with the "+y+" attribute."),console.warn(l.name,l.message)),e.translation[y]=parseFloat(_);break;case"font-family":e instanceof Ae&&(e.family=_);break;case"font-size":e instanceof Ae&&(e.size=_);break;case"font-weight":e instanceof Ae&&(e.weight=_);break;case"font-style":e instanceof Ae&&(e.style=_);break;case"text-decoration":e instanceof Ae&&(e.decoration=_);break;case"line-height":e instanceof Ae&&(e.leading=_);break}return Object.keys(t.dataset).length&&(e.dataset=t.dataset),s}function Dl(t,e){for(let r=0,s=t.childNodes.length;r<s;r++){let a=t.childNodes[r];!a.id||Wi(t.nodeName)==="#text"||e.add(a.id,a)}}function Bl(t){for(;t.parent;)t=t.parent;return t.scene}var Nt={svg:function(t){let e=Nt.defs.current=new Pr,r=t.getElementsByTagName("defs");for(let k=0;k<r.length;k++)Dl(r[k],e);let s=Nt.g.call(this,t),a=t.getAttribute("viewBox"),c=t.getAttribute("x"),f=t.getAttribute("y"),p=t.getAttribute("width"),y=t.getAttribute("height");s.defs=e;let _=a!==null,T=c!==null,C=f!==null,A=p!==null,x=y!==null;return T&&(s.x=parseFloat(c.replace(Ne.unitSuffix,""))),C&&(s.y=parseFloat(f.replace(Ne.unitSuffix,""))),A&&(s.width=parseFloat(p.replace(Ne.unitSuffix,""))),x&&(s.height=parseFloat(y.replace(Ne.unitSuffix,""))),_&&jl(s,a),delete Nt.defs.current,s},defs:function(t){return null},use:function(t,e){let r,s=t.getAttribute("href")||t.getAttribute("xlink:href");if(!s)return r=new pe("encountered <use /> with no href."),console.warn(r.name,r.message),null;let a=s.slice(1);if(!Nt.defs.current.contains(a))return r=new pe("unable to find element for reference "+s+"."),console.warn(r.name,r.message),null;let f=Nt.defs.current.get(a).cloneNode(!0);for(let y=0;y<t.attributes.length;y++){let _=t.attributes[y],T=Fl.includes(_.nodeName),C=!f.hasAttribute(_.nodeName);(T||C)&&f.setAttribute(_.nodeName,_.value)}let p=Wi(f.nodeName);return Nt[p].call(this,f,e)},g:function(t,e){let r=new Xt;ve.call(this,t,r,e),this.add(r);let s=Il.call(this,t);for(let a=0,c=t.childNodes.length;a<c;a++){let f=t.childNodes[a],p=f.nodeName;if(!p)return;let y=Wi(p);if(y in Nt){let _=Nt[y].call(r,f,s);!!_&&!_.parent&&r.add(_)}}return r},polygon:function(t,e){let r;typeof t=="string"?r=t:r=t.getAttribute("points");let s=[];r.replace(/(-?[\d.eE-]+)[,|\s](-?[\d.eE-]+)/g,function(c,f,p){s.push(new bt(parseFloat(f),parseFloat(p)))});let a=new kt(s,!0).noStroke();return a.fill="black",ve.call(this,t,a,e),a},polyline:function(t,e){let r=Nt.polygon.call(this,t,e);return r.closed=!1,r},path:function(t,e){let r;typeof t=="string"?(r=t,t=null):r=t.getAttribute("d");let s=[],a=!1,c=!1;if(r){let p=new bt,y,_,T=r.match(/[a-df-z][^a-df-z]*/ig),C=T.length-1;J.each(T.slice(0),function(A,x){let k=A.slice(1).trim().match(Ne.path),N=A[0],M=N.toLowerCase(),R,L,q,z,H,l=[];switch(x===0&&(T=[]),M){case"h":case"v":k.length>1&&(R=1);break;case"m":case"l":case"t":k.length>2&&(R=2);break;case"s":case"q":k.length>4&&(R=4);break;case"c":k.length>6&&(R=6);break;case"a":k.length>7&&(R=7);break}if(R){for(L=0,q=k.length,H=0;L<q;L+=R){if(z=N,H>0)switch(N){case"m":z="l";break;case"M":z="L";break}l.push(z+k.slice(L,L+R).join(" ")),H++}T=Array.prototype.concat.apply(T,l)}else T.push(A)}),J.each(T,function(A,x){let k,N,M,R=A[0],L=R.toLowerCase();_=A.slice(1).trim().match(Ne.path),c=R===L;let q,z,H,l,Z,G,nt,Q,_t,K,Tt,gt,zt,St,at,it,ct;switch(L){case"z":if(x>=C)a=!0;else{N=p.x,M=p.y,k=new bt(N,M,void 0,void 0,void 0,void 0,V.close);for(let mt=s.length-1;mt>=0;mt--){let tt=s[mt];if(/m/i.test(tt.command)){p=tt;break}}}break;case"m":case"l":y=void 0,N=parseFloat(_[0]),M=parseFloat(_[1]),k=new bt(N,M,void 0,void 0,void 0,void 0,/m/i.test(L)?V.move:V.line),c&&k.addSelf(p),p=k;break;case"h":case"v":K=/h/i.test(L)?"x":"y",Tt=/x/i.test(K)?"y":"x",k=new bt(void 0,void 0,void 0,void 0,void 0,void 0,V.line),k[K]=parseFloat(_[0]),k[Tt]=p[Tt],c&&(k[K]+=p[K]),p=k;break;case"c":case"s":q=p.x,z=p.y,y||(y=new $),/c/i.test(L)?(H=parseFloat(_[0]),l=parseFloat(_[1]),Z=parseFloat(_[2]),G=parseFloat(_[3]),nt=parseFloat(_[4]),Q=parseFloat(_[5])):(_t=Tn(p,y,c),H=_t.x,l=_t.y,Z=parseFloat(_[0]),G=parseFloat(_[1]),nt=parseFloat(_[2]),Q=parseFloat(_[3])),c&&(H+=q,l+=z,Z+=q,G+=z,nt+=q,Q+=z),p.controls.right.set(H-p.x,l-p.y),k=new bt(nt,Q,Z-nt,G-Q,void 0,void 0,V.curve),p=k,y=k.controls.left;break;case"t":case"q":q=p.x,z=p.y,y||(y=new $),/q/i.test(L)?(H=parseFloat(_[0]),l=parseFloat(_[1]),Z=parseFloat(_[0]),G=parseFloat(_[1]),nt=parseFloat(_[2]),Q=parseFloat(_[3])):(_t=Tn(p,y,c),H=_t.x,l=_t.y,Z=_t.x,G=_t.y,nt=parseFloat(_[0]),Q=parseFloat(_[1])),c&&(H+=q,l+=z,Z+=q,G+=z,nt+=q,Q+=z),p.controls.right.set((H-p.x)*.33,(l-p.y)*.33),k=new bt(nt,Q,Z-nt,G-Q,void 0,void 0,V.curve),p=k,y=k.controls.left;break;case"a":q=p.x,z=p.y,zt=parseFloat(_[0]),St=parseFloat(_[1]),at=parseFloat(_[2]),it=parseFloat(_[3]),ct=parseFloat(_[4]),nt=parseFloat(_[5]),Q=parseFloat(_[6]),c&&(nt+=q,Q+=z),gt=new bt(nt,Q),gt.command=V.arc,gt.rx=zt,gt.ry=St,gt.xAxisRotation=at,gt.largeArcFlag=it,gt.sweepFlag=ct,k=gt,p=gt,y=void 0;break}k&&(Array.isArray(k)?s=s.concat(k):s.push(k))})}r=new kt(s,a,void 0,!0).noStroke(),r.fill="black";let f=r.getBoundingClientRect(!0);return f.centroid={x:f.left+f.width/2,y:f.top+f.height/2},J.each(r.vertices,function(p){p.subSelf(f.centroid)}),ve.call(this,t,r,e),r.translation.addSelf(f.centroid),r},circle:function(t,e){let r=parseFloat(t.getAttribute("cx")),s=parseFloat(t.getAttribute("cy")),a=parseFloat(t.getAttribute("r")),c=new Ir(0,0,a).noStroke();return c.fill="black",ve.call(this,t,c,e),c.translation.x=r,c.translation.y=s,c},ellipse:function(t,e){let r=parseFloat(t.getAttribute("cx")),s=parseFloat(t.getAttribute("cy")),a=parseFloat(t.getAttribute("rx")),c=parseFloat(t.getAttribute("ry")),f=new Nr(0,0,a,c).noStroke();return f.fill="black",ve.call(this,t,f,e),f.translation.x=r,f.translation.y=s,f},rect:function(t,e){let r=parseFloat(t.getAttribute("rx")),s=parseFloat(t.getAttribute("ry"));if(!J.isNaN(r)||!J.isNaN(s))return Nt["rounded-rect"](t);let a=parseFloat(t.getAttribute("width")),c=parseFloat(t.getAttribute("height")),f=a/2,p=c/2,y=new oi(0,0,a,c).noStroke();return y.fill="black",ve.call(this,t,y,e),y.translation.x+=f,y.translation.y+=p,y},"rounded-rect":function(t,e){let r=parseFloat(t.getAttribute("rx"))||0,s=parseFloat(t.getAttribute("ry"))||0,a=parseFloat(t.getAttribute("width")),c=parseFloat(t.getAttribute("height")),f=a/2,p=c/2,y=new $(r,s),_=new jr(0,0,a,c,y).noStroke();return _.fill="black",ve.call(this,t,_,e),_.translation.x+=f,_.translation.y+=p,_},line:function(t,e){let r=parseFloat(t.getAttribute("x1")),s=parseFloat(t.getAttribute("y1")),a=parseFloat(t.getAttribute("x2")),c=parseFloat(t.getAttribute("y2")),f=new On(r,s,a,c).noFill();return ve.call(this,t,f,e),f},lineargradient:function(t,e){let r=t.getAttribute("gradientUnits"),s=t.getAttribute("spreadMethod");r||(r="objectBoundingBox"),s||(s="pad");let a=parseFloat(t.getAttribute("x1")||0),c=parseFloat(t.getAttribute("y1")||0),f=parseFloat(t.getAttribute("x2")||0),p=parseFloat(t.getAttribute("y2")||0),y=(f+a)/2,_=(p+c)/2;/userSpaceOnUse/i.test(r)&&(a-=y,c-=_,f-=y,p-=_);let T=[];for(let A=0;A<t.children.length;A++){let x=t.children[A],k=x.getAttribute("offset");/%/ig.test(k)&&(k=parseFloat(k.replace(/%/ig,""))/100),k=parseFloat(k);let N=x.getAttribute("stop-color"),M=x.getAttribute("stop-opacity"),R=x.getAttribute("style"),L;N===null&&(L=R?R.match(/stop-color:\s?([#a-fA-F0-9]*)/):!1,N=L&&L.length>1?L[1]:void 0),M===null?(L=R?R.match(/stop-opacity:\s?([0-9.-]*)/):!1,M=L&&L.length>1?parseFloat(L[1]):1):M=parseFloat(M),T.push(new Ze(k,N,M))}let C=new jt(a,c,f,p,T);return C.spread=s,C.units=r,ve.call(this,t,C,e),C},radialgradient:function(t,e){let r=t.getAttribute("gradientUnits"),s=t.getAttribute("spreadMethod");r||(r="objectBoundingBox"),s||(s="pad");let a=parseFloat(t.getAttribute("cx"))||0,c=parseFloat(t.getAttribute("cy"))||0,f=parseFloat(t.getAttribute("r")),p=parseFloat(t.getAttribute("fx")),y=parseFloat(t.getAttribute("fy"));J.isNaN(p)&&(p=a),J.isNaN(y)&&(y=c);let _=Math.abs(a+p)/2,T=Math.abs(c+y)/2;/userSpaceOnUse/i.test(r)&&(a-=_,c-=T,p-=_,y-=T);let C=[];for(let x=0;x<t.children.length;x++){let k=t.children[x],N=k.getAttribute("offset");/%/ig.test(N)&&(N=parseFloat(N.replace(/%/ig,""))/100),N=parseFloat(N);let M=k.getAttribute("stop-color"),R=k.getAttribute("stop-opacity"),L=k.getAttribute("style"),q;M===null&&(q=L?L.match(/stop-color:\s?([#a-fA-F0-9]*)/):!1,M=q&&q.length>1?q[1]:void 0),R===null?(q=L?L.match(/stop-opacity:\s?([0-9.-]*)/):!1,R=q&&q.length>1?parseFloat(q[1]):1):R=parseFloat(R),C.push(new Ze(N,M,R))}let A=new Dt(a,c,f,C,p,y);return A.spread=s,A.units=r,ve.call(this,t,A,e),A},text:function(t,e){let r=Ol(t.getAttribute("text-anchor"))||"left",s=Pl(t)||"baseline",a=t.textContent,c=new Ae(a);return ve.call(this,t,c,e),c.alignment=r,c.baseline=s,c},clippath:function(t,e){return Nt.defs.current&&!Nt.defs.current.contains(t.id)&&Nt.defs.current.add(t.id,t),null},image:function(t,e){let r,s=t.getAttribute("href")||t.getAttribute("xlink:href");if(!s)return r=new pe("encountered <image /> with no href."),console.warn(r.name,r.message),null;let a=parseFloat(t.getAttribute("x"))||0,c=parseFloat(t.getAttribute("y"))||0,f=parseFloat(t.getAttribute("width")),p=parseFloat(t.getAttribute("height")),y=new Lr(s,a,c);return J.isNaN(f)||(y.width=f),J.isNaN(p)||(y.height=p),ve.call(this,t,y,e),y}};function Na(t,e){let r=new XMLHttpRequest;return r.open("GET",t),r.onreadystatechange=function(){r.readyState===4&&r.status===200&&e(r.responseText)},r.send(),r}var En=class extends oi{constructor(t,e,r,s){super(e,r,0,0),m(this,"_flagTextures",!1),m(this,"_flagFrameRate",!1),m(this,"_flagIndex",!1),m(this,"_amount",1),m(this,"_duration",0),m(this,"_index",0),m(this,"_startTime",0),m(this,"_playing",!1),m(this,"_firstFrame",0),m(this,"_lastFrame",0),m(this,"_loop",!0),m(this,"_textures",null),m(this,"_frameRate",0),m(this,"_origin",null);for(let a in sa)Object.defineProperty(this,a,sa[a]);this._renderer.flagTextures=ql.bind(this),this._renderer.bindTextures=Hl.bind(this),this._renderer.unbindTextures=zl.bind(this),this.noStroke(),this.noFill(),Array.isArray(t)?this.textures=t.map(aa.bind(this)):this.textures=[aa(t)],this.origin=new $,this._update(),typeof s=="number"?this.frameRate=s:this.frameRate=En.DefaultFrameRate,this.index=0}play(t,e,r){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=J.performance.now(),typeof t=="number"&&(this._firstFrame=t),typeof e=="number"&&(this._lastFrame=e),typeof r=="function"?this._onLastFrame=r:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=this._firstFrame,this}clone(t){let e=new En(this.textures,this.translation.x,this.translation.y,this.frameRate);return e._loop=this._loop,this._playing&&e.play(),t&&t.add(e),e}toObject(){let t=super.toObject.call(this);return t.textures=this.textures.map(function(e){return e.toObject()}),t.frameRate=this.frameRate,t.index=this.index,t._firstFrame=this._firstFrame,t._lastFrame=this._lastFrame,t._loop=this._loop,t}_update(){let t=this._textures,e,r,s,a,c,f,p,y;return t&&(this._flagTextures&&(this._amount=t.length),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._playing&&this._frameRate>0?(a=this._amount,J.isNaN(this._lastFrame)&&(this._lastFrame=a-1),s=J.performance.now()-this._startTime,y=this._lastFrame+1,c=1e3*(y-this._firstFrame)/this._frameRate,this._loop?s=s%c:s=Math.min(s,c),p=ce(this._firstFrame,y,s/c),p=Math.floor(p),p!==this._index&&(this._index=p,f=t[this._index],f.loaded&&(e=f.image.width,r=f.image.height,this.width!==e&&(this.width=e),this.height!==r&&(this.height=r),this.fill=f,p>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()))):(this._flagIndex||!(this.fill instanceof Rt))&&(f=t[this._index],f.loaded&&(e=f.image.width,r=f.image.height,this.width!==e&&(this.width=e),this.height!==r&&(this.height=r)),this.fill=f)),super._update.call(this),this}flagReset(){return this._flagTextures=this._flagFrameRate=!1,super.flagReset.call(this),this}},Dr=En;m(Dr,"Properties",["textures","frameRate","index"]);m(Dr,"DefaultFrameRate",30);var sa={frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(t){this._frameRate=t,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(t){this._index=t,this._flagIndex=!0}},textures:{enumerable:!0,get:function(){return this._textures},set:function(t){let e=this._renderer.bindTextures,r=this._renderer.unbindTextures;this._textures&&this._textures.unbind(B.Types.insert,e).unbind(B.Types.remove,r),this._textures=new Je((t||[]).slice(0)),this._textures.bind(B.Types.insert,e).bind(B.Types.remove,r),e(this._textures)}}};function ql(){this._flagTextures=!0}function Hl(t){let e=t.length;for(;e--;)t[e].bind(B.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function zl(t){let e=t.length;for(;e--;)t[e].unbind(B.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function aa(t){if(t instanceof Rt)return t;if(typeof t=="string")return new Rt(t)}var Cr=class extends kt{constructor(t,e,r,s,a,c,f){let p=f||Gt.Resolution*3,y=[];for(let _=0;_<p;_++)y.push(new bt);super(y,!0,!1,!0),m(this,"_flagStartAngle",!1),m(this,"_flagEndAngle",!1),m(this,"_flagInnerRadius",!1),m(this,"_flagOuterRadius",!1),m(this,"_startAngle",0),m(this,"_endAngle",ne),m(this,"_innerRadius",0),m(this,"_outerRadius",0);for(let _ in oa)Object.defineProperty(this,_,oa[_]);typeof r=="number"&&(this.innerRadius=r),typeof s=="number"&&(this.outerRadius=s),typeof a=="number"&&(this.startAngle=a),typeof c=="number"&&(this.endAngle=c),this._update(),typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){let t=this._startAngle,e=this._endAngle,r=this._innerRadius,s=this._outerRadius,a=ge(t,ne)===ge(e,ne),c=r>0,f=this.vertices,p=c?f.length/2:f.length,y,_=0,T,C,A,x,k,N,M,R,L;for(a?p--:c||(p-=2),T=0,C=p-1;T<p;T++){switch(A=T/C,x=f[_],k=A*(e-t)+t,N=(e-t)/p,M=s*Math.cos(k),R=s*Math.sin(k),T){case 0:y=V.move;break;default:y=V.curve}x.command=y,x.x=M,x.y=R,x.controls.left.clear(),x.controls.right.clear(),x.command===V.curve&&(L=s*N/Math.PI,x.controls.left.x=L*Math.cos(k-Jt),x.controls.left.y=L*Math.sin(k-Jt),x.controls.right.x=L*Math.cos(k+Jt),x.controls.right.y=L*Math.sin(k+Jt),T===1&&x.controls.left.multiplyScalar(2),T===C&&x.controls.right.multiplyScalar(2)),_++}if(c){for(a?(f[_].command=V.close,_++):(p--,C=p-1),T=0;T<p;T++)A=T/C,x=f[_],k=(1-A)*(e-t)+t,N=(e-t)/p,M=r*Math.cos(k),R=r*Math.sin(k),y=V.curve,T<=0&&(y=a?V.move:V.line),x.command=y,x.x=M,x.y=R,x.controls.left.clear(),x.controls.right.clear(),x.command===V.curve&&(L=r*N/Math.PI,x.controls.left.x=L*Math.cos(k+Jt),x.controls.left.y=L*Math.sin(k+Jt),x.controls.right.x=L*Math.cos(k-Jt),x.controls.right.y=L*Math.sin(k-Jt),T===1&&x.controls.left.multiplyScalar(2),T===C&&x.controls.right.multiplyScalar(2)),_++;f[_].copy(f[0]),f[_].command=V.line}else a||(f[_].command=V.line,f[_].x=0,f[_].y=0,_++,f[_].copy(f[0]),f[_].command=V.line)}return super._update.call(this),this}flagReset(){return super.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this}clone(t){let e=this.innerRadius,r=this.outerRadius,s=this.startAngle,a=this.endAngle,c=this.vertices.length,f=new Cr(0,0,e,r,s,a,c);f.translation.copy(this.translation),f.rotation=this.rotation,f.scale=this.scale,f.skewX=this.skewX,f.skewY=this.skewY,this.matrix.manual&&f.matrix.copy(this.matrix);for(let p=0;p<kt.Properties.length;p++){let y=kt.Properties[p];f[y]=this[y]}return t&&t.add(f),f}toObject(){let t=super.toObject.call(this);for(let e=0;e<Cr.Properties.length;e++){let r=Cr.Properties[e];t[r]=this[r]}return t}},Pn=Cr;m(Pn,"Properties",["startAngle","endAngle","innerRadius","outerRadius"]);var oa={startAngle:{enumerable:!0,get:function(){return this._startAngle},set:function(t){this._startAngle=t,this._flagStartAngle=!0}},endAngle:{enumerable:!0,get:function(){return this._endAngle},set:function(t){this._endAngle=t,this._flagEndAngle=!0}},innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(t){this._innerRadius=t,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(t){this._outerRadius=t,this._flagOuterRadius=!0}}},Ul=Math.ceil,Vl=Math.floor,zi=class extends Qe{constructor(t){super(),m(this,"_flagVertices",!0),m(this,"_flagLength",!0),m(this,"_flagFill",!0),m(this,"_flagStroke",!0),m(this,"_flagLinewidth",!0),m(this,"_flagOpacity",!0),m(this,"_flagVisible",!0),m(this,"_flagSize",!0),m(this,"_flagSizeAttenuation",!0),m(this,"_length",0),m(this,"_fill","#fff"),m(this,"_stroke","#000"),m(this,"_linewidth",1),m(this,"_opacity",1),m(this,"_visible",!0),m(this,"_size",1),m(this,"_sizeAttenuation",!1),m(this,"_beginning",0),m(this,"_ending",1),m(this,"_dashes",null),m(this,"noFill",kt.prototype.noFill),m(this,"noStroke",kt.prototype.noStroke),m(this,"corner",kt.prototype.corner),m(this,"center",kt.prototype.center),m(this,"getBoundingClientRect",kt.prototype.getBoundingClientRect),m(this,"_updateLength",kt.prototype._updateLength);for(let e in la)Object.defineProperty(this,e,la[e]);this._renderer.type="points",this._renderer.flagVertices=Ra.bind(this),this._renderer.bindVertices=Ma.bind(this),this._renderer.unbindVertices=Fa.bind(this),this._renderer.flagFill=Oa.bind(this),this._renderer.flagStroke=Pa.bind(this),this._renderer.vertices=null,this._renderer.collection=null,this.sizeAttenuation=!1,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.className="",this.visible=!0,this.vertices=t,this.dashes=[],this.dashes.offset=0}clone(t){let e=new zi;for(let r=0;r<this.vertices.length;r++)e.vertices.push(this.vertices[r].clone());for(let r=0;r<zi.Properties.length;r++){let s=zi.Properties[r];e[s]=this[s]}return e.className=this.className,e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}toObject(){let t={vertices:this.vertices.map(function(e){return e.toObject()})};return J.each(zi.Properties,function(e){t[e]=this[e]},this),t.className=this.className,t.translation=this.translation.toObject(),t.rotation=this.rotation,t.scale=this.scale instanceof $?this.scale.toObject():this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&(t.matrix=this.matrix.toObject()),t}subdivide(t){this._update();let e=[];for(let r=0;r<this.vertices.length;r++){let s=this.vertices[r],a=this.vertices[r-1];if(!a)continue;let c=s.x,f=s.y,p=a.x,y=a.y,_=Mn(c,f,c,f,p,y,p,y,t);e=e.concat(_)}return this.vertices=e,this}_update(){if(this._flagVertices){this._flagLength&&this._updateLength(void 0,!0);let t=Math.min(this._beginning,this._ending),e=Math.max(this._beginning,this._ending),r=Fr(this,t*this._length),s=Fr(this,e*this._length),a=Ul(r),c=Vl(s),f=0,p;this._renderer.vertices=[],this._renderer.collection=[];for(let y=0;y<this._collection.length;y++)y>=a&&y<=c&&(p=this._collection[y],this._renderer.collection.push(p),this._renderer.vertices[f*2+0]=p.x,this._renderer.vertices[f*2+1]=p.y,f++)}return super._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagSize=this._flagSizeAttenuation=!1,super.flagReset.call(this),this}},Ln=zi;m(Ln,"Properties",["fill","stroke","linewidth","opacity","visible","size","sizeAttenuation","beginning","ending"]);var la={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(t){this._linewidth=t,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._opacity=t,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(t){this._visible=t,this._flagVisible=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(t){this._size=t,this._flagSize=!0}},sizeAttenuation:{enumerable:!0,get:function(){return this._sizeAttenuation},set:function(t){this._sizeAttenuation=t,this._flagSizeAttenuation=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof Yt||this._fill instanceof jt||this._fill instanceof Dt||this._fill instanceof Rt)&&this._fill.unbind(B.Types.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof Yt||this._fill instanceof jt||this._fill instanceof Dt||this._fill instanceof Rt)&&this._fill.bind(B.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof Yt||this._stroke instanceof jt||this._stroke instanceof Dt||this._stroke instanceof Rt)&&this._stroke.unbind(B.Types.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof Yt||this._stroke instanceof jt||this._stroke instanceof Dt||this._stroke instanceof Rt)&&this._stroke.bind(B.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(t){this._beginning=t,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(t){this._ending=t,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(t){let e=this._renderer.bindVertices,r=this._renderer.unbindVertices;this._collection&&this._collection.unbind(B.Types.insert,e).unbind(B.Types.remove,r),t instanceof Je?this._collection=t:this._collection=new Je(t||[]),this._collection.bind(B.Types.insert,e).bind(B.Types.remove,r),e(this._collection)}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(t){typeof t.offset!="number"&&(t.offset=this.dashes&&this._dashes.offset||0),this._dashes=t}}},Wl=Math.cos,$l=Math.sin,Er=class extends kt{constructor(t,e,r,s){s=Math.max(s||0,3),super(),m(this,"_flagWidth",!1),m(this,"_flagHeight",!1),m(this,"_flagSides",!1),m(this,"_radius",0),m(this,"_width",0),m(this,"_height",0),m(this,"_sides",0);for(let a in ha)Object.defineProperty(this,a,ha[a]);this.closed=!0,this.automatic=!1,typeof r=="number"&&(this.radius=r),typeof s=="number"&&(this.sides=s),this._update(),typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagSides){let t=this._sides,e=t+1,r=this.vertices.length;r>t&&(this.vertices.splice(t-1,r-t),r=t);for(let s=0;s<e;s++){let a=(s+.5)/t,c=ne*a+Math.PI/2,f=this._width*Wl(c)/2,p=this._height*$l(c)/2;s>=r?this.vertices.push(new bt(f,p)):this.vertices[s].set(f,p),this.vertices[s].command=s===0?V.move:V.line}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagSides=!1,super.flagReset.call(this),this}clone(t){let e=new Er(0,0,0,this.sides);e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,e.width=this.width,e.height=this.height,this.matrix.manual&&e.matrix.copy(this.matrix);for(let r=0;r<kt.Properties.length;r++){let s=kt.Properties[r];e[s]=this[s]}return t&&t.add(e),e}toObject(){let t=super.toObject.call(this);for(let e=0;e<Er.Properties.length;e++){let r=Er.Properties[e];t[r]=this[r]}return t}},In=Er;m(In,"Properties",["width","height","sides"]);var ha={radius:{enumerable:!0,get:function(){return this._radius},set:function(t){this._radius=t,this.width=t*2,this.height=t*2}},width:{enumerable:!0,get:function(){return this._width},set:function(t){this._width=t,this._flagWidth=!0,this._radius=Math.max(this.width,this.height)/2}},height:{enumerable:!0,get:function(){return this._height},set:function(t){this._height=t,this._flagHeight=!0,this._radius=Math.max(this.width,this.height)/2}},sides:{enumerable:!0,get:function(){return this._sides},set:function(t){this._sides=t,this._flagSides=!0}}},Xl=Math.cos,Yl=Math.sin,Rr=class extends kt{constructor(t,e,r,s,a){arguments.length<=3&&(s=r,r=s/2),(typeof a!="number"||a<=0)&&(a=5),super(),m(this,"_flagInnerRadius",!1),m(this,"_flagOuterRadius",!1),m(this,"_flagSides",!1),m(this,"_innerRadius",0),m(this,"_outerRadius",0),m(this,"_sides",0);for(let c in fa)Object.defineProperty(this,c,fa[c]);this.closed=!0,this.automatic=!1,typeof r=="number"&&(this.innerRadius=r),typeof s=="number"&&(this.outerRadius=s),typeof a=="number"&&(this.sides=a),this._update(),typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagInnerRadius||this._flagOuterRadius||this._flagSides){let t=this._sides*2,e=t+1,r=this.vertices.length;r>t&&(this.vertices.splice(t-1,r-t),r=t);for(let s=0;s<e;s++){let a=(s+.5)/t,c=ne*a,f=(s%2?this._outerRadius:this._innerRadius)/2,p=f*Xl(c),y=f*Yl(c);s>=r?this.vertices.push(new bt(p,y)):this.vertices[s].set(p,y),this.vertices[s].command=s===0?V.move:V.line}}return super._update.call(this),this}flagReset(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,super.flagReset.call(this),this}clone(t){let e=this.innerRadius,r=this.outerRadius,s=this.sides,a=new Rr(0,0,e,r,s);a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix);for(let c=0;c<kt.Properties.length;c++){let f=kt.Properties[c];a[f]=this[f]}return t&&t.add(a),a}toObject(){let t=super.toObject.call(this);for(let e=0;e<Rr.Properties.length;e++){let r=Rr.Properties[e];t[r]=this[r]}return t}},Nn=Rr;m(Nn,"Properties",["innerRadius","outerRadius","sides"]);var fa={innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(t){this._innerRadius=t,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(t){this._outerRadius=t,this._flagOuterRadius=!0}},sides:{enumerable:!0,get:function(){return this._sides},set:function(t){this._sides=t,this._flagSides=!0}}},ht={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},createElement:function(t,e){let r=t,s=document.createElementNS(ht.ns,r);return r==="svg"&&(e=J.defaults(e||{},{version:ht.version})),e&&Object.keys(e).length>0&&ht.setAttributes(s,e),s},setAttributes:function(t,e){let r=Object.keys(e);for(let s=0;s<r.length;s++)/href/.test(r[s])?t.setAttributeNS(ht.xlink,r[s],e[r[s]]):t.setAttribute(r[s],e[r[s]]);return this},removeAttributes:function(t,e){for(let r in e)t.removeAttribute(r);return this},toString:function(t,e){let r=t.length,s=r-1,a,c="";for(let f=0;f<r;f++){let p=t[f],y=e?ge(f-1,r):Math.max(f-1,0),_=t[y],T,C,A,x,k,N,M,R,L,q,z,H,l,Z,G,nt=Ht(p.x),Q=Ht(p.y);switch(p.command){case V.close:T=V.close;break;case V.arc:z=p.rx,H=p.ry,l=p.xAxisRotation,Z=p.largeArcFlag,G=p.sweepFlag,T=V.arc+" "+z+" "+H+" "+l+" "+Z+" "+G+" "+nt+" "+Q;break;case V.curve:M=_.controls&&_.controls.right||$.zero,R=p.controls&&p.controls.left||$.zero,_.relative?(A=Ht(M.x+_.x),x=Ht(M.y+_.y)):(A=Ht(M.x),x=Ht(M.y)),p.relative?(k=Ht(R.x+p.x),N=Ht(R.y+p.y)):(k=Ht(R.x),N=Ht(R.y)),T=(f===0?V.move:V.curve)+" "+A+" "+x+" "+k+" "+N+" "+nt+" "+Q;break;case V.move:a=p,T=V.move+" "+nt+" "+Q;break;default:T=p.command+" "+nt+" "+Q}f>=s&&e&&(p.command===V.curve&&(C=a,L=p.controls&&p.controls.right||p,q=C.controls&&C.controls.left||C,p.relative?(A=Ht(L.x+p.x),x=Ht(L.y+p.y)):(A=Ht(L.x),x=Ht(L.y)),C.relative?(k=Ht(q.x+C.x),N=Ht(q.y+C.y)):(k=Ht(q.x),N=Ht(q.y)),nt=Ht(C.x),Q=Ht(C.y),T+=" C "+A+" "+x+" "+k+" "+N+" "+nt+" "+Q),p.command!==V.close&&(T+=" Z")),c+=T+" "}return c},pointsToString:function(t,e){let r="",s=e*.5;for(let a=0;a<t.length;a++){let c=t[a].x,f=t[a].y-s;r+=V.move+" "+c+" "+f+" ",r+="a "+s+" "+s+" 0 1 0 0.001 0 Z"}return r},getClip:function(t,e){let r=t._renderer.clip;return r||(r=t._renderer.clip=ht.createElement("clipPath",{"clip-rule":"nonzero"})),r.parentNode===null&&e.defs.appendChild(r),r},defs:{update:function(t){let{defs:e}=t;if(e._flagUpdate){let r=Array.prototype.slice.call(e.children,0);for(let s=0;s<r.length;s++){let a=r[s],c=a.id,f=`[fill="url(#${c})"],[stroke="url(#${c})"],[clip-path="url(#${c})"]`;t.querySelector(f)||e.removeChild(a)}e._flagUpdate=!1}}},group:{appendChild:function(t){let e=t._renderer.elem;if(!e)return;let r=e.nodeName;!r||/(radial|linear)gradient/i.test(r)||t._clip||this.elem.appendChild(e)},removeChild:function(t){let e=t._renderer.elem;!e||e.parentNode!=this.elem||!e.nodeName||t._clip||this.elem.removeChild(e)},orderChild:function(t){this.elem.appendChild(t._renderer.elem)},renderChild:function(t){ht[t._renderer.type].render.call(t,this)},render:function(t){if(!this._visible&&!this._flagVisible||this._opacity===0&&!this._flagOpacity)return this;this._update(),this._renderer.elem||(this._renderer.elem=ht.createElement("g",{id:this.id}),t.appendChild(this._renderer.elem));let e=this._matrix.manual||this._flagMatrix,r={domElement:t,elem:this._renderer.elem};e&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(let s=0;s<this.children.length;s++){let a=this.children[s];ht[a._renderer.type].render.call(a,t)}return this._flagId&&this._renderer.elem.setAttribute("id",this._id),this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagVisible&&this._renderer.elem.setAttribute("display",this._visible?"inline":"none"),this._flagClassName&&this._renderer.elem.setAttribute("class",this.classList.join(" ")),this._flagAdditions&&this.additions.forEach(ht.group.appendChild,r),this._flagSubtractions&&this.subtractions.forEach(ht.group.removeChild,r),this._flagOrder&&this.children.forEach(ht.group.orderChild,r),this._flagMask&&(this._mask?(ht[this._mask._renderer.type].render.call(this._mask,t),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this.dataset&&Object.assign(this._renderer.elem.dataset,this.dataset),this.flagReset()}},path:{render:function(t){if(this._opacity===0&&!this._flagOpacity)return this;this._update();let e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(e.id=this._id),this._flagVertices){let s=ht.toString(this._renderer.vertices,this._closed);e.d=s}if(this._fill&&this._fill._renderer&&(this._renderer.hasFillEffect=!0,this._fill._update(),ht[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(t.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer&&(this._renderer.hasStrokeEffect=!0,this._stroke._update(),ht[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(t.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e["stroke-opacity"]=this._opacity,e["fill-opacity"]=this._opacity),this._flagClassName&&(e.class=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this._flagCap&&(e["stroke-linecap"]=this._cap),this._flagJoin&&(e["stroke-linejoin"]=this._join),this._flagMiter&&(e["stroke-miterlimit"]=this._miter),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?ht.setAttributes(this._renderer.elem,e):(e.id=this._id,this._renderer.elem=ht.createElement("path",e),t.appendChild(this._renderer.elem)),this._flagClip){let s=ht.getClip(this,t),a=this._renderer.elem;this._clip?(a.removeAttribute("id"),s.setAttribute("id",this.id),s.appendChild(a)):(s.removeAttribute("id"),a.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(a))}return this._flagMask&&(this._mask?(ht[this._mask._renderer.type].render.call(this._mask,t),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this.flagReset()}},points:{render:function(t){if(this._opacity===0&&!this._flagOpacity)return this;this._update();let e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(e.id=this._id),this._flagVertices||this._flagSize||this._flagSizeAttenuation){let s=this._size;if(!this._sizeAttenuation){let c=this.worldMatrix.elements,f=Si(c[0],c[3],c[1],c[4],c[2],c[5]);s/=Math.max(f.scaleX,f.scaleY)}let a=ht.pointsToString(this._renderer.collection,s);e.d=a}return this._fill&&this._fill._renderer&&(this._renderer.hasFillEffect=!0,this._fill._update(),ht[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(t.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer&&(this._renderer.hasStrokeEffect=!0,this._stroke._update(),ht[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(t.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e["stroke-opacity"]=this._opacity,e["fill-opacity"]=this._opacity),this._flagClassName&&(e.class=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?ht.setAttributes(this._renderer.elem,e):(e.id=this._id,this._renderer.elem=ht.createElement("path",e),t.appendChild(this._renderer.elem)),this.flagReset()}},text:{render:function(t){this._update();let e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(e.id=this._id),this._flagFamily&&(e["font-family"]=this._family),this._flagSize&&(e["font-size"]=this._size),this._flagLeading&&(e["line-height"]=this._leading),this._flagAlignment&&(e["text-anchor"]=ht.alignments[this._alignment]||this._alignment),this._flagBaseline&&(e["alignment-baseline"]=e["dominant-baseline"]=this._baseline),this._flagStyle&&(e["font-style"]=this._style),this._flagWeight&&(e["font-weight"]=this._weight),this._flagDecoration&&(e["text-decoration"]=this._decoration),this._fill&&this._fill._renderer&&(this._renderer.hasFillEffect=!0,this._fill._update(),ht[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(t.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer&&(this._renderer.hasStrokeEffect=!0,this._stroke._update(),ht[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(t.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e.opacity=this._opacity),this._flagClassName&&(e.class=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?ht.setAttributes(this._renderer.elem,e):(e.id=this._id,this._renderer.elem=ht.createElement("text",e),t.appendChild(this._renderer.elem)),this._flagClip){let s=ht.getClip(this,t),a=this._renderer.elem;this._clip?(a.removeAttribute("id"),s.setAttribute("id",this.id),s.appendChild(a)):(s.removeAttribute("id"),a.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(a))}return this._flagMask&&(this._mask?(ht[this._mask._renderer.type].render.call(this._mask,t),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(t,e){e||this._update();let r={};if(this._flagId&&(r.id=this._id),this._flagEndPoints&&(r.x1=this.left._x,r.y1=this.left._y,r.x2=this.right._x,r.y2=this.right._y),this._flagSpread&&(r.spreadMethod=this._spread),this._flagUnits&&(r.gradientUnits=this._units),this._renderer.elem?ht.setAttributes(this._renderer.elem,r):(r.id=this._id,this._renderer.elem=ht.createElement("linearGradient",r)),this._renderer.elem.parentNode===null&&t.defs.appendChild(this._renderer.elem),this._flagStops){let s=this._renderer.elem.childNodes.length!==this.stops.length;if(s)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let a=0;a<this.stops.length;a++){let c=this.stops[a],f={};c._flagOffset&&(f.offset=100*c._offset+"%"),c._flagColor&&(f["stop-color"]=c._color),c._flagOpacity&&(f["stop-opacity"]=c._opacity),c._renderer.elem?ht.setAttributes(c._renderer.elem,f):c._renderer.elem=ht.createElement("stop",f),s&&this._renderer.elem.appendChild(c._renderer.elem),c.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(t,e){e||this._update();let r={};if(this._flagId&&(r.id=this._id),this._flagCenter&&(r.cx=this.center._x,r.cy=this.center._y),this._flagFocal&&(r.fx=this.focal._x,r.fy=this.focal._y),this._flagRadius&&(r.r=this._radius),this._flagSpread&&(r.spreadMethod=this._spread),this._flagUnits&&(r.gradientUnits=this._units),this._renderer.elem?ht.setAttributes(this._renderer.elem,r):(r.id=this._id,this._renderer.elem=ht.createElement("radialGradient",r)),this._renderer.elem.parentNode===null&&t.defs.appendChild(this._renderer.elem),this._flagStops){let s=this._renderer.elem.childNodes.length!==this.stops.length;if(s)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let a=0;a<this.stops.length;a++){let c=this.stops[a],f={};c._flagOffset&&(f.offset=100*c._offset+"%"),c._flagColor&&(f["stop-color"]=c._color),c._flagOpacity&&(f["stop-opacity"]=c._opacity),c._renderer.elem?ht.setAttributes(c._renderer.elem,f):c._renderer.elem=ht.createElement("stop",f),s&&this._renderer.elem.appendChild(c._renderer.elem),c.flagReset()}}return this.flagReset()}},texture:{render:function(t,e){e||this._update();let r={},s={x:0,y:0},a=this.image;if(this._flagId&&(r.id=this._id),this._flagLoaded&&this.loaded)switch(a.nodeName.toLowerCase()){case"canvas":s.href=s["xlink:href"]=a.toDataURL("image/png");break;case"img":case"image":s.href=s["xlink:href"]=this.src;break}if((this._flagOffset||this._flagLoaded||this._flagScale)&&(r.x=this._offset.x,r.y=this._offset.y,a&&(r.x-=a.width/2,r.y-=a.height/2,this._scale instanceof $?(r.x*=this._scale.x,r.y*=this._scale.y):(r.x*=this._scale,r.y*=this._scale)),r.x>0&&(r.x*=-1),r.y>0&&(r.y*=-1)),(this._flagScale||this._flagLoaded||this._flagRepeat)&&(r.width=0,r.height=0,a)){switch(s.width=r.width=a.width,s.height=r.height=a.height,this._repeat){case"no-repeat":r.width+=1,r.height+=1;break}this._scale instanceof $?(r.width*=this._scale.x,r.height*=this._scale.y):(r.width*=this._scale,r.height*=this._scale)}return(this._flagScale||this._flagLoaded)&&(this._renderer.image?ht.setAttributes(this._renderer.image,s):this._renderer.image=ht.createElement("image",s)),this._renderer.elem?Object.keys(r).length!==0&&ht.setAttributes(this._renderer.elem,r):(r.id=this._id,r.patternUnits="userSpaceOnUse",this._renderer.elem=ht.createElement("pattern",r)),this._renderer.elem.parentNode===null&&t.defs.appendChild(this._renderer.elem),this._renderer.elem&&this._renderer.image&&!this._renderer.appended&&(this._renderer.elem.appendChild(this._renderer.image),this._renderer.appended=!0),this.flagReset()}}},ja=class extends B{constructor(t){super(),this.domElement=t.domElement||ht.createElement("svg"),this.scene=new Xt,this.scene.parent=this,this.defs=ht.createElement("defs"),this.defs._flagUpdate=!1,this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"}setSize(t,e){return this.width=t,this.height=e,ht.setAttributes(this.domElement,{width:t,height:e}),this.trigger(B.Types.resize,t,e)}render(){return ht.group.render.call(this.scene,this.domElement),ht.defs.update(this.domElement),this}};m(ja,"Utils",ht);var xe={create:function(t,e,r){let s=t.createShader(t[r]);if(t.shaderSource(s,e),t.compileShader(s),!t.getShaderParameter(s,t.COMPILE_STATUS)){let c=t.getShaderInfoLog(s);throw t.deleteShader(s),new pe("unable to compile shader "+s+": "+c)}return s},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},path:{vertex:`
      precision mediump float;
      attribute vec2 a_position;

      uniform mat3 u_matrix;
      uniform vec2 u_resolution;
      uniform vec4 u_rect;

      varying vec2 v_textureCoords;

      void main() {
        vec2 rectCoords = (a_position * (u_rect.zw - u_rect.xy)) + u_rect.xy;
        vec2 projected = (u_matrix * vec3(rectCoords, 1.0)).xy;
        vec2 normal = projected / u_resolution;
        vec2 clipspace = (normal * 2.0) - 1.0;

        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);
        v_textureCoords = a_position;
      }
    `,fragment:`
      precision mediump float;

      uniform sampler2D u_image;
      varying vec2 v_textureCoords;

      void main() {
        vec4 texel = texture2D(u_image, v_textureCoords);
        if (texel.a == 0.0) {
          discard;
        }
        gl_FragColor = texel;
      }
    `},points:{vertex:`
      precision mediump float;
      attribute vec2 a_position;

      uniform float u_size;
      uniform mat3 u_matrix;
      uniform vec2 u_resolution;

      varying vec2 v_textureCoords;

      void main() {
        vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;
        vec2 normal = projected / u_resolution;
        vec2 clipspace = (normal * 2.0) - 1.0;

        gl_PointSize = u_size;
        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);
        v_textureCoords = a_position;
      }
    `,fragment:`
      precision mediump float;

      uniform sampler2D u_image;

      void main() {
        vec4 texel = texture2D(u_image, gl_PointCoord);
        if (texel.a == 0.0) {
          discard;
        }
        gl_FragColor = texel;
      }
    `}},vr=ai.Multiply,Gl=[1,0,0,0,1,0,0,0,1],Ge=new je(9),Kl=Xi.Utils,Rn=new je([0,0,1,0,0,1,0,1,1,0,1,1]),dt={precision:.9,isHidden:/(undefined|none|transparent)/i,canvas:Bt.document?Bt.document.createElement("canvas"):{getContext:function(){}},alignments:{left:"start",middle:"center",right:"end"},matrix:new ai,group:{removeChild:function(t,e){if(t.children)for(let r=0;r<t.children.length;r++)dt.group.removeChild(t.children[r],e);t._renderer.texture&&(e.deleteTexture(t._renderer.texture),delete t._renderer.texture),t._renderer.positionBuffer&&(e.deleteBuffer(t._renderer.positionBuffer),delete t._renderer.positionBuffer)},render:function(t,e){if(!this._visible)return;this._update();let r=this.parent,s=r._matrix&&r._matrix.manual||r._flagMatrix,a=this._matrix.manual||this._flagMatrix;(s||a)&&(this._renderer.matrix||(this._renderer.matrix=new je(9)),this._matrix.toTransformArray(!0,Ge),vr(Ge,r._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof $||(this._renderer.scale=new $),this._scale instanceof $?(this._renderer.scale.x=this._scale.x,this._renderer.scale.y=this._scale.y):(this._renderer.scale.x=this._scale,this._renderer.scale.y=this._scale),/renderer/i.test(r._renderer.type)||(this._renderer.scale.x*=r._renderer.scale.x,this._renderer.scale.y*=r._renderer.scale.y),s&&(this._flagMatrix=!0)),this._mask&&(t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,0),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1),dt[this._mask._renderer.type].render.call(this._mask,t,e,this),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.colorMask(!0,!0,!0,!0)),this._flagOpacity=r._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(r&&r._renderer?r._renderer.opacity:1);let c;if(this._flagSubtractions)for(c=0;c<this.subtractions.length;c++)dt.group.removeChild(this.subtractions[c],t);for(c=0;c<this.children.length;c++){let f=this.children[c];dt[f._renderer.type].render.call(f,t,e)}return this._mask&&t.disable(t.STENCIL_TEST),this.flagReset()}},path:{updateCanvas:function(t){let e,r,s,a,c,f,p,y,_,T,C,A,x,k,N=t._renderer.vertices,M=this.canvas,R=this.ctx,L=t._renderer.scale,q=t._stroke,z=t._linewidth,H=t._fill,l=t._renderer.opacity||t._opacity,Z=t._cap,G=t._join,nt=t._miter,Q=t._closed,_t=t.dashes,K=N.length,Tt=K-1;M.width=Math.max(Math.ceil(t._renderer.rect.width*L.x),1),M.height=Math.max(Math.ceil(t._renderer.rect.height*L.y),1);let gt=t._renderer.rect.centroid,zt=gt.x,St=gt.y;R.clearRect(0,0,M.width,M.height),H&&(typeof H=="string"?R.fillStyle=H:(dt[H._renderer.type].render.call(H,R,t),R.fillStyle=H._renderer.effect)),q&&(typeof q=="string"?R.strokeStyle=q:(dt[q._renderer.type].render.call(q,R,t),R.strokeStyle=q._renderer.effect),z&&(R.lineWidth=z),nt&&(R.miterLimit=nt),G&&(R.lineJoin=G),!Q&&Z&&(R.lineCap=Z)),typeof l=="number"&&(R.globalAlpha=l),_t&&_t.length>0&&(R.lineDashOffset=_t.offset||0,R.setLineDash(_t));let at,it,ct,mt,tt,Pt,Kt,Ut;R.save(),R.scale(L.x,L.y),R.translate(zt,St),R.beginPath();for(let Ot=0;Ot<N.length;Ot++){let Et=N[Ot];switch(A=Et.x,x=Et.y,Et.command){case V.close:R.closePath();break;case V.arc:it=Et.rx,ct=Et.ry,mt=Et.xAxisRotation,tt=Et.largeArcFlag,Pt=Et.sweepFlag,e=Q?ge(Ot-1,K):Math.max(Ot-1,0),r=N[e],Kt=r.x,Ut=r.y,Kl.renderSvgArcCommand(R,Kt,Ut,it,ct,tt,Pt,mt,A,x);break;case V.curve:e=Q?ge(Ot-1,K):Math.max(Ot-1,0),r=N[e],y=r.controls&&r.controls.right||$.zero,_=Et.controls&&Et.controls.left||$.zero,r._relative?(f=y.x+r.x,p=y.y+r.y):(f=y.x,p=y.y),Et._relative?(a=_.x+Et.x,c=_.y+Et.y):(a=_.x,c=_.y),R.bezierCurveTo(f,p,a,c,A,x),Ot>=Tt&&Q&&(s=at,T=Et.controls&&Et.controls.right||$.zero,C=s.controls&&s.controls.left||$.zero,Et._relative?(f=T.x+Et.x,p=T.y+Et.y):(f=T.x,p=T.y),s._relative?(a=C.x+s.x,c=C.y+s.y):(a=C.x,c=C.y),A=s.x,x=s.y,R.bezierCurveTo(f,p,a,c,A,x));break;case V.line:R.lineTo(A,x);break;case V.move:at=Et,R.moveTo(A,x);break}}Q&&R.closePath(),dt.isHidden.test(H)||(k=H._renderer&&H._renderer.offset,k&&(R.save(),R.translate(-H._renderer.offset.x,-H._renderer.offset.y),R.scale(H._renderer.scale.x,H._renderer.scale.y)),R.fill(),k&&R.restore()),dt.isHidden.test(q)||(k=q._renderer&&q._renderer.offset,k&&(R.save(),R.translate(-q._renderer.offset.x,-q._renderer.offset.y),R.scale(q._renderer.scale.x,q._renderer.scale.y),R.lineWidth=z/q._renderer.scale.x),R.stroke(),k&&R.restore()),R.restore()},getBoundingClientRect:function(t,e,r){let s=1/0,a=-1/0,c=1/0,f=-1/0,p,y;t.forEach(function(_){let T=_.x,C=_.y,A=_.controls,x,k,N,M,R,L;c=Math.min(C,c),s=Math.min(T,s),a=Math.max(T,a),f=Math.max(C,f),_.controls&&(R=A.left,L=A.right,!(!R||!L)&&(x=_._relative?R.x+T:R.x,k=_._relative?R.y+C:R.y,N=_._relative?L.x+T:L.x,M=_._relative?L.y+C:L.y,!(!x||!k||!N||!M)&&(c=Math.min(k,M,c),s=Math.min(x,N,s),a=Math.max(x,N,a),f=Math.max(k,M,f))))}),typeof e=="number"&&(c-=e,s-=e,a+=e,f+=e),p=a-s,y=f-c,r.top=c,r.left=s,r.right=a,r.bottom=f,r.width=p,r.height=y,r.centroid||(r.centroid={}),r.centroid.x=-s,r.centroid.y=-c},render:function(t,e,r){if(!this._visible||!this._opacity)return this;this._update();let s=r||this.parent,a=e[this._renderer.type],c=s._matrix.manual||s._flagMatrix,f=this._matrix.manual||this._flagMatrix,p=this._renderer.parent!==s,y=this._flagVertices||this._flagFill||this._fill instanceof jt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Dt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Rt&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof jt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Dt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Rt&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||s._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((c||f||p)&&(this._renderer.matrix||(this._renderer.matrix=new je(9)),this._matrix.toTransformArray(!0,Ge),vr(Ge,s._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof $||(this._renderer.scale=new $),this._scale instanceof $?(this._renderer.scale.x=this._scale.x*s._renderer.scale.x,this._renderer.scale.y=this._scale.y*s._renderer.scale.y):(this._renderer.scale.x=this._scale*s._renderer.scale.x,this._renderer.scale.y=this._scale*s._renderer.scale.y),p&&(this._renderer.parent=s)),this._mask&&(t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,0),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1),dt[this._mask._renderer.type].render.call(this._mask,t,e,this),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.colorMask(!0,!0,!0,!0)),y?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*s._renderer.opacity,dt.path.getBoundingClientRect(this._renderer.vertices,this._linewidth,this._renderer.rect),dt.updateTexture.call(dt,t,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!r||!this._renderer.texture)return this;e.current!==a&&(t.useProgram(a),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.position),t.vertexAttribPointer(a.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a.position),t.bufferData(t.ARRAY_BUFFER,Rn,t.STATIC_DRAW),e.resolution.flagged||t.uniform2f(t.getUniformLocation(a,"u_resolution"),e.resolution.width,e.resolution.height),e.current=a),e.resolution.flagged&&t.uniform2f(t.getUniformLocation(a,"u_resolution"),e.resolution.width,e.resolution.height),t.bindTexture(t.TEXTURE_2D,this._renderer.texture);let _=this._renderer.rect;return t.uniformMatrix3fv(a.matrix,!1,this._renderer.matrix),t.uniform4f(a.rect,_.left,_.top,_.right,_.bottom),t.drawArrays(t.TRIANGLES,0,6),this._mask&&t.disable(t.STENCIL_TEST),this.flagReset()}},points:{updateCanvas:function(t){let e,r=this.canvas,s=this.ctx,a=t._stroke,c=t._linewidth,f=t._fill,p=t._renderer.opacity||t._opacity,y=t.dashes,_=t._size,T=_;dt.isHidden.test(a)||(T+=c),r.width=ma(T),r.height=r.width;let C=T/r.width,A=r.width/2,x=r.height/2;s.clearRect(0,0,r.width,r.height),f&&(typeof f=="string"?s.fillStyle=f:(dt[f._renderer.type].render.call(f,s,t),s.fillStyle=f._renderer.effect)),a&&(typeof a=="string"?s.strokeStyle=a:(dt[a._renderer.type].render.call(a,s,t),s.strokeStyle=a._renderer.effect),c&&(s.lineWidth=c/C)),typeof p=="number"&&(s.globalAlpha=p),y&&y.length>0&&(s.lineDashOffset=y.offset||0,s.setLineDash(y)),s.save(),s.translate(A,x),s.scale(dt.precision,dt.precision),s.beginPath(),s.arc(0,0,_/C*.5,0,ne),s.restore(),closed&&s.closePath(),dt.isHidden.test(f)||(e=f._renderer&&f._renderer.offset,e&&(s.save(),s.translate(-f._renderer.offset.x,-f._renderer.offset.y),s.scale(f._renderer.scale.x,f._renderer.scale.y)),s.fill(),e&&s.restore()),dt.isHidden.test(a)||(e=a._renderer&&a._renderer.offset,e&&(s.save(),s.translate(-a._renderer.offset.x,-a._renderer.offset.y),s.scale(a._renderer.scale.x,a._renderer.scale.y),s.lineWidth=c/a._renderer.scale.x),s.stroke(),e&&s.restore())},render:function(t,e,r){if(!this._visible||!this._opacity)return this;this._update();let s=this._size,a=r||this.parent,c=e[this._renderer.type],f=this._sizeAttenuation,p=this._stroke,y=this._linewidth,_=a._matrix.manual||a._flagMatrix,T=this._matrix.manual||this._flagMatrix,C=this._renderer.parent!==a,A=this._renderer.vertices,x=this._renderer.collection.length,k=this._flagVertices,N=this._flagFill||this._fill instanceof jt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Dt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Rt&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof jt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Dt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Rt&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||a._flagOpacity||this._flagVisible||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((_||T||C)&&(this._renderer.matrix||(this._renderer.matrix=new je(9)),this._matrix.toTransformArray(!0,Ge),vr(Ge,a._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof $||(this._renderer.scale=new $),this._scale instanceof $?(this._renderer.scale.x=this._scale.x*a._renderer.scale.x,this._renderer.scale.y=this._scale.y*a._renderer.scale.y):(this._renderer.scale.x=this._scale*a._renderer.scale.x,this._renderer.scale.y=this._scale*a._renderer.scale.y),C&&(this._renderer.parent=a)),k){let M=this._renderer.positionBuffer;M&&t.deleteBuffer(M),this._renderer.positionBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._renderer.positionBuffer),t.vertexAttribPointer(c.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(c.position),t.bufferData(t.ARRAY_BUFFER,A,t.STATIC_DRAW)}return N?(this._renderer.opacity=this._opacity*a._renderer.opacity,dt.updateTexture.call(dt,t,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!r||!this._renderer.texture?this:(dt.isHidden.test(p)||(s+=y),s/=dt.precision,f&&(s*=Math.max(this._renderer.scale.x,this._renderer.scale.y)),e.current!==c&&(t.useProgram(c),e.resolution.flagged||t.uniform2f(t.getUniformLocation(c,"u_resolution"),e.resolution.width,e.resolution.height),e.current=c),e.resolution.flagged&&t.uniform2f(t.getUniformLocation(c,"u_resolution"),e.resolution.width,e.resolution.height),t.bindTexture(t.TEXTURE_2D,this._renderer.texture),t.uniformMatrix3fv(c.matrix,!1,this._renderer.matrix),t.uniform1f(c.size,s*e.resolution.ratio),t.drawArrays(t.POINTS,0,x),this.flagReset())}},text:{updateCanvas:function(t){let e=this.canvas,r=this.ctx,s=t._renderer.scale,a=t._stroke,c=t._linewidth*s,f=t._fill,p=t._renderer.opacity||t._opacity,y=t.dashes,_=t._decoration;e.width=Math.max(Math.ceil(t._renderer.rect.width*s.x),1),e.height=Math.max(Math.ceil(t._renderer.rect.height*s.y),1);let T=t._renderer.rect.centroid,C=T.x,A=T.y,x,k,N,M,R,L,q,z,H,l,Z,G=f._renderer&&f._renderer.offset&&a._renderer&&a._renderer.offset;if(r.clearRect(0,0,e.width,e.height),G||(r.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" ")),r.textAlign="center",r.textBaseline="middle",f&&(typeof f=="string"?r.fillStyle=f:(dt[f._renderer.type].render.call(f,r,t),r.fillStyle=f._renderer.effect)),a&&(typeof a=="string"?r.strokeStyle=a:(dt[a._renderer.type].render.call(a,r,t),r.strokeStyle=a._renderer.effect),c&&(r.lineWidth=c)),typeof p=="number"&&(r.globalAlpha=p),y&&y.length>0&&(r.lineDashOffset=y.offset||0,r.setLineDash(y)),r.save(),r.scale(s.x,s.y),r.translate(C,A),dt.isHidden.test(f)||(f._renderer&&f._renderer.offset?(L=f._renderer.scale.x,q=f._renderer.scale.y,r.save(),r.translate(-f._renderer.offset.x,-f._renderer.offset.y),r.scale(L,q),x=t._size/f._renderer.scale.y,k=t._leading/f._renderer.scale.y,r.font=[t._style,t._weight,x+"px/",k+"px",t._family].join(" "),N=f._renderer.offset.x/f._renderer.scale.x,M=f._renderer.offset.y/f._renderer.scale.y,r.fillText(t.value,N,M),r.restore()):r.fillText(t.value,0,0)),dt.isHidden.test(a)||(a._renderer&&a._renderer.offset?(L=a._renderer.scale.x,q=a._renderer.scale.y,r.save(),r.translate(-a._renderer.offset.x,-a._renderer.offset.y),r.scale(L,q),x=t._size/a._renderer.scale.y,k=t._leading/a._renderer.scale.y,r.font=[t._style,t._weight,x+"px/",k+"px",t._family].join(" "),N=a._renderer.offset.x/a._renderer.scale.x,M=a._renderer.offset.y/a._renderer.scale.y,R=c/a._renderer.scale.x,r.lineWidth=R,r.strokeText(t.value,N,M),r.restore()):r.strokeText(t.value,0,0)),/(underline|strikethrough)/i.test(_)){let nt=r.measureText(t.value);switch(_){case"underline":H=nt.actualBoundingBoxAscent,Z=nt.actualBoundingBoxAscent;break;case"strikethrough":H=0,Z=0;break}z=-nt.width/2,l=nt.width/2,r.lineWidth=Math.max(Math.floor(t._size/15),1),r.strokeStyle=r.fillStyle,r.beginPath(),r.moveTo(z,H),r.lineTo(l,Z),r.stroke()}r.restore()},getBoundingClientRect:function(t,e){let r=dt.ctx;r.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" "),r.textAlign="center",r.textBaseline=t._baseline;let s=r.measureText(t._value).width*1.25,a=Math.max(t._size,t._leading)*1.25;this._linewidth&&!dt.isHidden.test(this._stroke)&&(s+=this._linewidth*2,a+=this._linewidth*2);let c=s/2,f=a/2;switch(dt.alignments[t._alignment]||t._alignment){case dt.alignments.left:e.left=0,e.right=s;break;case dt.alignments.right:e.left=-s,e.right=0;break;default:e.left=-c,e.right=c}switch(t._baseline){case"bottom":e.top=-a,e.bottom=0;break;case"top":e.top=0,e.bottom=a;break;default:e.top=-f,e.bottom=f}e.width=s,e.height=a,e.centroid||(e.centroid={}),e.centroid.x=c,e.centroid.y=f},render:function(t,e,r){if(!this._visible||!this._opacity)return this;this._update();let s=r||this.parent,a=e[this._renderer.type],c=s._matrix.manual||s._flagMatrix,f=this._matrix.manual||this._flagMatrix,p=this._renderer.parent!==s,y=this._flagVertices||this._flagFill||this._fill instanceof jt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Dt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Rt&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof jt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Dt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Rt&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||s._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((c||f||p)&&(this._renderer.matrix||(this._renderer.matrix=new je(9)),this._matrix.toTransformArray(!0,Ge),vr(Ge,s._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof $||(this._renderer.scale=new $),this._scale instanceof $?(this._renderer.scale.x=this._scale.x*s._renderer.scale.x,this._renderer.scale.y=this._scale.y*s._renderer.scale.y):(this._renderer.scale.x=this._scale*s._renderer.scale.x,this._renderer.scale.y=this._scale*s._renderer.scale.y),p&&(this._renderer.parent=s)),this._mask&&(t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,0),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1),dt[this._mask._renderer.type].render.call(this._mask,t,e,this),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.colorMask(!0,!0,!0,!0)),y?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*s._renderer.opacity,dt.text.getBoundingClientRect(this,this._renderer.rect),dt.updateTexture.call(dt,t,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!r||!this._renderer.texture)return this;e.current!==a&&(t.useProgram(a),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.position),t.vertexAttribPointer(a.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a.position),t.bufferData(t.ARRAY_BUFFER,Rn,t.STATIC_DRAW),e.resolution.flagged||t.uniform2f(t.getUniformLocation(a,"u_resolution"),e.resolution.width,e.resolution.height),e.current=a),e.resolution.flagged&&t.uniform2f(t.getUniformLocation(a,"u_resolution"),e.resolution.width,e.resolution.height),t.bindTexture(t.TEXTURE_2D,this._renderer.texture);let _=this._renderer.rect;return t.uniformMatrix3fv(a.matrix,!1,this._renderer.matrix),t.uniform4f(a.rect,_.left,_.top,_.right,_.bottom),t.drawArrays(t.TRIANGLES,0,6),this._mask&&t.disable(t.STENCIL_TEST),this.flagReset()}},"linear-gradient":{render:function(t,e){if(!(!t.canvas.getContext("2d")||!e)){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let r,s=this.left._x,a=this.left._y,c=this.right._x,f=this.right._y;/objectBoundingBox/i.test(this._units)&&(r=e.getBoundingClientRect(!0),s=(s-.5)*r.width,a=(a-.5)*r.height,c=(c-.5)*r.width,f=(f-.5)*r.height),this._renderer.effect=t.createLinearGradient(s,a,c,f);for(let p=0;p<this.stops.length;p++){let y=this.stops[p];this._renderer.effect.addColorStop(y._offset,y._color)}}return this.flagReset()}}},"radial-gradient":{render:function(t,e){if(!(!t.canvas.getContext("2d")||!e)){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let r,s=this.center._x,a=this.center._y,c=this.focal._x,f=this.focal._y,p=this._radius;/objectBoundingBox/i.test(this._units)&&(r=e.getBoundingClientRect(!0),s=s*r.width*.5,a=a*r.height*.5,c=c*r.width*.5,f=f*r.height*.5,p*=Math.min(r.width,r.height)*.5),this._renderer.effect=t.createRadialGradient(s,a,0,c,f,p);for(let y=0;y<this.stops.length;y++){let _=this.stops[y];this._renderer.effect.addColorStop(_._offset,_._color)}}return this.flagReset()}}},texture:{render:function(t,e){if(!t.canvas.getContext("2d"))return;this._update();let r=this.image;if((this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)this._renderer.effect=t.createPattern(r,this._repeat);else if(!this._renderer.effect)return this.flagReset();return(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof $||(this._renderer.offset=new $),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,r&&(this._renderer.offset.x+=r.width/2,this._renderer.offset.y+=r.height/2,this._scale instanceof $?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof $||(this._renderer.scale=new $),this._scale instanceof $?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},updateTexture:function(t,e){if(this[e._renderer.type].updateCanvas.call(dt,e),this.canvas.width<=0||this.canvas.height<=0){e._renderer.texture&&t.deleteTexture(e._renderer.texture),delete e._renderer.texture;return}e._renderer.texture||(e._renderer.texture=t.createTexture()),t.bindTexture(t.TEXTURE_2D,e._renderer.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.canvas)},program:{create:function(t,e){let r,s,a;if(r=t.createProgram(),J.each(e,function(c){t.attachShader(r,c)}),t.linkProgram(r),s=t.getProgramParameter(r,t.LINK_STATUS),!s)throw a=t.getProgramInfoLog(r),t.deleteProgram(r),new pe("unable to link program: "+a);return r}},TextureRegistry:new Pr};dt.ctx=dt.canvas.getContext("2d");var Da=class extends B{constructor(t){super();let e,r,s,a;if(this.domElement=t.domElement||document.createElement("canvas"),typeof t.offscreenElement<"u"&&(dt.canvas=t.offscreenElement,dt.ctx=dt.canvas.getContext("2d")),this.scene=new Xt,this.scene.parent=this,this._renderer={type:"renderer",matrix:new je(Gl),scale:1,opacity:1},this._flagMatrix=!0,t=J.defaults(t||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=t.overdraw,e=this.ctx=this.domElement.getContext("webgl",t)||this.domElement.getContext("experimental-webgl",t),!this.ctx)throw new pe("unable to create a webgl context. Try using another renderer.");s=xe.create(e,xe.path.vertex,xe.types.vertex),a=xe.create(e,xe.path.fragment,xe.types.fragment),this.programs={current:null,buffers:{position:e.createBuffer()},resolution:{width:0,height:0,ratio:1,flagged:!1}},r=this.programs.path=dt.program.create(e,[s,a]),this.programs.text=this.programs.path,r.position=e.getAttribLocation(r,"a_position"),r.matrix=e.getUniformLocation(r,"u_matrix"),r.rect=e.getUniformLocation(r,"u_rect");let c=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,c),e.vertexAttribPointer(r.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r.position),e.bufferData(e.ARRAY_BUFFER,Rn,e.STATIC_DRAW),s=xe.create(e,xe.points.vertex,xe.types.vertex),a=xe.create(e,xe.points.fragment,xe.types.fragment),r=this.programs.points=dt.program.create(e,[s,a]),r.position=e.getAttribLocation(r,"a_position"),r.matrix=e.getUniformLocation(r,"u_matrix"),r.size=e.getUniformLocation(r,"u_size"),e.enable(e.BLEND),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}setSize(t,e,r){let s,a,c=this.ctx;return this.width=t,this.height=e,this.ratio=typeof r>"u"?Fn(c):r,this.domElement.width=t*this.ratio,this.domElement.height=e*this.ratio,J.isObject(this.domElement.style)&&J.extend(this.domElement.style,{width:t+"px",height:e+"px"}),this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,s=t*this.ratio,a=e*this.ratio,c.viewport(0,0,s,a),this.programs.resolution.width=s,this.programs.resolution.height=a,this.programs.resolution.ratio=this.ratio,this.programs.resolution.flagged=!0,this.trigger(B.Types.resize,t,e,r)}render(){let t=this.ctx;return this.overdraw||t.clear(t.COLOR_BUFFER_BIT),dt.group.render.call(this.scene,t,this.programs),this._flagMatrix=!1,this.programs.resolution.flagged=!0,this}};m(Da,"Utils",dt);var Ql=J.extend({Error:pe,getRatio:Fn,read:Nt,xhr:Na},J,de,ya,da),Ui=class{constructor(t){m(this,"_events",new B),m(this,"type",""),m(this,"renderer",null),m(this,"scene",null),m(this,"width",0),m(this,"height",0),m(this,"frameCount",0),m(this,"timeDelta",0),m(this,"playing",!1);let e=J.defaults(t||{},{fullscreen:!1,fitted:!1,width:640,height:480,type:Ui.Types.svg,autostart:!1});if(J.each(e,function(r,s){/fullscreen/i.test(s)||/autostart/i.test(s)||(this[s]=r)},this),J.isElement(e.domElement)){let r=e.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+r)||(this.type=Ui.Types[r])}this.renderer=new Ui[this.type](this),this.setPlaying(e.autostart),this.frameCount=0,e.fullscreen?(this.fit=Jl.bind(this),this.fit.domElement=window,this.fit.attached=!0,J.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),J.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),ue.bind(this.fit.domElement,"resize",this.fit),this.fit()):e.fitted?(this.fit=Zl.bind(this),J.extend(this.renderer.domElement.style,{display:"block"})):J.isElement(e.domElement)||(this.renderer.setSize(e.width,e.height,this.ratio),this.width=e.width,this.height=e.height),this.renderer.bind(B.Types.resize,th.bind(this)),this.scene=this.renderer.scene,Ui.Instances.push(this),e.autostart&&$i.init()}get _bound(){return this._events._bound}set _bound(t){this._events._bound=t}addEventListener(){return this._events.addEventListener.apply(this,arguments)}on(){return this._events.addEventListener.apply(this,arguments)}bind(){return this._events.addEventListener.apply(this,arguments)}removeEventListener(){return this._events.removeEventListener.apply(this,arguments)}off(){return this._events.removeEventListener.apply(this,arguments)}unbind(){return this._events.removeEventListener.apply(this,arguments)}dispatchEvent(){return this._events.dispatchEvent.apply(this,arguments)}trigger(){return this._events.dispatchEvent.apply(this,arguments)}listen(){return this._events.listen.apply(this,arguments)}ignore(){return this._events.ignore.apply(this,arguments)}appendTo(t){return t.appendChild(this.renderer.domElement),this.fit&&(this.fit.domElement!==window&&(this.fit.domElement=t,this.fit.attached=!1),this.update()),this}play(){return this.playing=!0,$i.init(),this.trigger(B.Types.play)}pause(){return this.playing=!1,this.trigger(B.Types.pause)}setPlaying(t){this.playing=t}release(t){let e,r,s;if(!J.isObject(t))return this.release(this.scene);if(typeof t.unbind=="function"&&t.unbind(),t.vertices)for(typeof t.vertices.unbind=="function"&&t.vertices.unbind(),e=0;e<t.vertices.length;e++)r=t.vertices[e],typeof r.unbind=="function"&&r.unbind(),r.controls&&(r.controls.left&&typeof r.controls.left.unbind=="function"&&r.controls.left.unbind(),r.controls.right&&typeof r.controls.right.unbind=="function"&&r.controls.right.unbind());if(t.children){for(e=0;e<t.children.length;e++)s=t.children[e],this.release(s);typeof t.children.unbind=="function"&&t.children.unbind()}return t}update(){let t=!!this._lastFrame,e=J.performance.now();t&&(this.timeDelta=parseFloat((e-this._lastFrame).toFixed(3))),this._lastFrame=e,this.fit&&this.fit.domElement&&!this.fit.attached&&(ue.bind(this.fit.domElement,"resize",this.fit),this.fit.attached=!0,this.fit());let r=this.width,s=this.height,a=this.renderer;return(r!==a.width||s!==a.height)&&a.setSize(r,s,this.ratio),this.trigger(B.Types.update,this.frameCount,this.timeDelta),this.render()}render(){return this.renderer.render(),this.trigger(B.Types.render,this.frameCount++)}add(t){return t instanceof Array||(t=Array.prototype.slice.call(arguments)),this.scene.add(t),this}remove(t){return t instanceof Array||(t=Array.prototype.slice.call(arguments)),this.scene.remove(t),this}clear(){return this.scene.remove(this.scene.children),this}makeLine(t,e,r,s){let a=new On(t,e,r,s);return this.scene.add(a),a}makeArrow(t,e,r,s,a){let c=typeof a=="number"?a:10,f=Math.atan2(s-e,r-t),p=[new bt(t,e,void 0,void 0,void 0,void 0,V.move),new bt(r,s,void 0,void 0,void 0,void 0,V.line),new bt(r-c*Math.cos(f-Math.PI/4),s-c*Math.sin(f-Math.PI/4),void 0,void 0,void 0,void 0,V.line),new bt(r,s,void 0,void 0,void 0,void 0,V.move),new bt(r-c*Math.cos(f+Math.PI/4),s-c*Math.sin(f+Math.PI/4),void 0,void 0,void 0,void 0,V.line)],y=new kt(p,!1,!1,!0);return y.noFill(),y.cap="round",y.join="round",this.scene.add(y),y}makeRectangle(t,e,r,s){let a=new oi(t,e,r,s);return this.scene.add(a),a}makeRoundedRectangle(t,e,r,s,a){let c=new jr(t,e,r,s,a);return this.scene.add(c),c}makeCircle(t,e,r,s){let a=new Ir(t,e,r,s);return this.scene.add(a),a}makeEllipse(t,e,r,s,a){let c=new Nr(t,e,r,s,a);return this.scene.add(c),c}makeStar(t,e,r,s,a){let c=new Nn(t,e,r,s,a);return this.scene.add(c),c}makeCurve(t){let e=arguments.length;if(!Array.isArray(t)){t=[];for(let c=0;c<e;c+=2){let f=arguments[c];if(typeof f!="number")break;let p=arguments[c+1];t.push(new bt(f,p))}}let r=arguments[e-1],s=new kt(t,!(typeof r=="boolean"&&r),!0),a=s.getBoundingClientRect();return s.center().translation.set(a.left+a.width/2,a.top+a.height/2),this.scene.add(s),s}makePolygon(t,e,r,s){let a=new In(t,e,r,s);return this.scene.add(a),a}makeArcSegment(t,e,r,s,a,c,f){let p=new Pn(t,e,r,s,a,c,f);return this.scene.add(p),p}makePoints(t){let e=arguments.length,r=t;if(!Array.isArray(t)){r=[];for(let a=0;a<e;a+=2){let c=arguments[a];if(typeof c!="number")break;let f=arguments[a+1];r.push(new $(c,f))}}let s=new Ln(r);return this.scene.add(s),s}makePath(t){let e=arguments.length,r=t;if(!Array.isArray(t)){r=[];for(let f=0;f<e;f+=2){let p=arguments[f];if(typeof p!="number")break;let y=arguments[f+1];r.push(new bt(p,y))}}let s=arguments[e-1],a=new kt(r,!(typeof s=="boolean"&&s)),c=a.getBoundingClientRect();return typeof c.top=="number"&&typeof c.left=="number"&&typeof c.right=="number"&&typeof c.bottom=="number"&&a.center().translation.set(c.left+c.width/2,c.top+c.height/2),this.scene.add(a),a}makeText(t,e,r,s){let a=new Ae(t,e,r,s);return this.add(a),a}makeLinearGradient(t,e,r,s){let a=Array.prototype.slice.call(arguments,4),c=new jt(t,e,r,s,a);return this.add(c),c}makeRadialGradient(t,e,r){let s=Array.prototype.slice.call(arguments,3),a=new Dt(t,e,r,s);return this.add(a),a}makeSprite(t,e,r,s,a,c,f){let p=new Lr(t,e,r,s,a,c);return f&&p.play(),this.add(p),p}makeImageSequence(t,e,r,s,a){let c=new Dr(t,e,r,s);return a&&c.play(),this.add(c),c}makeTexture(t,e){return new Rt(t,e)}makeGroup(t){t instanceof Array||(t=Array.prototype.slice.call(arguments));let e=new Xt;return this.scene.add(e),e.add(t),e}interpret(t,e,r){let s=t.tagName.toLowerCase();if(r=typeof r<"u"?r:!0,!(s in Nt))return null;let a=Nt[s].call(this,t);return r?this.add(e&&a instanceof Xt?a.children:a):a.parent&&a.remove(),a}load(t,e){let r=new Xt,s,a,c,f=function(p){for(ue.temp.innerHTML=p,a=0;a<ue.temp.children.length;a++)s=ue.temp.children[a],c=this.interpret(s,!1,!1),c!==null&&r.add(c);if(typeof e=="function"){let y=ue.temp.children.length<=1?ue.temp.children[0]:ue.temp.children;e(r,y)}}.bind(this);return/\.svg$/i.test(t)?(Na(t,f),r):(f(t),r)}},ot=Ui;m(ot,"nextFrameID",Gt.nextFrameID);m(ot,"Types",Gt.Types);m(ot,"Version",Gt.Version);m(ot,"PublishDate",Gt.PublishDate);m(ot,"Identifier",Gt.Identifier);m(ot,"Resolution",Gt.Resolution);m(ot,"AutoCalculateImportedMatrices",Gt.AutoCalculateImportedMatrices);m(ot,"Instances",Gt.Instances);m(ot,"uniqueId",Gt.uniqueId);m(ot,"Anchor",bt);m(ot,"Collection",Je);m(ot,"Events",B);m(ot,"Group",Xt);m(ot,"Matrix",ai);m(ot,"Path",kt);m(ot,"Registry",Pr);m(ot,"Shape",Qe);m(ot,"Text",Ae);m(ot,"Vector",$);m(ot,"Gradient",Yt);m(ot,"ImageSequence",Dr);m(ot,"LinearGradient",jt);m(ot,"RadialGradient",Dt);m(ot,"Sprite",Lr);m(ot,"Stop",Ze);m(ot,"Texture",Rt);m(ot,"ArcSegment",Pn);m(ot,"Circle",Ir);m(ot,"Ellipse",Nr);m(ot,"Line",On);m(ot,"Points",Ln);m(ot,"Polygon",In);m(ot,"Rectangle",oi);m(ot,"RoundedRectangle",jr);m(ot,"Star",Nn);m(ot,"CanvasRenderer",Xi);m(ot,"SVGRenderer",ja);m(ot,"WebGLRenderer",Da);m(ot,"Commands",V);m(ot,"Utils",Ql);function Jl(){let t=document.body.getBoundingClientRect(),e=this.width=t.width,r=this.height=t.height;this.renderer.setSize(e,r,this.ratio)}function Zl(){let t=this.renderer.domElement.parentElement;if(!t){console.warn("Two.js: Attempting to fit to parent, but no parent found.");return}let e=t.getBoundingClientRect(),r=this.width=e.width,s=this.height=e.height;this.renderer.setSize(r,s,this.ratio)}function th(t,e){this.width=t,this.height=e,this.trigger(B.Types.resize,t,e)}var $i=ue.getRequestAnimationFrame();function Ba(){for(let t=0;t<ot.Instances.length;t++){let e=ot.Instances[t];e.playing&&e.update()}ot.nextFrameID=$i(Ba)}$i.init=function(){Ba(),$i.init=function(){}};var Gi=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return this.None(t)},Out:function(t){return this.None(t)},InOut:function(t){return this.None(t)}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(t){var e=1.70158;return t===1?1:t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return t===0?0:--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In:function(t){return 1-Gi.Bounce.Out(1-t)},Out:function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375},InOut:function(t){return t<.5?Gi.Bounce.In(t*2)*.5:Gi.Bounce.Out(t*2-1)*.5+.5}}),generatePow:function(t){return t===void 0&&(t=4),t=t<Number.EPSILON?Number.EPSILON:t,t=t>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(e*2,t)/2:(1-Math.pow(2-e*2,t))/2+.5}}}}),Yi=function(){return performance.now()},eh=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},t.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},t.prototype.update=function(e,r){e===void 0&&(e=Yi()),r===void 0&&(r=!1);var s=Object.keys(this._tweens);if(s.length===0)return!1;for(;s.length>0;){this._tweensAddedDuringUpdate={};for(var a=0;a<s.length;a++){var c=this._tweens[s[a]],f=!r;c&&c.update(e,f)===!1&&!r&&delete this._tweens[s[a]]}s=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),Ci={Linear:function(t,e){var r=t.length-1,s=r*e,a=Math.floor(s),c=Ci.Utils.Linear;return e<0?c(t[0],t[1],s):e>1?c(t[r],t[r-1],r-s):c(t[a],t[a+1>r?r:a+1],s-a)},Bezier:function(t,e){for(var r=0,s=t.length-1,a=Math.pow,c=Ci.Utils.Bernstein,f=0;f<=s;f++)r+=a(1-e,s-f)*a(e,f)*t[f]*c(s,f);return r},CatmullRom:function(t,e){var r=t.length-1,s=r*e,a=Math.floor(s),c=Ci.Utils.CatmullRom;return t[0]===t[r]?(e<0&&(a=Math.floor(s=r*(1+e))),c(t[(a-1+r)%r],t[a],t[(a+1)%r],t[(a+2)%r],s-a)):e<0?t[0]-(c(t[0],t[0],t[1],t[1],-s)-t[0]):e>1?t[r]-(c(t[r],t[r],t[r-1],t[r-1],s-r)-t[r]):c(t[a?a-1:0],t[a],t[r<a+1?r:a+1],t[r<a+2?r:a+2],s-a)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var r=Ci.Utils.Factorial;return r(t)/r(e)/r(t-e)},Factorial:function(){var t=[1];return function(e){var r=1;if(t[e])return t[e];for(var s=e;s>1;s--)r*=s;return t[e]=r,r}}(),CatmullRom:function(t,e,r,s,a){var c=(r-t)*.5,f=(s-e)*.5,p=a*a,y=a*p;return(2*e-2*r+c+f)*y+(-3*e+3*r-2*c-f)*p+c*a+e}}},qa=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),jn=new eh,Yh=function(){function t(e,r){r===void 0&&(r=jn),this._object=e,this._group=r,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Gi.Linear.None,this._interpolationFunction=Ci.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=qa.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(e,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=r,this},t.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e,this},t.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},t.prototype.start=function(e,r){if(e===void 0&&(e=Yi()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var s in this._valuesStartRepeat)this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var a={};for(var c in this._valuesEnd)a[c]=this._valuesEnd[c];this._valuesEnd=a}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},t.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},t.prototype._setupProperties=function(e,r,s,a,c){for(var f in s){var p=e[f],y=Array.isArray(p),_=y?"array":typeof p,T=!y&&Array.isArray(s[f]);if(!(_==="undefined"||_==="function")){if(T){var C=s[f];if(C.length===0)continue;for(var A=[p],x=0,k=C.length;x<k;x+=1){var N=this._handleRelativeValue(p,C[x]);if(isNaN(N)){T=!1,console.warn("Found invalid interpolation list. Skipping.");break}A.push(N)}T&&(s[f]=A)}if((_==="object"||y)&&p&&!T){r[f]=y?[]:{};var M=p;for(var R in M)r[f][R]=M[R];a[f]=y?[]:{};var C=s[f];if(!this._isDynamic){var L={};for(var R in C)L[R]=C[R];s[f]=C=L}this._setupProperties(M,r[f],C,a[f],c)}else(typeof r[f]>"u"||c)&&(r[f]=p),y||(r[f]*=1),T?a[f]=s[f].slice().reverse():a[f]=r[f]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(e){return e===void 0&&(e=Yi()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},t.prototype.resume=function(e){return e===void 0&&(e=Yi()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return e===void 0&&(e=jn),this._group=e,this},t.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},t.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},t.prototype.easing=function(e){return e===void 0&&(e=Gi.Linear.None),this._easingFunction=e,this},t.prototype.interpolation=function(e){return e===void 0&&(e=Ci.Linear),this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,r){if(e===void 0&&(e=Yi()),r===void 0&&(r=!0),this._isPaused)return!0;var s,a,c=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>c)return!1;r&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),a=(e-this._startTime)/this._duration,a=this._duration===0||a>1?1:a;var f=this._easingFunction(a);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,f),this._onUpdateCallback&&this._onUpdateCallback(this._object,a),a===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(s in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[s]=="string"&&(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(this._valuesEnd[s])),this._yoyo&&this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var p=0,y=this._chainedTweens.length;p<y;p++)this._chainedTweens[p].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,r,s,a){for(var c in s)if(r[c]!==void 0){var f=r[c]||0,p=s[c],y=Array.isArray(e[c]),_=Array.isArray(p),T=!y&&_;T?e[c]=this._interpolationFunction(p,a):typeof p=="object"&&p?this._updateProperties(e[c],f,p,a):(p=this._handleRelativeValue(f,p),typeof p=="number"&&(e[c]=f+(p-f)*a))}},t.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},t.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],s=this._valuesEnd[e];typeof s=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(s):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},t}();var Gh=qa.nextId,De=jn,Kh=De.getAll.bind(De),Qh=De.removeAll.bind(De),Jh=De.add.bind(De),Zh=De.remove.bind(De),Ha=De.update.bind(De);var ae=new ot({type:ot.Types.canvas,fullscreen:!0});ae.renderer.domElement.id="stage";var ef=Math.PI*2;var Br=.125,Dn=new ot.Vector,rf=document.querySelector("#container"),rh=url.boolean("local")||window.location.href.match(/localhost/i),qr=rh?"assets/":"//storage.googleapis.com/cdn.patatap.com/";var Qi=["background","middleground","foreground","highlight","accent","white","black"],Ji=[{background:{r:181,g:181,b:181},middleground:{r:141,g:164,b:170},foreground:{r:227,g:79,b:12},highlight:{r:163,g:141,b:116},accent:{r:255,g:197,b:215},white:{r:255,g:255,b:255},black:{r:0,g:0,b:0},isDark:!1},{background:{r:255,g:230,b:255},middleground:{r:151,g:41,b:164},foreground:{r:1,g:120,b:186},highlight:{r:255,g:255,b:0},accent:{r:255,g:51,b:148},white:{r:255,g:255,b:255},black:{r:255,g:255,b:255},isDark:!1},{background:{r:217,g:82,b:31},middleground:{r:143,g:74,b:45},foreground:{r:255,g:108,b:87},highlight:{r:255,g:126,b:138},accent:{r:227,g:190,b:141},white:{r:255,g:255,b:255},black:{r:0,g:0,b:0},isDark:!1},{background:{r:57,g:109,b:193},middleground:{r:186,g:60,b:223},foreground:{r:213,g:255,b:93},highlight:{r:213,g:160,b:255},accent:{r:36,g:221,b:165},white:{r:215,g:236,b:255},black:{r:0,g:0,b:0},isDark:!0},{background:{r:255,g:244,b:211},middleground:{r:207,g:145,b:79},foreground:{r:38,g:83,b:122},highlight:{r:178,g:87,b:53},accent:{r:235,g:192,b:92},white:{r:226,g:82,b:87},black:{r:0,g:0,b:0},isDark:!1},{background:{r:39,g:6,b:54},middleground:{r:69,g:26,b:87},foreground:{r:252,g:25,b:246},highlight:{r:52,g:255,b:253},accent:{r:133,g:102,b:193},white:{r:253,g:228,b:252},black:{r:255,g:255,b:255},isDark:!0}],li=url.int("palette",0),Ki=!1,qn,Hn,zn,Zi={},Hr={};Qi.forEach(t=>{Zi[t]={r:0,g:0,b:0},Hr[t]={r:0,g:0,b:0}});za(Ji[li]);function nh(){return Qi[Math.floor(Math.random()*Qi.length)]}function sh(){return Ji[li]}function za(t){amount=0;for(let e in Zi){let r=Zi[e],s=t[e];r.r=s.r,r.g=s.g,r.b=s.b,amount++,Hr[e]=Wa(r)}return amount}function Ua(t){let e=0;for(let r in Zi){let s=Zi[r],a=t[r];Va(s,a)&&e++,s.r=Bn(s.r,a.r,Br),s.g=Bn(s.g,a.g,Br),s.b=Bn(s.b,a.b,Br),Hr[r]=Wa(s)}return e}function Bn(t,e,r){let s=e-t;return Math.abs(s)<=1e-4?e:t+s*r}function Va(t,e,r){let s=r||.25;return Math.abs(t.r-e.r)<s&&Math.abs(t.g-e.g)<s&&Math.abs(t.b-e.b)<s}function Wa({r:t,g:e,b:r}){return`rgb(${Math.round(t)},${Math.round(e)},${Math.round(r)})`}function ah(t){qn=t}function oh(t){Hn=t}function lh(t){zn=t}function hh(){if(!Ki)return;let t=Ua(Ji[li]);Hn&&Hn(),t>=Qi.length&&Ki&&(Ki=!1,zn&&zn(li))}var Ve={keys:Qi,list:Ji,colors:Hr,get current(){return li},set current(t){li=t%Ji.length,Ki=!0,qn&&qn(li)},get changing(){return Ki},equals:Va,getRandomKey:nh,get:sh,onStart:ah,onUpdate:oh,onComplete:lh,set:za,tween:Ua,update:hh};var Ka=As(pn());var $a=function(t){return t},Un;try{Un=!!AudioContext}catch{Un=!1}function fh({context:t,uri:e,callback:r}){return new Promise(function(s,a){var c=new XMLHttpRequest;c.open("GET",e,!0),c.responseType="arraybuffer",c.onerror=a,c.onload=function(){s({context:t,data:c.response,callback:r})},c.send()})}function Xa({context:t,data:e,callback:r}){return new Promise(function(s,a){var c=function(f){s(f,e),r&&r(f,e)};t.decodeAudioData(e,c,a)})}var Ei,hi,fi,Ri,_e,zr,Ya,tr=class{constructor(e,r,s){si(this,zr);si(this,Ei,!1);si(this,hi,1);si(this,fi,1);si(this,Ri,0);si(this,_e,0);Ue(this,"playing",!1);Ue(this,"filter",null);Ue(this,"buffer",null);Ue(this,"data",null);Ue(this,"gain",null);Ue(this,"src",null);Ue(this,"ctx",null);var a=this;switch(this.ctx=e,typeof r){case"string":this.src=r,fh({context:e,uri:r,callback:c}).then(Xa);break;case"object":Xa({context:e,data:r,callback:c});break}function c(f,p){a.buffer=f,a.data=p,a.gain=a.filter=e.createGain(),a.gain.connect(e.destination),a.gain.gain.value=Math.max(Math.min(re(a,hi),1),0),s&&s(this)}}applyFilter(e){return this.filter&&this.filter!==this.gain&&this.filter.disconnect(this.gain),this.filter=e,this.filter.connect(this.gain),this}play(e){var r=dr(e||{},{time:this.ctx.currentTime,loop:this._loop,offset:this._offset,duration:this.buffer.duration-this._offset});return this.ctx&&/suspended/i.test(this.ctx.state)&&this.ctx.resume(),this.source&&this.stop(),Le(this,Ri,r.time),Le(this,Ei,r.loop),this.playing=!0,this.source=this.ctx.createBufferSource(),this.source.onended=Cs(this,zr,Ya),this.source.buffer=this.buffer,this.source.loop=r.loop,this.source.playbackRate.value=re(this,fi),this.source.connect(this.filter),this.source.start?this.source.start(r.time,r.offset):this.source.noteOn&&this.source.noteOn(r.time,r.offset),this}pause(e){if(!this.source||!this.playing)return this;var r=dr(e||{},{time:this.ctx.currentTime});this.source.onended=$a,this.source.stop?this.source.stop(r.time):this.source.noteOff&&this.source.noteOff(r.time),this.playing=!1;var s=this.ctx.currentTime;return r.time!="undefined"&&(s=r.time),Le(this,_e,s-re(this,Ri)+(re(this,_e)||0)),re(this,Ei)?Le(this,_e,Math.max(re(this,_e),0)%this.buffer.duration):Le(this,_e,Math.min(Math.max(re(this,_e),0),this.buffer.duration)),this}stop(e){if(!this.source||!this.playing)return this;var r=dr(e||{},{time:this.ctx.currentTime});return this.source.onended=$a,this.source.stop?this.source.stop(r.time):this.source.noteOff&&this.source.noteOff(r.time),this.playing=!1,Le(this,_e,0),this}get volume(){return re(this,hi)}set volume(e){Le(this,hi,e),this.gain&&(this.gain.gain.value=Math.max(Math.min(re(this,hi),1),0))}get speed(){return re(this,fi)}set speed(e){Le(this,fi,e),this.playing&&this.play()}get currentTime(){return this.playing?(this.ctx.currentTime-re(this,Ri)+re(this,_e))*re(this,fi):re(this,_e)}set currentTime(e){var r;!this.buffer||(re(this,Ei)?r=Math.max(e,0)%this.buffer.duration:r=Math.min(Math.max(e,0),this.buffer.duration),Le(this,_e,r),this.playing&&this.play())}get millis(){return Math.floor(this.currentTime*1e3)}get duration(){return this.buffer?this.buffer.duration:0}};Ei=new WeakMap,hi=new WeakMap,fi=new WeakMap,Ri=new WeakMap,_e=new WeakMap,zr=new WeakSet,Ya=function(){this.playing=!1},Ue(tr,"has",Un);var Vn,ch={},Ur=[];var Ga=new ot.Vector(ae.width/2,ae.height/2),Qa=ae.renderer.domElement,Ja=Math.min(ae.width,ae.height);Qa.style.background=Ve.colors.background;ae.bind("resize",()=>{Ga.x=ae.width/2,Ga.y=ae.height/2,Ja=Math.min(ae.width,ae.height),Ur.forEach(t=>t.resize())});Ve.onStart(Za);Ve.onUpdate(()=>{Ur.forEach(({update:t})=>t()),Qa.style.background=Ve.colors.background});function Za(){let t=Ve.current,e=["A","B","C","D","E","F"],r=".mp3",s=Ur.filter(({sounds:T})=>Array.isArray(T));var a=e[t],c=(0,Ka.default)("#lobby"),f=c.find("#loaded").html(0),p=c.find("#total-assets");let y=Rs(function(){f.index=0,f.html(f.index),p.html(s.length),c.fadeIn()});return new Promise(T=>{let C=()=>{_(),A()},A=Ms(s.length,function(){T(),c.fadeOut()});s.forEach(x=>{Vn||(Vn=new AudioContext);let k=x.sounds[t];if(!k){y();let N=`${qr}${a}/${x.name}${r}`;k=new tr(Vn,N,C),x.sounds.push(k)}x.sound=k})});function _(){f.index++,f.html(f.index)}}var Wn={updateAudio:Za,map:ch,get min_dimension(){return Ja},list:Ur};(0,ee.default)(()=>{let t=(0,ee.default)("#content"),e=(0,ee.default)("#hint"),r=(0,ee.default)("#credits"),s=(0,ee.default)("#embed"),a=(0,ee.default)("#merchandise"),c=(0,ee.default)(window),f,p,y,_,T,C=!1,A=!1,x=!1,k=_n(function(){if(C){k();return}e.fadeIn()},2e4),N=_n(function(){if(Dn.y>_-64){N();return}t.css("top",0)},1e3),M=document.createElement("audio");M.addEventListener("canplay",R,!1),M.src=`${qr}silent.mp3`,M.preload="auto",M.load();function R(){c.bind("click",L).bind("visibilitychange",q),M.removeEventListener("canplay",R,!1),z()}function L(at){A=!0,M.play(),c.unbind("click",L)}function q(){/hidden/i.test(document.visibilityState)&&A&&(A=!1,c.unbind("click",L).bind("click",L))}function z(){ae.appendTo(t[0]),Wn.updateAudio(),(0,ee.default)("#embed-button").click(it=>{it.preventDefault(),e.fadeOut(),a.fadeOut(),s.fadeIn(l)});let at=!0;(0,ee.default)("#merchandise-button").click(it=>{it.preventDefault(),at&&(a.css({opacity:1,display:"none",zIndex:0}),at=!1),e.fadeOut(),s.fadeOut(),a.fadeIn(()=>{C=!0,x=!0})}),(0,ee.default)("#close-merchandise").click(it=>{it.preventDefault(),C=!1,x=!1,a.fadeOut()}),c.bind("resize",function(it){y=c.width(),_=c.height()}).bind("mousemove",function(it){C||url.boolean("kiosk")||(Dn.set(it.clientX,it.clientY),St())}).bind("keydown",function(it,ct){if(it.metaKey||it.ctrlKey)return;it.preventDefault();let mt=it.which||ct,tt;switch(mt){case 81:tt="0,0";break;case 87:tt="0,1";break;case 69:tt="0,2";break;case 82:tt="0,3";break;case 84:tt="0,4";break;case 89:tt="0,5";break;case 85:tt="0,6";break;case 73:tt="0,7";break;case 79:tt="0,8";break;case 80:tt="0,9";break;case 65:tt="1,0";break;case 83:tt="1,1";break;case 68:tt="1,2";break;case 70:tt="1,3";break;case 71:tt="1,4";break;case 72:tt="1,5";break;case 74:tt="1,6";break;case 75:tt="1,7";break;case 76:tt="1,8";break;case 90:tt="2,0";break;case 88:tt="2,1";break;case 67:tt="2,2";break;case 86:tt="2,3";break;case 66:tt="2,4";break;case 78:tt="2,5";break;case 77:tt="2,6";break;case 32:tt="3,0";break}gt(tt),zt()}),navigator.maxTouchPoints>0?(e.find(".message").html("Press anywhere on the screen and turn up speakers"),Tt(),Z()):(r.css("display","block"),e.find(".message").html("Press any key, A to Z or spacebar, and turn up speakers")),ae.bind("update",function(){if(Ha(),Ve.update(),!!f){for(let it in p.needsUpdate){let ct=p.needsUpdate[it];ct&&G(ct)}f.update()}}).play(),c.trigger("resize"),navigator.requestMIDIAccess&&navigator.requestMIDIAccess().then(Q,_t),setTimeout(()=>{if((0,ee.default)("#lobby").fadeOut(nt),url.boolean("kiosk")){(0,ee.default)(document.body).addClass("kiosk"),zt(),e.fadeIn();return}else if(/merchandise/ig.test(url.hash)){(0,ee.default)("#merchandise-button").trigger("click");return}e.fadeIn()},1e3)}function H(at){s.has(at.target).length||(s.fadeOut(function(){C=!1}),c.unbind("click",H))}function l(){C=!0,s.find("textarea").select(),c.bind("click",H)}function Z(){if(!f)return;y=c.width(),_=c.height(),T=y>=_;let at=p.length;p.forEach((it,ct)=>{let mt=it.length,tt,Pt,Kt,Ut;T?(tt=y/mt,Pt=_/at):(tt=y/at,Pt=_/mt),it.width=tt,it.height=Pt,it.forEach((Ot,Et)=>{T?(Kt=y*(Et+.5)/mt,Ut=_*(ct+.5)/at):(Kt=y*(ct+.5)/at,Ut=_*(Et+.5)/mt),Ot.width=tt,Ot.height=Pt,Ot.translation.set(Kt,Ut),Ot.visible=!0})})}function G(at){at.opacity+=-at.opacity*.2,at.opacity<=.1&&(at.opacity=0,delete p.needsUpdate[at.id])}function nt(){window.localStorage&&window.localStorage.getItem("visited")||(gt("0,9"),gt("2,6"),gt("1,7"),gt("2,1"),window.localStorage&&window.localStorage.setItem("visited",!0))}function Q(at){let it=[],ct=[],mt=[],tt=(0,ee.default)(".midi-connections"),Pt={21:"2,0",23:"2,1",24:"2,2",26:"2,3",28:"2,4",29:"2,5",31:"2,6",33:"1,0",35:"1,1",36:"1,2",38:"1,3",40:"1,4",41:"1,5",43:"1,6",45:"1,7",47:"1,8",48:"0,0",50:"0,1",52:"0,2",53:"0,3",55:"0,4",57:"0,5",59:"0,6",60:"0,7",62:"0,8",64:"0,9",65:"2,0",67:"2,1",69:"2,2",71:"2,3",72:"2,4",74:"2,5",76:"2,6",77:"1,0",79:"1,1",81:"1,2",83:"1,3",84:"1,4",86:"1,5",88:"1,6",89:"1,7",91:"1,8",93:"0,0",95:"0,1",96:"0,2",98:"0,3",100:"0,4",101:"0,5",103:"0,6",105:"0,7",107:"0,8",108:"0,9",22:"3,0",106:"3,0"},Kt={};for(let Wt in Pt){let Lt=Pt[Wt];Kt[Lt]=Wt}window.onmidistatechange=Ut,window.onmidimessage=Ot,at.addEventListener("statechange",Ut),Ut({target:at}),Q.dispatch=function(Wt){let It=Kt[Wt],lt=100;if(!It)return;let $t=[144,It,lt],ke=[128,It,0];for(let We=0;We<ct.length;We++){let ci=ct[We];ci.send($t),ci.send(ke,Date.now()+100)}window.webkit&&(window.webkit.messageHandlers.midi.postMessage($t),setTimeout(function(){window.webkit.messageHandlers.midi.postMessage(ke)},100))};function Ut(Wt){let Lt=Wt.target,It;it.length=mt.length=0;for(let lt of Lt.inputs.values())K(it,lt)||(it.push(lt),mt.push(lt.name)),lt.onmidimessage=Ot;for(let lt of Lt.outputs.values())K(ct,lt)||ct.push(lt);if(mt.length<=0){tt.html("Disconnected from all MIDI devices");return}else if(mt.length<=1)It=mt[0];else if(mt.length<=2)It=mt[0]+" and "+mt[1];else{let lt=mt.pop();It=`${mt.join(", ")}, and ${lt}`,mt.push(lt)}tt.html(`Connected to these MIDI devices:, ${It}`),show()}function Ot(Wt){let Lt=Wt.data[0],It=Wt.data[1],lt=Wt.data.length>2?Wt.data[2]:0;switch(Lt){case 144:lt>0&&Et(It,lt);break}}function Et(Wt){let Lt=Pt[Wt];Lt&&(Q.receiving=!0,gt(Lt),zt(),Q.receiving=!1)}}function _t(){window.console&&window.console.log&&window.console.log("Unable to connect to MIDI")}function K(at,it){for(let ct=0;ct<at.length;ct++)if(at[ct].id===it.id)return!0;return!1}function Tt(){f=new ot({fullscreen:!0}).appendTo(t[0]),f.renderer.domElement.id="ui",p=new Array(3),p.width=p.height=32,p.needsUpdate={},p.map={},p[0]=ur(10).map(Ot),p[1]=ur(9).map(Ot),p[2]=ur(8).map(Ot),f.update();let at=[],it,ct,mt,tt,Pt,Kt,Ut;t.bind("touchstart",function(lt){it=lt.originalEvent,gn(it.touches,Wt)}).bind("touchmove",function(lt){it=lt.originalEvent,gn(it.touches,Lt)}).bind("touchstart touchmove touchend touchcancel",function(lt){if(A&&!(x||(0,ee.default)(lt.target).hasClass("ios-app-store")))return lt.preventDefault(),!1}),p.forEach((lt,$t)=>{lt.forEach(function(ke,We){let ci=ke._renderer.elem,ui=`${$t},${We}`;p.map[ui]=ke,(0,ee.default)(ci).css({cursor:"pointer"}).bind("mousedown touchstart",function(di){it=di.originalEvent,It(ui,ke)})})});function Ot(){let lt=f.makeRectangle(0,0,p.width,p.height);return lt.noFill().noStroke(),lt.opacity=0,lt.visible=!1,lt}function Et(lt,$t){return tt=p.length,T?(Pt=qi(Math.floor(tt*$t/_),0,tt-1),tt=p[Pt].length,Kt=qi(Math.floor(tt*lt/y),0,tt-1)):(Pt=qi(Math.floor(tt*lt/y),0,tt-1),tt=p[Pt].length,Kt=qi(Math.floor(tt*$t/_),0,tt-1)),`${Pt},${Kt}`}function Wt(lt){ct=lt.clientX,mt=lt.clientY,at[lt.identifier]={id:Et(ct,mt,ct,mt),x:ct,y:mt}}function Lt(lt){ct=lt.clientX,mt=lt.clientY,Ut=Et(ct,mt,at[lt.identifier].x,at[lt.identifier].y),at[lt.identifier]&&at[lt.identifier].id!==Ut&&(It(Ut,p.map[Ut]),at[lt.identifier].id=Ut),at[lt.identifier].x=ct,at[lt.identifier].y=mt}function It(lt,$t){gt(lt),zt(),Ve.get().isDark?$t.fill="rgba(255, 255, 255, 0.3)":$t.fill="rgba(0, 0, 0, 0.3)",$t.opacity=1,p.needsUpdate[$t.id]=$t}}function gt(at,it){let ct=Wn.map[at];ct&&(ct.playing&&ct.clear(),ct.start(it),window.gtag&&window.gtag("event","animation",{trigger:at})),!Q.receiving&&Q.dispatch&&Q.dispatch(at)}function zt(){e.fadeOut(),k()}function St(){t.css("top",`${-64}px`),N()}});window.console&&window.console.log&&window.console.log("Check out the code at http://github.com/jonobr1/Patatap");})();
/*!
 * jQuery JavaScript Library v3.7.0
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-05-11T18:29Z
 */
