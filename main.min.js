(()=>{var Ll=Object.create;var Pn=Object.defineProperty;var Nl=Object.getOwnPropertyDescriptor;var Il=Object.getOwnPropertyNames;var jl=Object.getPrototypeOf,Dl=Object.prototype.hasOwnProperty;var Bl=(t,e,i)=>e in t?Pn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var zl=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ql=(t,e,i,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Il(e))!Dl.call(t,a)&&a!==i&&Pn(t,a,{get:()=>e[a],enumerable:!(s=Nl(e,a))||s.enumerable});return t};var sa=(t,e,i)=>(i=t!=null?Ll(jl(t)):{},ql(e||!t||!t.__esModule?Pn(i,"default",{value:t,enumerable:!0}):i,t));var Je=(t,e,i)=>(Bl(t,typeof e!="symbol"?e+"":e,i),i),Ln=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)};var ae=(t,e,i)=>(Ln(t,e,"read from private field"),i?i.call(t):e.get(t)),di=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},ze=(t,e,i,s)=>(Ln(t,e,"write to private field"),s?s.call(t,i):e.set(t,i),i);var aa=(t,e,i)=>(Ln(t,e,"access private method"),i);var Nn=zl((oa,Sr)=>{(function(t,e){"use strict";typeof Sr=="object"&&typeof Sr.exports=="object"?Sr.exports=t.document?e(t,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return e(i)}:e(t)})(typeof window<"u"?window:oa,function(t,e){"use strict";var i=[],s=Object.getPrototypeOf,a=i.slice,c=i.flat?function(r){return i.flat.call(r)}:function(r){return i.concat.apply([],r)},f=i.push,p=i.indexOf,y={},_=y.toString,k=y.hasOwnProperty,S=k.toString,A=S.call(Object),v={},T=function(n){return typeof n=="function"&&typeof n.nodeType!="number"&&typeof n.item!="function"},I=function(n){return n!=null&&n===n.window},R=t.document,M={type:!0,src:!0,nonce:!0,noModule:!0};function P(r,n,o){o=o||R;var h,u,d=o.createElement("script");if(d.text=r,n)for(h in M)u=n[h]||n.getAttribute&&n.getAttribute(h),u&&d.setAttribute(h,u);o.head.appendChild(d).parentNode.removeChild(d)}function B(r){return r==null?r+"":typeof r=="object"||typeof r=="function"?y[_.call(r)]||"object":typeof r}var H="3.7.0",q=/HTML$/i,l=function(r,n){return new l.fn.init(r,n)};l.fn=l.prototype={jquery:H,constructor:l,length:0,toArray:function(){return a.call(this)},get:function(r){return r==null?a.call(this):r<0?this[r+this.length]:this[r]},pushStack:function(r){var n=l.merge(this.constructor(),r);return n.prevObject=this,n},each:function(r){return l.each(this,r)},map:function(r){return this.pushStack(l.map(this,function(n,o){return r.call(n,o,n)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(l.grep(this,function(r,n){return(n+1)%2}))},odd:function(){return this.pushStack(l.grep(this,function(r,n){return n%2}))},eq:function(r){var n=this.length,o=+r+(r<0?n:0);return this.pushStack(o>=0&&o<n?[this[o]]:[])},end:function(){return this.prevObject||this.constructor()},push:f,sort:i.sort,splice:i.splice},l.extend=l.fn.extend=function(){var r,n,o,h,u,d,g=arguments[0]||{},w=1,x=arguments.length,C=!1;for(typeof g=="boolean"&&(C=g,g=arguments[w]||{},w++),typeof g!="object"&&!T(g)&&(g={}),w===x&&(g=this,w--);w<x;w++)if((r=arguments[w])!=null)for(n in r)h=r[n],!(n==="__proto__"||g===h)&&(C&&h&&(l.isPlainObject(h)||(u=Array.isArray(h)))?(o=g[n],u&&!Array.isArray(o)?d=[]:!u&&!l.isPlainObject(o)?d={}:d=o,u=!1,g[n]=l.extend(C,d,h)):h!==void 0&&(g[n]=h));return g},l.extend({expando:"jQuery"+(H+Math.random()).replace(/\D/g,""),isReady:!0,error:function(r){throw new Error(r)},noop:function(){},isPlainObject:function(r){var n,o;return!r||_.call(r)!=="[object Object]"?!1:(n=s(r),n?(o=k.call(n,"constructor")&&n.constructor,typeof o=="function"&&S.call(o)===A):!0)},isEmptyObject:function(r){var n;for(n in r)return!1;return!0},globalEval:function(r,n,o){P(r,{nonce:n&&n.nonce},o)},each:function(r,n){var o,h=0;if($(r))for(o=r.length;h<o&&n.call(r[h],h,r[h])!==!1;h++);else for(h in r)if(n.call(r[h],h,r[h])===!1)break;return r},text:function(r){var n,o="",h=0,u=r.nodeType;if(u){if(u===1||u===9||u===11)return r.textContent;if(u===3||u===4)return r.nodeValue}else for(;n=r[h++];)o+=l.text(n);return o},makeArray:function(r,n){var o=n||[];return r!=null&&($(Object(r))?l.merge(o,typeof r=="string"?[r]:r):f.call(o,r)),o},inArray:function(r,n,o){return n==null?-1:p.call(n,r,o)},isXMLDoc:function(r){var n=r&&r.namespaceURI,o=r&&(r.ownerDocument||r).documentElement;return!q.test(n||o&&o.nodeName||"HTML")},merge:function(r,n){for(var o=+n.length,h=0,u=r.length;h<o;h++)r[u++]=n[h];return r.length=u,r},grep:function(r,n,o){for(var h,u=[],d=0,g=r.length,w=!o;d<g;d++)h=!n(r[d],d),h!==w&&u.push(r[d]);return u},map:function(r,n,o){var h,u,d=0,g=[];if($(r))for(h=r.length;d<h;d++)u=n(r[d],d,o),u!=null&&g.push(u);else for(d in r)u=n(r[d],d,o),u!=null&&g.push(u);return c(g)},guid:1,support:v}),typeof Symbol=="function"&&(l.fn[Symbol.iterator]=i[Symbol.iterator]),l.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(r,n){y["[object "+n+"]"]=n.toLowerCase()});function $(r){var n=!!r&&"length"in r&&r.length,o=B(r);return T(r)||I(r)?!1:o==="array"||n===0||typeof n=="number"&&n>0&&n-1 in r}function Y(r,n){return r.nodeName&&r.nodeName.toLowerCase()===n.toLowerCase()}var K=i.pop,Q=i.sort,ht=i.splice,tt="[\\x20\\t\\r\\n\\f]",At=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g");l.contains=function(r,n){var o=n&&n.parentNode;return r===o||!!(o&&o.nodeType===1&&(r.contains?r.contains(o):r.compareDocumentPosition&&r.compareDocumentPosition(o)&16))};var yt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function $t(r,n){return n?r==="\0"?"\uFFFD":r.slice(0,-1)+"\\"+r.charCodeAt(r.length-1).toString(16)+" ":"\\"+r}l.escapeSelector=function(r){return(r+"").replace(yt,$t)};var Et=R,ft=f;(function(){var r,n,o,h,u,d=ft,g,w,x,C,N,D=l.expando,O=0,U=0,gt=vr(),Ct=vr(),vt=vr(),ne=vr(),te=function(b,E){return b===E&&(u=!0),0},Ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Ie="(?:\\\\[\\da-fA-F]{1,6}"+tt+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Tt="\\["+tt+"*("+Ie+")(?:"+tt+"*([*^$|!~]?=)"+tt+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Ie+"))|)"+tt+"*\\]",ci=":("+Ie+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Tt+")*)|.*)\\)|)",Rt=new RegExp(tt+"+","g"),Wt=new RegExp("^"+tt+"*,"+tt+"*"),Xi=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),An=new RegExp(tt+"|>"),je=new RegExp(ci),Yi=new RegExp("^"+Ie+"$"),De={ID:new RegExp("^#("+Ie+")"),CLASS:new RegExp("^\\.("+Ie+")"),TAG:new RegExp("^("+Ie+"|[*])"),ATTR:new RegExp("^"+Tt),PSEUDO:new RegExp("^"+ci),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Ne+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},ti=/^(?:input|select|textarea|button)$/i,ei=/^h\d$/i,Se=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,En=/[+~]/,Ke=new RegExp("\\\\[\\da-fA-F]{1,6}"+tt+"?|\\\\([^\\r\\n\\f])","g"),Qe=function(b,E){var F="0x"+b.slice(1)-65536;return E||(F<0?String.fromCharCode(F+65536):String.fromCharCode(F>>10|55296,F&1023|56320))},El=function(){ii()},Cl=kr(function(b){return b.disabled===!0&&Y(b,"fieldset")},{dir:"parentNode",next:"legend"});function Ml(){try{return g.activeElement}catch{}}try{d.apply(i=a.call(Et.childNodes),Et.childNodes),i[Et.childNodes.length].nodeType}catch{d={apply:function(E,F){ft.apply(E,a.call(F))},call:function(E){ft.apply(E,a.call(arguments,1))}}}function Pt(b,E,F,L){var j,V,J,nt,Z,wt,dt,mt=E&&E.ownerDocument,kt=E?E.nodeType:9;if(F=F||[],typeof b!="string"||!b||kt!==1&&kt!==9&&kt!==11)return F;if(!L&&(ii(E),E=E||g,x)){if(kt!==11&&(Z=Se.exec(b)))if(j=Z[1]){if(kt===9)if(J=E.getElementById(j)){if(J.id===j)return d.call(F,J),F}else return F;else if(mt&&(J=mt.getElementById(j))&&Pt.contains(E,J)&&J.id===j)return d.call(F,J),F}else{if(Z[2])return d.apply(F,E.getElementsByTagName(b)),F;if((j=Z[3])&&E.getElementsByClassName)return d.apply(F,E.getElementsByClassName(j)),F}if(!ne[b+" "]&&(!C||!C.test(b))){if(dt=b,mt=E,kt===1&&(An.test(b)||Xi.test(b))){for(mt=En.test(b)&&Cn(E.parentNode)||E,(mt!=E||!v.scope)&&((nt=E.getAttribute("id"))?nt=l.escapeSelector(nt):E.setAttribute("id",nt=D)),wt=xr(b),V=wt.length;V--;)wt[V]=(nt?"#"+nt:":scope")+" "+wr(wt[V]);dt=wt.join(",")}try{return d.apply(F,mt.querySelectorAll(dt)),F}catch{ne(b,!0)}finally{nt===D&&E.removeAttribute("id")}}}return na(b.replace(At,"$1"),E,F,L)}function vr(){var b=[];function E(F,L){return b.push(F+" ")>n.cacheLength&&delete E[b.shift()],E[F+" "]=L}return E}function Fe(b){return b[D]=!0,b}function Ei(b){var E=g.createElement("fieldset");try{return!!b(E)}catch{return!1}finally{E.parentNode&&E.parentNode.removeChild(E),E=null}}function Rl(b){return function(E){return Y(E,"input")&&E.type===b}}function Fl(b){return function(E){return(Y(E,"input")||Y(E,"button"))&&E.type===b}}function ia(b){return function(E){return"form"in E?E.parentNode&&E.disabled===!1?"label"in E?"label"in E.parentNode?E.parentNode.disabled===b:E.disabled===b:E.isDisabled===b||E.isDisabled!==!b&&Cl(E)===b:E.disabled===b:"label"in E?E.disabled===b:!1}}function ui(b){return Fe(function(E){return E=+E,Fe(function(F,L){for(var j,V=b([],F.length,E),J=V.length;J--;)F[j=V[J]]&&(F[j]=!(L[j]=F[j]))})})}function Cn(b){return b&&typeof b.getElementsByTagName<"u"&&b}function ii(b){var E,F=b?b.ownerDocument||b:Et;return F==g||F.nodeType!==9||!F.documentElement||(g=F,w=g.documentElement,x=!l.isXMLDoc(g),N=w.matches||w.webkitMatchesSelector||w.msMatchesSelector,Et!=g&&(E=g.defaultView)&&E.top!==E&&E.addEventListener("unload",El),v.getById=Ei(function(L){return w.appendChild(L).id=l.expando,!g.getElementsByName||!g.getElementsByName(l.expando).length}),v.disconnectedMatch=Ei(function(L){return N.call(L,"*")}),v.scope=Ei(function(){return g.querySelectorAll(":scope")}),v.cssHas=Ei(function(){try{return g.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),v.getById?(n.filter.ID=function(L){var j=L.replace(Ke,Qe);return function(V){return V.getAttribute("id")===j}},n.find.ID=function(L,j){if(typeof j.getElementById<"u"&&x){var V=j.getElementById(L);return V?[V]:[]}}):(n.filter.ID=function(L){var j=L.replace(Ke,Qe);return function(V){var J=typeof V.getAttributeNode<"u"&&V.getAttributeNode("id");return J&&J.value===j}},n.find.ID=function(L,j){if(typeof j.getElementById<"u"&&x){var V,J,nt,Z=j.getElementById(L);if(Z){if(V=Z.getAttributeNode("id"),V&&V.value===L)return[Z];for(nt=j.getElementsByName(L),J=0;Z=nt[J++];)if(V=Z.getAttributeNode("id"),V&&V.value===L)return[Z]}return[]}}),n.find.TAG=function(L,j){return typeof j.getElementsByTagName<"u"?j.getElementsByTagName(L):j.querySelectorAll(L)},n.find.CLASS=function(L,j){if(typeof j.getElementsByClassName<"u"&&x)return j.getElementsByClassName(L)},C=[],Ei(function(L){var j;w.appendChild(L).innerHTML="<a id='"+D+"' href='' disabled='disabled'></a><select id='"+D+"-\r\\' disabled='disabled'><option selected=''></option></select>",L.querySelectorAll("[selected]").length||C.push("\\["+tt+"*(?:value|"+Ne+")"),L.querySelectorAll("[id~="+D+"-]").length||C.push("~="),L.querySelectorAll("a#"+D+"+*").length||C.push(".#.+[+~]"),L.querySelectorAll(":checked").length||C.push(":checked"),j=g.createElement("input"),j.setAttribute("type","hidden"),L.appendChild(j).setAttribute("name","D"),w.appendChild(L).disabled=!0,L.querySelectorAll(":disabled").length!==2&&C.push(":enabled",":disabled"),j=g.createElement("input"),j.setAttribute("name",""),L.appendChild(j),L.querySelectorAll("[name='']").length||C.push("\\["+tt+"*name"+tt+"*="+tt+`*(?:''|"")`)}),v.cssHas||C.push(":has"),C=C.length&&new RegExp(C.join("|")),te=function(L,j){if(L===j)return u=!0,0;var V=!L.compareDocumentPosition-!j.compareDocumentPosition;return V||(V=(L.ownerDocument||L)==(j.ownerDocument||j)?L.compareDocumentPosition(j):1,V&1||!v.sortDetached&&j.compareDocumentPosition(L)===V?L===g||L.ownerDocument==Et&&Pt.contains(Et,L)?-1:j===g||j.ownerDocument==Et&&Pt.contains(Et,j)?1:h?p.call(h,L)-p.call(h,j):0:V&4?-1:1)}),g}Pt.matches=function(b,E){return Pt(b,null,null,E)},Pt.matchesSelector=function(b,E){if(ii(b),x&&!ne[E+" "]&&(!C||!C.test(E)))try{var F=N.call(b,E);if(F||v.disconnectedMatch||b.document&&b.document.nodeType!==11)return F}catch{ne(E,!0)}return Pt(E,g,null,[b]).length>0},Pt.contains=function(b,E){return(b.ownerDocument||b)!=g&&ii(b),l.contains(b,E)},Pt.attr=function(b,E){(b.ownerDocument||b)!=g&&ii(b);var F=n.attrHandle[E.toLowerCase()],L=F&&k.call(n.attrHandle,E.toLowerCase())?F(b,E,!x):void 0;return L!==void 0?L:b.getAttribute(E)},Pt.error=function(b){throw new Error("Syntax error, unrecognized expression: "+b)},l.uniqueSort=function(b){var E,F=[],L=0,j=0;if(u=!v.sortStable,h=!v.sortStable&&a.call(b,0),Q.call(b,te),u){for(;E=b[j++];)E===b[j]&&(L=F.push(j));for(;L--;)ht.call(b,F[L],1)}return h=null,b},l.fn.uniqueSort=function(){return this.pushStack(l.uniqueSort(a.apply(this)))},n=l.expr={cacheLength:50,createPseudo:Fe,match:De,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(Ke,Qe),b[3]=(b[3]||b[4]||b[5]||"").replace(Ke,Qe),b[2]==="~="&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),b[1].slice(0,3)==="nth"?(b[3]||Pt.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*(b[3]==="even"||b[3]==="odd")),b[5]=+(b[7]+b[8]||b[3]==="odd")):b[3]&&Pt.error(b[0]),b},PSEUDO:function(b){var E,F=!b[6]&&b[2];return De.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":F&&je.test(F)&&(E=xr(F,!0))&&(E=F.indexOf(")",F.length-E)-F.length)&&(b[0]=b[0].slice(0,E),b[2]=F.slice(0,E)),b.slice(0,3))}},filter:{TAG:function(b){var E=b.replace(Ke,Qe).toLowerCase();return b==="*"?function(){return!0}:function(F){return Y(F,E)}},CLASS:function(b){var E=gt[b+" "];return E||(E=new RegExp("(^|"+tt+")"+b+"("+tt+"|$)"))&&gt(b,function(F){return E.test(typeof F.className=="string"&&F.className||typeof F.getAttribute<"u"&&F.getAttribute("class")||"")})},ATTR:function(b,E,F){return function(L){var j=Pt.attr(L,b);return j==null?E==="!=":E?(j+="",E==="="?j===F:E==="!="?j!==F:E==="^="?F&&j.indexOf(F)===0:E==="*="?F&&j.indexOf(F)>-1:E==="$="?F&&j.slice(-F.length)===F:E==="~="?(" "+j.replace(Rt," ")+" ").indexOf(F)>-1:E==="|="?j===F||j.slice(0,F.length+1)===F+"-":!1):!0}},CHILD:function(b,E,F,L,j){var V=b.slice(0,3)!=="nth",J=b.slice(-4)!=="last",nt=E==="of-type";return L===1&&j===0?function(Z){return!!Z.parentNode}:function(Z,wt,dt){var mt,kt,lt,Lt,_e,se=V!==J?"nextSibling":"previousSibling",Ae=Z.parentNode,Be=nt&&Z.nodeName.toLowerCase(),Ci=!dt&&!nt,he=!1;if(Ae){if(V){for(;se;){for(lt=Z;lt=lt[se];)if(nt?Y(lt,Be):lt.nodeType===1)return!1;_e=se=b==="only"&&!_e&&"nextSibling"}return!0}if(_e=[J?Ae.firstChild:Ae.lastChild],J&&Ci){for(kt=Ae[D]||(Ae[D]={}),mt=kt[b]||[],Lt=mt[0]===O&&mt[1],he=Lt&&mt[2],lt=Lt&&Ae.childNodes[Lt];lt=++Lt&&lt&&lt[se]||(he=Lt=0)||_e.pop();)if(lt.nodeType===1&&++he&&lt===Z){kt[b]=[O,Lt,he];break}}else if(Ci&&(kt=Z[D]||(Z[D]={}),mt=kt[b]||[],Lt=mt[0]===O&&mt[1],he=Lt),he===!1)for(;(lt=++Lt&&lt&&lt[se]||(he=Lt=0)||_e.pop())&&!((nt?Y(lt,Be):lt.nodeType===1)&&++he&&(Ci&&(kt=lt[D]||(lt[D]={}),kt[b]=[O,he]),lt===Z)););return he-=j,he===L||he%L===0&&he/L>=0}}},PSEUDO:function(b,E){var F,L=n.pseudos[b]||n.setFilters[b.toLowerCase()]||Pt.error("unsupported pseudo: "+b);return L[D]?L(E):L.length>1?(F=[b,b,"",E],n.setFilters.hasOwnProperty(b.toLowerCase())?Fe(function(j,V){for(var J,nt=L(j,E),Z=nt.length;Z--;)J=p.call(j,nt[Z]),j[J]=!(V[J]=nt[Z])}):function(j){return L(j,0,F)}):L}},pseudos:{not:Fe(function(b){var E=[],F=[],L=On(b.replace(At,"$1"));return L[D]?Fe(function(j,V,J,nt){for(var Z,wt=L(j,null,nt,[]),dt=j.length;dt--;)(Z=wt[dt])&&(j[dt]=!(V[dt]=Z))}):function(j,V,J){return E[0]=j,L(E,null,J,F),E[0]=null,!F.pop()}}),has:Fe(function(b){return function(E){return Pt(b,E).length>0}}),contains:Fe(function(b){return b=b.replace(Ke,Qe),function(E){return(E.textContent||l.text(E)).indexOf(b)>-1}}),lang:Fe(function(b){return Yi.test(b||"")||Pt.error("unsupported lang: "+b),b=b.replace(Ke,Qe).toLowerCase(),function(E){var F;do if(F=x?E.lang:E.getAttribute("xml:lang")||E.getAttribute("lang"))return F=F.toLowerCase(),F===b||F.indexOf(b+"-")===0;while((E=E.parentNode)&&E.nodeType===1);return!1}}),target:function(b){var E=t.location&&t.location.hash;return E&&E.slice(1)===b.id},root:function(b){return b===w},focus:function(b){return b===Ml()&&g.hasFocus()&&!!(b.type||b.href||~b.tabIndex)},enabled:ia(!1),disabled:ia(!0),checked:function(b){return Y(b,"input")&&!!b.checked||Y(b,"option")&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,b.selected===!0},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(b.nodeType<6)return!1;return!0},parent:function(b){return!n.pseudos.empty(b)},header:function(b){return ei.test(b.nodeName)},input:function(b){return ti.test(b.nodeName)},button:function(b){return Y(b,"input")&&b.type==="button"||Y(b,"button")},text:function(b){var E;return Y(b,"input")&&b.type==="text"&&((E=b.getAttribute("type"))==null||E.toLowerCase()==="text")},first:ui(function(){return[0]}),last:ui(function(b,E){return[E-1]}),eq:ui(function(b,E,F){return[F<0?F+E:F]}),even:ui(function(b,E){for(var F=0;F<E;F+=2)b.push(F);return b}),odd:ui(function(b,E){for(var F=1;F<E;F+=2)b.push(F);return b}),lt:ui(function(b,E,F){var L;for(F<0?L=F+E:F>E?L=E:L=F;--L>=0;)b.push(L);return b}),gt:ui(function(b,E,F){for(var L=F<0?F+E:F;++L<E;)b.push(L);return b})}},n.pseudos.nth=n.pseudos.eq;for(r in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[r]=Rl(r);for(r in{submit:!0,reset:!0})n.pseudos[r]=Fl(r);function ra(){}ra.prototype=n.filters=n.pseudos,n.setFilters=new ra;function xr(b,E){var F,L,j,V,J,nt,Z,wt=Ct[b+" "];if(wt)return E?0:wt.slice(0);for(J=b,nt=[],Z=n.preFilter;J;){(!F||(L=Wt.exec(J)))&&(L&&(J=J.slice(L[0].length)||J),nt.push(j=[])),F=!1,(L=Xi.exec(J))&&(F=L.shift(),j.push({value:F,type:L[0].replace(At," ")}),J=J.slice(F.length));for(V in n.filter)(L=De[V].exec(J))&&(!Z[V]||(L=Z[V](L)))&&(F=L.shift(),j.push({value:F,type:V,matches:L}),J=J.slice(F.length));if(!F)break}return E?J.length:J?Pt.error(b):Ct(b,nt).slice(0)}function wr(b){for(var E=0,F=b.length,L="";E<F;E++)L+=b[E].value;return L}function kr(b,E,F){var L=E.dir,j=E.next,V=j||L,J=F&&V==="parentNode",nt=U++;return E.first?function(Z,wt,dt){for(;Z=Z[L];)if(Z.nodeType===1||J)return b(Z,wt,dt);return!1}:function(Z,wt,dt){var mt,kt,lt=[O,nt];if(dt){for(;Z=Z[L];)if((Z.nodeType===1||J)&&b(Z,wt,dt))return!0}else for(;Z=Z[L];)if(Z.nodeType===1||J)if(kt=Z[D]||(Z[D]={}),j&&Y(Z,j))Z=Z[L]||Z;else{if((mt=kt[V])&&mt[0]===O&&mt[1]===nt)return lt[2]=mt[2];if(kt[V]=lt,lt[2]=b(Z,wt,dt))return!0}return!1}}function Mn(b){return b.length>1?function(E,F,L){for(var j=b.length;j--;)if(!b[j](E,F,L))return!1;return!0}:b[0]}function Ol(b,E,F){for(var L=0,j=E.length;L<j;L++)Pt(b,E[L],F);return F}function Tr(b,E,F,L,j){for(var V,J=[],nt=0,Z=b.length,wt=E!=null;nt<Z;nt++)(V=b[nt])&&(!F||F(V,L,j))&&(J.push(V),wt&&E.push(nt));return J}function Rn(b,E,F,L,j,V){return L&&!L[D]&&(L=Rn(L)),j&&!j[D]&&(j=Rn(j,V)),Fe(function(J,nt,Z,wt){var dt,mt,kt,lt,Lt=[],_e=[],se=nt.length,Ae=J||Ol(E||"*",Z.nodeType?[Z]:Z,[]),Be=b&&(J||!E)?Tr(Ae,Lt,b,Z,wt):Ae;if(F?(lt=j||(J?b:se||L)?[]:nt,F(Be,lt,Z,wt)):lt=Be,L)for(dt=Tr(lt,_e),L(dt,[],Z,wt),mt=dt.length;mt--;)(kt=dt[mt])&&(lt[_e[mt]]=!(Be[_e[mt]]=kt));if(J){if(j||b){if(j){for(dt=[],mt=lt.length;mt--;)(kt=lt[mt])&&dt.push(Be[mt]=kt);j(null,lt=[],dt,wt)}for(mt=lt.length;mt--;)(kt=lt[mt])&&(dt=j?p.call(J,kt):Lt[mt])>-1&&(J[dt]=!(nt[dt]=kt))}}else lt=Tr(lt===nt?lt.splice(se,lt.length):lt),j?j(null,nt,lt,wt):d.apply(nt,lt)})}function Fn(b){for(var E,F,L,j=b.length,V=n.relative[b[0].type],J=V||n.relative[" "],nt=V?1:0,Z=kr(function(mt){return mt===E},J,!0),wt=kr(function(mt){return p.call(E,mt)>-1},J,!0),dt=[function(mt,kt,lt){var Lt=!V&&(lt||kt!=o)||((E=kt).nodeType?Z(mt,kt,lt):wt(mt,kt,lt));return E=null,Lt}];nt<j;nt++)if(F=n.relative[b[nt].type])dt=[kr(Mn(dt),F)];else{if(F=n.filter[b[nt].type].apply(null,b[nt].matches),F[D]){for(L=++nt;L<j&&!n.relative[b[L].type];L++);return Rn(nt>1&&Mn(dt),nt>1&&wr(b.slice(0,nt-1).concat({value:b[nt-2].type===" "?"*":""})).replace(At,"$1"),F,nt<L&&Fn(b.slice(nt,L)),L<j&&Fn(b=b.slice(L)),L<j&&wr(b))}dt.push(F)}return Mn(dt)}function Pl(b,E){var F=E.length>0,L=b.length>0,j=function(V,J,nt,Z,wt){var dt,mt,kt,lt=0,Lt="0",_e=V&&[],se=[],Ae=o,Be=V||L&&n.find.TAG("*",wt),Ci=O+=Ae==null?1:Math.random()||.1,he=Be.length;for(wt&&(o=J==g||J||wt);Lt!==he&&(dt=Be[Lt])!=null;Lt++){if(L&&dt){for(mt=0,!J&&dt.ownerDocument!=g&&(ii(dt),nt=!x);kt=b[mt++];)if(kt(dt,J||g,nt)){d.call(Z,dt);break}wt&&(O=Ci)}F&&((dt=!kt&&dt)&&lt--,V&&_e.push(dt))}if(lt+=Lt,F&&Lt!==lt){for(mt=0;kt=E[mt++];)kt(_e,se,J,nt);if(V){if(lt>0)for(;Lt--;)_e[Lt]||se[Lt]||(se[Lt]=K.call(Z));se=Tr(se)}d.apply(Z,se),wt&&!V&&se.length>0&&lt+E.length>1&&l.uniqueSort(Z)}return wt&&(O=Ci,o=Ae),_e};return F?Fe(j):j}function On(b,E){var F,L=[],j=[],V=vt[b+" "];if(!V){for(E||(E=xr(b)),F=E.length;F--;)V=Fn(E[F]),V[D]?L.push(V):j.push(V);V=vt(b,Pl(j,L)),V.selector=b}return V}function na(b,E,F,L){var j,V,J,nt,Z,wt=typeof b=="function"&&b,dt=!L&&xr(b=wt.selector||b);if(F=F||[],dt.length===1){if(V=dt[0]=dt[0].slice(0),V.length>2&&(J=V[0]).type==="ID"&&E.nodeType===9&&x&&n.relative[V[1].type]){if(E=(n.find.ID(J.matches[0].replace(Ke,Qe),E)||[])[0],E)wt&&(E=E.parentNode);else return F;b=b.slice(V.shift().value.length)}for(j=De.needsContext.test(b)?0:V.length;j--&&(J=V[j],!n.relative[nt=J.type]);)if((Z=n.find[nt])&&(L=Z(J.matches[0].replace(Ke,Qe),En.test(V[0].type)&&Cn(E.parentNode)||E))){if(V.splice(j,1),b=L.length&&wr(V),!b)return d.apply(F,L),F;break}}return(wt||On(b,dt))(L,E,!x,F,!E||En.test(b)&&Cn(E.parentNode)||E),F}v.sortStable=D.split("").sort(te).join("")===D,ii(),v.sortDetached=Ei(function(b){return b.compareDocumentPosition(g.createElement("fieldset"))&1}),l.find=Pt,l.expr[":"]=l.expr.pseudos,l.unique=l.uniqueSort,Pt.compile=On,Pt.select=na,Pt.setDocument=ii,Pt.escape=l.escapeSelector,Pt.getText=l.text,Pt.isXML=l.isXMLDoc,Pt.selectors=l.expr,Pt.support=l.support,Pt.uniqueSort=l.uniqueSort})();var st=function(r,n,o){for(var h=[],u=o!==void 0;(r=r[n])&&r.nodeType!==9;)if(r.nodeType===1){if(u&&l(r).is(o))break;h.push(r)}return h},pt=function(r,n){for(var o=[];r;r=r.nextSibling)r.nodeType===1&&r!==n&&o.push(r);return o},bt=l.expr.match.needsContext,rt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function jt(r,n,o){return T(n)?l.grep(r,function(h,u){return!!n.call(h,u,h)!==o}):n.nodeType?l.grep(r,function(h){return h===n!==o}):typeof n!="string"?l.grep(r,function(h){return p.call(n,h)>-1!==o}):l.filter(n,r,o)}l.filter=function(r,n,o){var h=n[0];return o&&(r=":not("+r+")"),n.length===1&&h.nodeType===1?l.find.matchesSelector(h,r)?[h]:[]:l.find.matches(r,l.grep(n,function(u){return u.nodeType===1}))},l.fn.extend({find:function(r){var n,o,h=this.length,u=this;if(typeof r!="string")return this.pushStack(l(r).filter(function(){for(n=0;n<h;n++)if(l.contains(u[n],this))return!0}));for(o=this.pushStack([]),n=0;n<h;n++)l.find(r,u[n],o);return h>1?l.uniqueSort(o):o},filter:function(r){return this.pushStack(jt(this,r||[],!1))},not:function(r){return this.pushStack(jt(this,r||[],!0))},is:function(r){return!!jt(this,typeof r=="string"&&bt.test(r)?l(r):r||[],!1).length}});var Zt,Nt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,It=l.fn.init=function(r,n,o){var h,u;if(!r)return this;if(o=o||Zt,typeof r=="string")if(r[0]==="<"&&r[r.length-1]===">"&&r.length>=3?h=[null,r,null]:h=Nt.exec(r),h&&(h[1]||!n))if(h[1]){if(n=n instanceof l?n[0]:n,l.merge(this,l.parseHTML(h[1],n&&n.nodeType?n.ownerDocument||n:R,!0)),rt.test(h[1])&&l.isPlainObject(n))for(h in n)T(this[h])?this[h](n[h]):this.attr(h,n[h]);return this}else return u=R.getElementById(h[2]),u&&(this[0]=u,this.length=1),this;else return!n||n.jquery?(n||o).find(r):this.constructor(n).find(r);else{if(r.nodeType)return this[0]=r,this.length=1,this;if(T(r))return o.ready!==void 0?o.ready(r):r(l)}return l.makeArray(r,this)};It.prototype=l.fn,Zt=l(R);var Ft=/^(?:parents|prev(?:Until|All))/,Yt={children:!0,contents:!0,next:!0,prev:!0};l.fn.extend({has:function(r){var n=l(r,this),o=n.length;return this.filter(function(){for(var h=0;h<o;h++)if(l.contains(this,n[h]))return!0})},closest:function(r,n){var o,h=0,u=this.length,d=[],g=typeof r!="string"&&l(r);if(!bt.test(r)){for(;h<u;h++)for(o=this[h];o&&o!==n;o=o.parentNode)if(o.nodeType<11&&(g?g.index(o)>-1:o.nodeType===1&&l.find.matchesSelector(o,r))){d.push(o);break}}return this.pushStack(d.length>1?l.uniqueSort(d):d)},index:function(r){return r?typeof r=="string"?p.call(l(r),this[0]):p.call(this,r.jquery?r[0]:r):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(r,n){return this.pushStack(l.uniqueSort(l.merge(this.get(),l(r,n))))},addBack:function(r){return this.add(r==null?this.prevObject:this.prevObject.filter(r))}});function Dt(r,n){for(;(r=r[n])&&r.nodeType!==1;);return r}l.each({parent:function(r){var n=r.parentNode;return n&&n.nodeType!==11?n:null},parents:function(r){return st(r,"parentNode")},parentsUntil:function(r,n,o){return st(r,"parentNode",o)},next:function(r){return Dt(r,"nextSibling")},prev:function(r){return Dt(r,"previousSibling")},nextAll:function(r){return st(r,"nextSibling")},prevAll:function(r){return st(r,"previousSibling")},nextUntil:function(r,n,o){return st(r,"nextSibling",o)},prevUntil:function(r,n,o){return st(r,"previousSibling",o)},siblings:function(r){return pt((r.parentNode||{}).firstChild,r)},children:function(r){return pt(r.firstChild)},contents:function(r){return r.contentDocument!=null&&s(r.contentDocument)?r.contentDocument:(Y(r,"template")&&(r=r.content||r),l.merge([],r.childNodes))}},function(r,n){l.fn[r]=function(o,h){var u=l.map(this,n,o);return r.slice(-5)!=="Until"&&(h=o),h&&typeof h=="string"&&(u=l.filter(h,u)),this.length>1&&(Yt[r]||l.uniqueSort(u),Ft.test(r)&&u.reverse()),this.pushStack(u)}});var Bt=/[^\x20\t\r\n\f]+/g;function ct(r){var n={};return l.each(r.match(Bt)||[],function(o,h){n[h]=!0}),n}l.Callbacks=function(r){r=typeof r=="string"?ct(r):l.extend({},r);var n,o,h,u,d=[],g=[],w=-1,x=function(){for(u=u||r.once,h=n=!0;g.length;w=-1)for(o=g.shift();++w<d.length;)d[w].apply(o[0],o[1])===!1&&r.stopOnFalse&&(w=d.length,o=!1);r.memory||(o=!1),n=!1,u&&(o?d=[]:d="")},C={add:function(){return d&&(o&&!n&&(w=d.length-1,g.push(o)),function N(D){l.each(D,function(O,U){T(U)?(!r.unique||!C.has(U))&&d.push(U):U&&U.length&&B(U)!=="string"&&N(U)})}(arguments),o&&!n&&x()),this},remove:function(){return l.each(arguments,function(N,D){for(var O;(O=l.inArray(D,d,O))>-1;)d.splice(O,1),O<=w&&w--}),this},has:function(N){return N?l.inArray(N,d)>-1:d.length>0},empty:function(){return d&&(d=[]),this},disable:function(){return u=g=[],d=o="",this},disabled:function(){return!d},lock:function(){return u=g=[],!o&&!n&&(d=o=""),this},locked:function(){return!!u},fireWith:function(N,D){return u||(D=D||[],D=[N,D.slice?D.slice():D],g.push(D),n||x()),this},fire:function(){return C.fireWith(this,arguments),this},fired:function(){return!!h}};return C};function Gt(r){return r}function Xe(r){throw r}function Ze(r,n,o,h){var u;try{r&&T(u=r.promise)?u.call(r).done(n).fail(o):r&&T(u=r.then)?u.call(r,n,o):n.apply(void 0,[r].slice(h))}catch(d){o.apply(void 0,[d])}}l.extend({Deferred:function(r){var n=[["notify","progress",l.Callbacks("memory"),l.Callbacks("memory"),2],["resolve","done",l.Callbacks("once memory"),l.Callbacks("once memory"),0,"resolved"],["reject","fail",l.Callbacks("once memory"),l.Callbacks("once memory"),1,"rejected"]],o="pending",h={state:function(){return o},always:function(){return u.done(arguments).fail(arguments),this},catch:function(d){return h.then(null,d)},pipe:function(){var d=arguments;return l.Deferred(function(g){l.each(n,function(w,x){var C=T(d[x[4]])&&d[x[4]];u[x[1]](function(){var N=C&&C.apply(this,arguments);N&&T(N.promise)?N.promise().progress(g.notify).done(g.resolve).fail(g.reject):g[x[0]+"With"](this,C?[N]:arguments)})}),d=null}).promise()},then:function(d,g,w){var x=0;function C(N,D,O,U){return function(){var gt=this,Ct=arguments,vt=function(){var te,Ne;if(!(N<x)){if(te=O.apply(gt,Ct),te===D.promise())throw new TypeError("Thenable self-resolution");Ne=te&&(typeof te=="object"||typeof te=="function")&&te.then,T(Ne)?U?Ne.call(te,C(x,D,Gt,U),C(x,D,Xe,U)):(x++,Ne.call(te,C(x,D,Gt,U),C(x,D,Xe,U),C(x,D,Gt,D.notifyWith))):(O!==Gt&&(gt=void 0,Ct=[te]),(U||D.resolveWith)(gt,Ct))}},ne=U?vt:function(){try{vt()}catch(te){l.Deferred.exceptionHook&&l.Deferred.exceptionHook(te,ne.error),N+1>=x&&(O!==Xe&&(gt=void 0,Ct=[te]),D.rejectWith(gt,Ct))}};N?ne():(l.Deferred.getErrorHook?ne.error=l.Deferred.getErrorHook():l.Deferred.getStackHook&&(ne.error=l.Deferred.getStackHook()),t.setTimeout(ne))}}return l.Deferred(function(N){n[0][3].add(C(0,N,T(w)?w:Gt,N.notifyWith)),n[1][3].add(C(0,N,T(d)?d:Gt)),n[2][3].add(C(0,N,T(g)?g:Xe))}).promise()},promise:function(d){return d!=null?l.extend(d,h):h}},u={};return l.each(n,function(d,g){var w=g[2],x=g[5];h[g[1]]=w.add,x&&w.add(function(){o=x},n[3-d][2].disable,n[3-d][3].disable,n[0][2].lock,n[0][3].lock),w.add(g[3].fire),u[g[0]]=function(){return u[g[0]+"With"](this===u?void 0:this,arguments),this},u[g[0]+"With"]=w.fireWith}),h.promise(u),r&&r.call(u,u),u},when:function(r){var n=arguments.length,o=n,h=Array(o),u=a.call(arguments),d=l.Deferred(),g=function(w){return function(x){h[w]=this,u[w]=arguments.length>1?a.call(arguments):x,--n||d.resolveWith(h,u)}};if(n<=1&&(Ze(r,d.done(g(o)).resolve,d.reject,!n),d.state()==="pending"||T(u[o]&&u[o].then)))return d.then();for(;o--;)Ze(u[o],g(o),d.reject);return d.promise()}});var vi=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;l.Deferred.exceptionHook=function(r,n){t.console&&t.console.warn&&r&&vi.test(r.name)&&t.console.warn("jQuery.Deferred exception: "+r.message,r.stack,n)},l.readyException=function(r){t.setTimeout(function(){throw r})};var cn=l.Deferred();l.fn.ready=function(r){return cn.then(r).catch(function(n){l.readyException(n)}),this},l.extend({isReady:!1,readyWait:1,ready:function(r){(r===!0?--l.readyWait:l.isReady)||(l.isReady=!0,!(r!==!0&&--l.readyWait>0)&&cn.resolveWith(R,[l]))}}),l.ready.then=cn.then;function pr(){R.removeEventListener("DOMContentLoaded",pr),t.removeEventListener("load",pr),l.ready()}R.readyState==="complete"||R.readyState!=="loading"&&!R.documentElement.doScroll?t.setTimeout(l.ready):(R.addEventListener("DOMContentLoaded",pr),t.addEventListener("load",pr));var Ye=function(r,n,o,h,u,d,g){var w=0,x=r.length,C=o==null;if(B(o)==="object"){u=!0;for(w in o)Ye(r,n,w,o[w],!0,d,g)}else if(h!==void 0&&(u=!0,T(h)||(g=!0),C&&(g?(n.call(r,h),n=null):(C=n,n=function(N,D,O){return C.call(l(N),O)})),n))for(;w<x;w++)n(r[w],o,g?h:h.call(r[w],w,n(r[w],o)));return u?r:C?n.call(r):x?n(r[0],o):d},Bo=/^-ms-/,zo=/-([a-z])/g;function qo(r,n){return n.toUpperCase()}function Le(r){return r.replace(Bo,"ms-").replace(zo,qo)}var Bi=function(r){return r.nodeType===1||r.nodeType===9||!+r.nodeType};function zi(){this.expando=l.expando+zi.uid++}zi.uid=1,zi.prototype={cache:function(r){var n=r[this.expando];return n||(n={},Bi(r)&&(r.nodeType?r[this.expando]=n:Object.defineProperty(r,this.expando,{value:n,configurable:!0}))),n},set:function(r,n,o){var h,u=this.cache(r);if(typeof n=="string")u[Le(n)]=o;else for(h in n)u[Le(h)]=n[h];return u},get:function(r,n){return n===void 0?this.cache(r):r[this.expando]&&r[this.expando][Le(n)]},access:function(r,n,o){return n===void 0||n&&typeof n=="string"&&o===void 0?this.get(r,n):(this.set(r,n,o),o!==void 0?o:n)},remove:function(r,n){var o,h=r[this.expando];if(h!==void 0){if(n!==void 0)for(Array.isArray(n)?n=n.map(Le):(n=Le(n),n=n in h?[n]:n.match(Bt)||[]),o=n.length;o--;)delete h[n[o]];(n===void 0||l.isEmptyObject(h))&&(r.nodeType?r[this.expando]=void 0:delete r[this.expando])}},hasData:function(r){var n=r[this.expando];return n!==void 0&&!l.isEmptyObject(n)}};var at=new zi,de=new zi,Ho=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Uo=/[A-Z]/g;function Wo(r){return r==="true"?!0:r==="false"?!1:r==="null"?null:r===+r+""?+r:Ho.test(r)?JSON.parse(r):r}function Ss(r,n,o){var h;if(o===void 0&&r.nodeType===1)if(h="data-"+n.replace(Uo,"-$&").toLowerCase(),o=r.getAttribute(h),typeof o=="string"){try{o=Wo(o)}catch{}de.set(r,n,o)}else o=void 0;return o}l.extend({hasData:function(r){return de.hasData(r)||at.hasData(r)},data:function(r,n,o){return de.access(r,n,o)},removeData:function(r,n){de.remove(r,n)},_data:function(r,n,o){return at.access(r,n,o)},_removeData:function(r,n){at.remove(r,n)}}),l.fn.extend({data:function(r,n){var o,h,u,d=this[0],g=d&&d.attributes;if(r===void 0){if(this.length&&(u=de.get(d),d.nodeType===1&&!at.get(d,"hasDataAttrs"))){for(o=g.length;o--;)g[o]&&(h=g[o].name,h.indexOf("data-")===0&&(h=Le(h.slice(5)),Ss(d,h,u[h])));at.set(d,"hasDataAttrs",!0)}return u}return typeof r=="object"?this.each(function(){de.set(this,r)}):Ye(this,function(w){var x;if(d&&w===void 0)return x=de.get(d,r),x!==void 0||(x=Ss(d,r),x!==void 0)?x:void 0;this.each(function(){de.set(this,r,w)})},null,n,arguments.length>1,null,!0)},removeData:function(r){return this.each(function(){de.remove(this,r)})}}),l.extend({queue:function(r,n,o){var h;if(r)return n=(n||"fx")+"queue",h=at.get(r,n),o&&(!h||Array.isArray(o)?h=at.access(r,n,l.makeArray(o)):h.push(o)),h||[]},dequeue:function(r,n){n=n||"fx";var o=l.queue(r,n),h=o.length,u=o.shift(),d=l._queueHooks(r,n),g=function(){l.dequeue(r,n)};u==="inprogress"&&(u=o.shift(),h--),u&&(n==="fx"&&o.unshift("inprogress"),delete d.stop,u.call(r,g,d)),!h&&d&&d.empty.fire()},_queueHooks:function(r,n){var o=n+"queueHooks";return at.get(r,o)||at.access(r,o,{empty:l.Callbacks("once memory").add(function(){at.remove(r,[n+"queue",o])})})}}),l.fn.extend({queue:function(r,n){var o=2;return typeof r!="string"&&(n=r,r="fx",o--),arguments.length<o?l.queue(this[0],r):n===void 0?this:this.each(function(){var h=l.queue(this,r,n);l._queueHooks(this,r),r==="fx"&&h[0]!=="inprogress"&&l.dequeue(this,r)})},dequeue:function(r){return this.each(function(){l.dequeue(this,r)})},clearQueue:function(r){return this.queue(r||"fx",[])},promise:function(r,n){var o,h=1,u=l.Deferred(),d=this,g=this.length,w=function(){--h||u.resolveWith(d,[d])};for(typeof r!="string"&&(n=r,r=void 0),r=r||"fx";g--;)o=at.get(d[g],r+"queueHooks"),o&&o.empty&&(h++,o.empty.add(w));return w(),u.promise(n)}});var As=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,qi=new RegExp("^(?:([+-])=|)("+As+")([a-z%]*)$","i"),Ge=["Top","Right","Bottom","Left"],li=R.documentElement,xi=function(r){return l.contains(r.ownerDocument,r)},Vo={composed:!0};li.getRootNode&&(xi=function(r){return l.contains(r.ownerDocument,r)||r.getRootNode(Vo)===r.ownerDocument});var gr=function(r,n){return r=n||r,r.style.display==="none"||r.style.display===""&&xi(r)&&l.css(r,"display")==="none"};function Es(r,n,o,h){var u,d,g=20,w=h?function(){return h.cur()}:function(){return l.css(r,n,"")},x=w(),C=o&&o[3]||(l.cssNumber[n]?"":"px"),N=r.nodeType&&(l.cssNumber[n]||C!=="px"&&+x)&&qi.exec(l.css(r,n));if(N&&N[3]!==C){for(x=x/2,C=C||N[3],N=+x||1;g--;)l.style(r,n,N+C),(1-d)*(1-(d=w()/x||.5))<=0&&(g=0),N=N/d;N=N*2,l.style(r,n,N+C),o=o||[]}return o&&(N=+N||+x||0,u=o[1]?N+(o[1]+1)*o[2]:+o[2],h&&(h.unit=C,h.start=N,h.end=u)),u}var Cs={};function $o(r){var n,o=r.ownerDocument,h=r.nodeName,u=Cs[h];return u||(n=o.body.appendChild(o.createElement(h)),u=l.css(n,"display"),n.parentNode.removeChild(n),u==="none"&&(u="block"),Cs[h]=u,u)}function wi(r,n){for(var o,h,u=[],d=0,g=r.length;d<g;d++)h=r[d],h.style&&(o=h.style.display,n?(o==="none"&&(u[d]=at.get(h,"display")||null,u[d]||(h.style.display="")),h.style.display===""&&gr(h)&&(u[d]=$o(h))):o!=="none"&&(u[d]="none",at.set(h,"display",o)));for(d=0;d<g;d++)u[d]!=null&&(r[d].style.display=u[d]);return r}l.fn.extend({show:function(){return wi(this,!0)},hide:function(){return wi(this)},toggle:function(r){return typeof r=="boolean"?r?this.show():this.hide():this.each(function(){gr(this)?l(this).show():l(this).hide()})}});var Hi=/^(?:checkbox|radio)$/i,Ms=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Rs=/^$|^module$|\/(?:java|ecma)script/i;(function(){var r=R.createDocumentFragment(),n=r.appendChild(R.createElement("div")),o=R.createElement("input");o.setAttribute("type","radio"),o.setAttribute("checked","checked"),o.setAttribute("name","t"),n.appendChild(o),v.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,n.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue,n.innerHTML="<option></option>",v.option=!!n.lastChild})();var Te={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Te.tbody=Te.tfoot=Te.colgroup=Te.caption=Te.thead,Te.th=Te.td,v.option||(Te.optgroup=Te.option=[1,"<select multiple='multiple'>","</select>"]);function pe(r,n){var o;return typeof r.getElementsByTagName<"u"?o=r.getElementsByTagName(n||"*"):typeof r.querySelectorAll<"u"?o=r.querySelectorAll(n||"*"):o=[],n===void 0||n&&Y(r,n)?l.merge([r],o):o}function un(r,n){for(var o=0,h=r.length;o<h;o++)at.set(r[o],"globalEval",!n||at.get(n[o],"globalEval"))}var Xo=/<|&#?\w+;/;function Fs(r,n,o,h,u){for(var d,g,w,x,C,N,D=n.createDocumentFragment(),O=[],U=0,gt=r.length;U<gt;U++)if(d=r[U],d||d===0)if(B(d)==="object")l.merge(O,d.nodeType?[d]:d);else if(!Xo.test(d))O.push(n.createTextNode(d));else{for(g=g||D.appendChild(n.createElement("div")),w=(Ms.exec(d)||["",""])[1].toLowerCase(),x=Te[w]||Te._default,g.innerHTML=x[1]+l.htmlPrefilter(d)+x[2],N=x[0];N--;)g=g.lastChild;l.merge(O,g.childNodes),g=D.firstChild,g.textContent=""}for(D.textContent="",U=0;d=O[U++];){if(h&&l.inArray(d,h)>-1){u&&u.push(d);continue}if(C=xi(d),g=pe(D.appendChild(d),"script"),C&&un(g),o)for(N=0;d=g[N++];)Rs.test(d.type||"")&&o.push(d)}return D}var Os=/^([^.]*)(?:\.(.+)|)/;function ki(){return!0}function Ti(){return!1}function dn(r,n,o,h,u,d){var g,w;if(typeof n=="object"){typeof o!="string"&&(h=h||o,o=void 0);for(w in n)dn(r,w,o,h,n[w],d);return r}if(h==null&&u==null?(u=o,h=o=void 0):u==null&&(typeof o=="string"?(u=h,h=void 0):(u=h,h=o,o=void 0)),u===!1)u=Ti;else if(!u)return r;return d===1&&(g=u,u=function(x){return l().off(x),g.apply(this,arguments)},u.guid=g.guid||(g.guid=l.guid++)),r.each(function(){l.event.add(this,n,u,h,o)})}l.event={global:{},add:function(r,n,o,h,u){var d,g,w,x,C,N,D,O,U,gt,Ct,vt=at.get(r);if(!!Bi(r))for(o.handler&&(d=o,o=d.handler,u=d.selector),u&&l.find.matchesSelector(li,u),o.guid||(o.guid=l.guid++),(x=vt.events)||(x=vt.events=Object.create(null)),(g=vt.handle)||(g=vt.handle=function(ne){return typeof l<"u"&&l.event.triggered!==ne.type?l.event.dispatch.apply(r,arguments):void 0}),n=(n||"").match(Bt)||[""],C=n.length;C--;)w=Os.exec(n[C])||[],U=Ct=w[1],gt=(w[2]||"").split(".").sort(),U&&(D=l.event.special[U]||{},U=(u?D.delegateType:D.bindType)||U,D=l.event.special[U]||{},N=l.extend({type:U,origType:Ct,data:h,handler:o,guid:o.guid,selector:u,needsContext:u&&l.expr.match.needsContext.test(u),namespace:gt.join(".")},d),(O=x[U])||(O=x[U]=[],O.delegateCount=0,(!D.setup||D.setup.call(r,h,gt,g)===!1)&&r.addEventListener&&r.addEventListener(U,g)),D.add&&(D.add.call(r,N),N.handler.guid||(N.handler.guid=o.guid)),u?O.splice(O.delegateCount++,0,N):O.push(N),l.event.global[U]=!0)},remove:function(r,n,o,h,u){var d,g,w,x,C,N,D,O,U,gt,Ct,vt=at.hasData(r)&&at.get(r);if(!(!vt||!(x=vt.events))){for(n=(n||"").match(Bt)||[""],C=n.length;C--;){if(w=Os.exec(n[C])||[],U=Ct=w[1],gt=(w[2]||"").split(".").sort(),!U){for(U in x)l.event.remove(r,U+n[C],o,h,!0);continue}for(D=l.event.special[U]||{},U=(h?D.delegateType:D.bindType)||U,O=x[U]||[],w=w[2]&&new RegExp("(^|\\.)"+gt.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=d=O.length;d--;)N=O[d],(u||Ct===N.origType)&&(!o||o.guid===N.guid)&&(!w||w.test(N.namespace))&&(!h||h===N.selector||h==="**"&&N.selector)&&(O.splice(d,1),N.selector&&O.delegateCount--,D.remove&&D.remove.call(r,N));g&&!O.length&&((!D.teardown||D.teardown.call(r,gt,vt.handle)===!1)&&l.removeEvent(r,U,vt.handle),delete x[U])}l.isEmptyObject(x)&&at.remove(r,"handle events")}},dispatch:function(r){var n,o,h,u,d,g,w=new Array(arguments.length),x=l.event.fix(r),C=(at.get(this,"events")||Object.create(null))[x.type]||[],N=l.event.special[x.type]||{};for(w[0]=x,n=1;n<arguments.length;n++)w[n]=arguments[n];if(x.delegateTarget=this,!(N.preDispatch&&N.preDispatch.call(this,x)===!1)){for(g=l.event.handlers.call(this,x,C),n=0;(u=g[n++])&&!x.isPropagationStopped();)for(x.currentTarget=u.elem,o=0;(d=u.handlers[o++])&&!x.isImmediatePropagationStopped();)(!x.rnamespace||d.namespace===!1||x.rnamespace.test(d.namespace))&&(x.handleObj=d,x.data=d.data,h=((l.event.special[d.origType]||{}).handle||d.handler).apply(u.elem,w),h!==void 0&&(x.result=h)===!1&&(x.preventDefault(),x.stopPropagation()));return N.postDispatch&&N.postDispatch.call(this,x),x.result}},handlers:function(r,n){var o,h,u,d,g,w=[],x=n.delegateCount,C=r.target;if(x&&C.nodeType&&!(r.type==="click"&&r.button>=1)){for(;C!==this;C=C.parentNode||this)if(C.nodeType===1&&!(r.type==="click"&&C.disabled===!0)){for(d=[],g={},o=0;o<x;o++)h=n[o],u=h.selector+" ",g[u]===void 0&&(g[u]=h.needsContext?l(u,this).index(C)>-1:l.find(u,this,null,[C]).length),g[u]&&d.push(h);d.length&&w.push({elem:C,handlers:d})}}return C=this,x<n.length&&w.push({elem:C,handlers:n.slice(x)}),w},addProp:function(r,n){Object.defineProperty(l.Event.prototype,r,{enumerable:!0,configurable:!0,get:T(n)?function(){if(this.originalEvent)return n(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[r]},set:function(o){Object.defineProperty(this,r,{enumerable:!0,configurable:!0,writable:!0,value:o})}})},fix:function(r){return r[l.expando]?r:new l.Event(r)},special:{load:{noBubble:!0},click:{setup:function(r){var n=this||r;return Hi.test(n.type)&&n.click&&Y(n,"input")&&_r(n,"click",!0),!1},trigger:function(r){var n=this||r;return Hi.test(n.type)&&n.click&&Y(n,"input")&&_r(n,"click"),!0},_default:function(r){var n=r.target;return Hi.test(n.type)&&n.click&&Y(n,"input")&&at.get(n,"click")||Y(n,"a")}},beforeunload:{postDispatch:function(r){r.result!==void 0&&r.originalEvent&&(r.originalEvent.returnValue=r.result)}}}};function _r(r,n,o){if(!o){at.get(r,n)===void 0&&l.event.add(r,n,ki);return}at.set(r,n,!1),l.event.add(r,n,{namespace:!1,handler:function(h){var u,d=at.get(this,n);if(h.isTrigger&1&&this[n]){if(d)(l.event.special[n]||{}).delegateType&&h.stopPropagation();else if(d=a.call(arguments),at.set(this,n,d),this[n](),u=at.get(this,n),at.set(this,n,!1),d!==u)return h.stopImmediatePropagation(),h.preventDefault(),u}else d&&(at.set(this,n,l.event.trigger(d[0],d.slice(1),this)),h.stopPropagation(),h.isImmediatePropagationStopped=ki)}})}l.removeEvent=function(r,n,o){r.removeEventListener&&r.removeEventListener(n,o)},l.Event=function(r,n){if(!(this instanceof l.Event))return new l.Event(r,n);r&&r.type?(this.originalEvent=r,this.type=r.type,this.isDefaultPrevented=r.defaultPrevented||r.defaultPrevented===void 0&&r.returnValue===!1?ki:Ti,this.target=r.target&&r.target.nodeType===3?r.target.parentNode:r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget):this.type=r,n&&l.extend(this,n),this.timeStamp=r&&r.timeStamp||Date.now(),this[l.expando]=!0},l.Event.prototype={constructor:l.Event,isDefaultPrevented:Ti,isPropagationStopped:Ti,isImmediatePropagationStopped:Ti,isSimulated:!1,preventDefault:function(){var r=this.originalEvent;this.isDefaultPrevented=ki,r&&!this.isSimulated&&r.preventDefault()},stopPropagation:function(){var r=this.originalEvent;this.isPropagationStopped=ki,r&&!this.isSimulated&&r.stopPropagation()},stopImmediatePropagation:function(){var r=this.originalEvent;this.isImmediatePropagationStopped=ki,r&&!this.isSimulated&&r.stopImmediatePropagation(),this.stopPropagation()}},l.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},l.event.addProp),l.each({focus:"focusin",blur:"focusout"},function(r,n){function o(h){if(R.documentMode){var u=at.get(this,"handle"),d=l.event.fix(h);d.type=h.type==="focusin"?"focus":"blur",d.isSimulated=!0,u(h),d.target===d.currentTarget&&u(d)}else l.event.simulate(n,h.target,l.event.fix(h))}l.event.special[r]={setup:function(){var h;if(_r(this,r,!0),R.documentMode)h=at.get(this,n),h||this.addEventListener(n,o),at.set(this,n,(h||0)+1);else return!1},trigger:function(){return _r(this,r),!0},teardown:function(){var h;if(R.documentMode)h=at.get(this,n)-1,h?at.set(this,n,h):(this.removeEventListener(n,o),at.remove(this,n));else return!1},_default:function(h){return at.get(h.target,r)},delegateType:n},l.event.special[n]={setup:function(){var h=this.ownerDocument||this.document||this,u=R.documentMode?this:h,d=at.get(u,n);d||(R.documentMode?this.addEventListener(n,o):h.addEventListener(r,o,!0)),at.set(u,n,(d||0)+1)},teardown:function(){var h=this.ownerDocument||this.document||this,u=R.documentMode?this:h,d=at.get(u,n)-1;d?at.set(u,n,d):(R.documentMode?this.removeEventListener(n,o):h.removeEventListener(r,o,!0),at.remove(u,n))}}}),l.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(r,n){l.event.special[r]={delegateType:n,bindType:n,handle:function(o){var h,u=this,d=o.relatedTarget,g=o.handleObj;return(!d||d!==u&&!l.contains(u,d))&&(o.type=g.origType,h=g.handler.apply(this,arguments),o.type=n),h}}}),l.fn.extend({on:function(r,n,o,h){return dn(this,r,n,o,h)},one:function(r,n,o,h){return dn(this,r,n,o,h,1)},off:function(r,n,o){var h,u;if(r&&r.preventDefault&&r.handleObj)return h=r.handleObj,l(r.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if(typeof r=="object"){for(u in r)this.off(u,n,r[u]);return this}return(n===!1||typeof n=="function")&&(o=n,n=void 0),o===!1&&(o=Ti),this.each(function(){l.event.remove(this,r,o,n)})}});var Yo=/<script|<style|<link/i,Go=/checked\s*(?:[^=]|=\s*.checked.)/i,Ko=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Ps(r,n){return Y(r,"table")&&Y(n.nodeType!==11?n:n.firstChild,"tr")&&l(r).children("tbody")[0]||r}function Qo(r){return r.type=(r.getAttribute("type")!==null)+"/"+r.type,r}function Jo(r){return(r.type||"").slice(0,5)==="true/"?r.type=r.type.slice(5):r.removeAttribute("type"),r}function Ls(r,n){var o,h,u,d,g,w,x;if(n.nodeType===1){if(at.hasData(r)&&(d=at.get(r),x=d.events,x)){at.remove(n,"handle events");for(u in x)for(o=0,h=x[u].length;o<h;o++)l.event.add(n,u,x[u][o])}de.hasData(r)&&(g=de.access(r),w=l.extend({},g),de.set(n,w))}}function Zo(r,n){var o=n.nodeName.toLowerCase();o==="input"&&Hi.test(r.type)?n.checked=r.checked:(o==="input"||o==="textarea")&&(n.defaultValue=r.defaultValue)}function Si(r,n,o,h){n=c(n);var u,d,g,w,x,C,N=0,D=r.length,O=D-1,U=n[0],gt=T(U);if(gt||D>1&&typeof U=="string"&&!v.checkClone&&Go.test(U))return r.each(function(Ct){var vt=r.eq(Ct);gt&&(n[0]=U.call(this,Ct,vt.html())),Si(vt,n,o,h)});if(D&&(u=Fs(n,r[0].ownerDocument,!1,r,h),d=u.firstChild,u.childNodes.length===1&&(u=d),d||h)){for(g=l.map(pe(u,"script"),Qo),w=g.length;N<D;N++)x=u,N!==O&&(x=l.clone(x,!0,!0),w&&l.merge(g,pe(x,"script"))),o.call(r[N],x,N);if(w)for(C=g[g.length-1].ownerDocument,l.map(g,Jo),N=0;N<w;N++)x=g[N],Rs.test(x.type||"")&&!at.access(x,"globalEval")&&l.contains(C,x)&&(x.src&&(x.type||"").toLowerCase()!=="module"?l._evalUrl&&!x.noModule&&l._evalUrl(x.src,{nonce:x.nonce||x.getAttribute("nonce")},C):P(x.textContent.replace(Ko,""),x,C))}return r}function Ns(r,n,o){for(var h,u=n?l.filter(n,r):r,d=0;(h=u[d])!=null;d++)!o&&h.nodeType===1&&l.cleanData(pe(h)),h.parentNode&&(o&&xi(h)&&un(pe(h,"script")),h.parentNode.removeChild(h));return r}l.extend({htmlPrefilter:function(r){return r},clone:function(r,n,o){var h,u,d,g,w=r.cloneNode(!0),x=xi(r);if(!v.noCloneChecked&&(r.nodeType===1||r.nodeType===11)&&!l.isXMLDoc(r))for(g=pe(w),d=pe(r),h=0,u=d.length;h<u;h++)Zo(d[h],g[h]);if(n)if(o)for(d=d||pe(r),g=g||pe(w),h=0,u=d.length;h<u;h++)Ls(d[h],g[h]);else Ls(r,w);return g=pe(w,"script"),g.length>0&&un(g,!x&&pe(r,"script")),w},cleanData:function(r){for(var n,o,h,u=l.event.special,d=0;(o=r[d])!==void 0;d++)if(Bi(o)){if(n=o[at.expando]){if(n.events)for(h in n.events)u[h]?l.event.remove(o,h):l.removeEvent(o,h,n.handle);o[at.expando]=void 0}o[de.expando]&&(o[de.expando]=void 0)}}}),l.fn.extend({detach:function(r){return Ns(this,r,!0)},remove:function(r){return Ns(this,r)},text:function(r){return Ye(this,function(n){return n===void 0?l.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=n)})},null,r,arguments.length)},append:function(){return Si(this,arguments,function(r){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var n=Ps(this,r);n.appendChild(r)}})},prepend:function(){return Si(this,arguments,function(r){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var n=Ps(this,r);n.insertBefore(r,n.firstChild)}})},before:function(){return Si(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this)})},after:function(){return Si(this,arguments,function(r){this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling)})},empty:function(){for(var r,n=0;(r=this[n])!=null;n++)r.nodeType===1&&(l.cleanData(pe(r,!1)),r.textContent="");return this},clone:function(r,n){return r=r??!1,n=n??r,this.map(function(){return l.clone(this,r,n)})},html:function(r){return Ye(this,function(n){var o=this[0]||{},h=0,u=this.length;if(n===void 0&&o.nodeType===1)return o.innerHTML;if(typeof n=="string"&&!Yo.test(n)&&!Te[(Ms.exec(n)||["",""])[1].toLowerCase()]){n=l.htmlPrefilter(n);try{for(;h<u;h++)o=this[h]||{},o.nodeType===1&&(l.cleanData(pe(o,!1)),o.innerHTML=n);o=0}catch{}}o&&this.empty().append(n)},null,r,arguments.length)},replaceWith:function(){var r=[];return Si(this,arguments,function(n){var o=this.parentNode;l.inArray(this,r)<0&&(l.cleanData(pe(this)),o&&o.replaceChild(n,this))},r)}}),l.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(r,n){l.fn[r]=function(o){for(var h,u=[],d=l(o),g=d.length-1,w=0;w<=g;w++)h=w===g?this:this.clone(!0),l(d[w])[n](h),f.apply(u,h.get());return this.pushStack(u)}});var pn=new RegExp("^("+As+")(?!px)[a-z%]+$","i"),gn=/^--/,mr=function(r){var n=r.ownerDocument.defaultView;return(!n||!n.opener)&&(n=t),n.getComputedStyle(r)},Is=function(r,n,o){var h,u,d={};for(u in n)d[u]=r.style[u],r.style[u]=n[u];h=o.call(r);for(u in n)r.style[u]=d[u];return h},tl=new RegExp(Ge.join("|"),"i");(function(){function r(){if(!!C){x.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",C.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",li.appendChild(x).appendChild(C);var N=t.getComputedStyle(C);o=N.top!=="1%",w=n(N.marginLeft)===12,C.style.right="60%",d=n(N.right)===36,h=n(N.width)===36,C.style.position="absolute",u=n(C.offsetWidth/3)===12,li.removeChild(x),C=null}}function n(N){return Math.round(parseFloat(N))}var o,h,u,d,g,w,x=R.createElement("div"),C=R.createElement("div");!C.style||(C.style.backgroundClip="content-box",C.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle=C.style.backgroundClip==="content-box",l.extend(v,{boxSizingReliable:function(){return r(),h},pixelBoxStyles:function(){return r(),d},pixelPosition:function(){return r(),o},reliableMarginLeft:function(){return r(),w},scrollboxSize:function(){return r(),u},reliableTrDimensions:function(){var N,D,O,U;return g==null&&(N=R.createElement("table"),D=R.createElement("tr"),O=R.createElement("div"),N.style.cssText="position:absolute;left:-11111px;border-collapse:separate",D.style.cssText="border:1px solid",D.style.height="1px",O.style.height="9px",O.style.display="block",li.appendChild(N).appendChild(D).appendChild(O),U=t.getComputedStyle(D),g=parseInt(U.height,10)+parseInt(U.borderTopWidth,10)+parseInt(U.borderBottomWidth,10)===D.offsetHeight,li.removeChild(N)),g}}))})();function Ui(r,n,o){var h,u,d,g,w=gn.test(n),x=r.style;return o=o||mr(r),o&&(g=o.getPropertyValue(n)||o[n],w&&g&&(g=g.replace(At,"$1")||void 0),g===""&&!xi(r)&&(g=l.style(r,n)),!v.pixelBoxStyles()&&pn.test(g)&&tl.test(n)&&(h=x.width,u=x.minWidth,d=x.maxWidth,x.minWidth=x.maxWidth=x.width=g,g=o.width,x.width=h,x.minWidth=u,x.maxWidth=d)),g!==void 0?g+"":g}function js(r,n){return{get:function(){if(r()){delete this.get;return}return(this.get=n).apply(this,arguments)}}}var Ds=["Webkit","Moz","ms"],Bs=R.createElement("div").style,zs={};function el(r){for(var n=r[0].toUpperCase()+r.slice(1),o=Ds.length;o--;)if(r=Ds[o]+n,r in Bs)return r}function _n(r){var n=l.cssProps[r]||zs[r];return n||(r in Bs?r:zs[r]=el(r)||r)}var il=/^(none|table(?!-c[ea]).+)/,rl={position:"absolute",visibility:"hidden",display:"block"},qs={letterSpacing:"0",fontWeight:"400"};function Hs(r,n,o){var h=qi.exec(n);return h?Math.max(0,h[2]-(o||0))+(h[3]||"px"):n}function mn(r,n,o,h,u,d){var g=n==="width"?1:0,w=0,x=0,C=0;if(o===(h?"border":"content"))return 0;for(;g<4;g+=2)o==="margin"&&(C+=l.css(r,o+Ge[g],!0,u)),h?(o==="content"&&(x-=l.css(r,"padding"+Ge[g],!0,u)),o!=="margin"&&(x-=l.css(r,"border"+Ge[g]+"Width",!0,u))):(x+=l.css(r,"padding"+Ge[g],!0,u),o!=="padding"?x+=l.css(r,"border"+Ge[g]+"Width",!0,u):w+=l.css(r,"border"+Ge[g]+"Width",!0,u));return!h&&d>=0&&(x+=Math.max(0,Math.ceil(r["offset"+n[0].toUpperCase()+n.slice(1)]-d-x-w-.5))||0),x+C}function Us(r,n,o){var h=mr(r),u=!v.boxSizingReliable()||o,d=u&&l.css(r,"boxSizing",!1,h)==="border-box",g=d,w=Ui(r,n,h),x="offset"+n[0].toUpperCase()+n.slice(1);if(pn.test(w)){if(!o)return w;w="auto"}return(!v.boxSizingReliable()&&d||!v.reliableTrDimensions()&&Y(r,"tr")||w==="auto"||!parseFloat(w)&&l.css(r,"display",!1,h)==="inline")&&r.getClientRects().length&&(d=l.css(r,"boxSizing",!1,h)==="border-box",g=x in r,g&&(w=r[x])),w=parseFloat(w)||0,w+mn(r,n,o||(d?"border":"content"),g,h,w)+"px"}l.extend({cssHooks:{opacity:{get:function(r,n){if(n){var o=Ui(r,"opacity");return o===""?"1":o}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(r,n,o,h){if(!(!r||r.nodeType===3||r.nodeType===8||!r.style)){var u,d,g,w=Le(n),x=gn.test(n),C=r.style;if(x||(n=_n(w)),g=l.cssHooks[n]||l.cssHooks[w],o!==void 0){if(d=typeof o,d==="string"&&(u=qi.exec(o))&&u[1]&&(o=Es(r,n,u),d="number"),o==null||o!==o)return;d==="number"&&!x&&(o+=u&&u[3]||(l.cssNumber[w]?"":"px")),!v.clearCloneStyle&&o===""&&n.indexOf("background")===0&&(C[n]="inherit"),(!g||!("set"in g)||(o=g.set(r,o,h))!==void 0)&&(x?C.setProperty(n,o):C[n]=o)}else return g&&"get"in g&&(u=g.get(r,!1,h))!==void 0?u:C[n]}},css:function(r,n,o,h){var u,d,g,w=Le(n),x=gn.test(n);return x||(n=_n(w)),g=l.cssHooks[n]||l.cssHooks[w],g&&"get"in g&&(u=g.get(r,!0,o)),u===void 0&&(u=Ui(r,n,h)),u==="normal"&&n in qs&&(u=qs[n]),o===""||o?(d=parseFloat(u),o===!0||isFinite(d)?d||0:u):u}}),l.each(["height","width"],function(r,n){l.cssHooks[n]={get:function(o,h,u){if(h)return il.test(l.css(o,"display"))&&(!o.getClientRects().length||!o.getBoundingClientRect().width)?Is(o,rl,function(){return Us(o,n,u)}):Us(o,n,u)},set:function(o,h,u){var d,g=mr(o),w=!v.scrollboxSize()&&g.position==="absolute",x=w||u,C=x&&l.css(o,"boxSizing",!1,g)==="border-box",N=u?mn(o,n,u,C,g):0;return C&&w&&(N-=Math.ceil(o["offset"+n[0].toUpperCase()+n.slice(1)]-parseFloat(g[n])-mn(o,n,"border",!1,g)-.5)),N&&(d=qi.exec(h))&&(d[3]||"px")!=="px"&&(o.style[n]=h,h=l.css(o,n)),Hs(o,h,N)}}}),l.cssHooks.marginLeft=js(v.reliableMarginLeft,function(r,n){if(n)return(parseFloat(Ui(r,"marginLeft"))||r.getBoundingClientRect().left-Is(r,{marginLeft:0},function(){return r.getBoundingClientRect().left}))+"px"}),l.each({margin:"",padding:"",border:"Width"},function(r,n){l.cssHooks[r+n]={expand:function(o){for(var h=0,u={},d=typeof o=="string"?o.split(" "):[o];h<4;h++)u[r+Ge[h]+n]=d[h]||d[h-2]||d[0];return u}},r!=="margin"&&(l.cssHooks[r+n].set=Hs)}),l.fn.extend({css:function(r,n){return Ye(this,function(o,h,u){var d,g,w={},x=0;if(Array.isArray(h)){for(d=mr(o),g=h.length;x<g;x++)w[h[x]]=l.css(o,h[x],!1,d);return w}return u!==void 0?l.style(o,h,u):l.css(o,h)},r,n,arguments.length>1)}});function ge(r,n,o,h,u){return new ge.prototype.init(r,n,o,h,u)}l.Tween=ge,ge.prototype={constructor:ge,init:function(r,n,o,h,u,d){this.elem=r,this.prop=o,this.easing=u||l.easing._default,this.options=n,this.start=this.now=this.cur(),this.end=h,this.unit=d||(l.cssNumber[o]?"":"px")},cur:function(){var r=ge.propHooks[this.prop];return r&&r.get?r.get(this):ge.propHooks._default.get(this)},run:function(r){var n,o=ge.propHooks[this.prop];return this.options.duration?this.pos=n=l.easing[this.easing](r,this.options.duration*r,0,1,this.options.duration):this.pos=n=r,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):ge.propHooks._default.set(this),this}},ge.prototype.init.prototype=ge.prototype,ge.propHooks={_default:{get:function(r){var n;return r.elem.nodeType!==1||r.elem[r.prop]!=null&&r.elem.style[r.prop]==null?r.elem[r.prop]:(n=l.css(r.elem,r.prop,""),!n||n==="auto"?0:n)},set:function(r){l.fx.step[r.prop]?l.fx.step[r.prop](r):r.elem.nodeType===1&&(l.cssHooks[r.prop]||r.elem.style[_n(r.prop)]!=null)?l.style(r.elem,r.prop,r.now+r.unit):r.elem[r.prop]=r.now}}},ge.propHooks.scrollTop=ge.propHooks.scrollLeft={set:function(r){r.elem.nodeType&&r.elem.parentNode&&(r.elem[r.prop]=r.now)}},l.easing={linear:function(r){return r},swing:function(r){return .5-Math.cos(r*Math.PI)/2},_default:"swing"},l.fx=ge.prototype.init,l.fx.step={};var Ai,yr,nl=/^(?:toggle|show|hide)$/,sl=/queueHooks$/;function yn(){yr&&(R.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(yn):t.setTimeout(yn,l.fx.interval),l.fx.tick())}function Ws(){return t.setTimeout(function(){Ai=void 0}),Ai=Date.now()}function br(r,n){var o,h=0,u={height:r};for(n=n?1:0;h<4;h+=2-n)o=Ge[h],u["margin"+o]=u["padding"+o]=r;return n&&(u.opacity=u.width=r),u}function Vs(r,n,o){for(var h,u=(Re.tweeners[n]||[]).concat(Re.tweeners["*"]),d=0,g=u.length;d<g;d++)if(h=u[d].call(o,n,r))return h}function al(r,n,o){var h,u,d,g,w,x,C,N,D="width"in n||"height"in n,O=this,U={},gt=r.style,Ct=r.nodeType&&gr(r),vt=at.get(r,"fxshow");o.queue||(g=l._queueHooks(r,"fx"),g.unqueued==null&&(g.unqueued=0,w=g.empty.fire,g.empty.fire=function(){g.unqueued||w()}),g.unqueued++,O.always(function(){O.always(function(){g.unqueued--,l.queue(r,"fx").length||g.empty.fire()})}));for(h in n)if(u=n[h],nl.test(u)){if(delete n[h],d=d||u==="toggle",u===(Ct?"hide":"show"))if(u==="show"&&vt&&vt[h]!==void 0)Ct=!0;else continue;U[h]=vt&&vt[h]||l.style(r,h)}if(x=!l.isEmptyObject(n),!(!x&&l.isEmptyObject(U))){D&&r.nodeType===1&&(o.overflow=[gt.overflow,gt.overflowX,gt.overflowY],C=vt&&vt.display,C==null&&(C=at.get(r,"display")),N=l.css(r,"display"),N==="none"&&(C?N=C:(wi([r],!0),C=r.style.display||C,N=l.css(r,"display"),wi([r]))),(N==="inline"||N==="inline-block"&&C!=null)&&l.css(r,"float")==="none"&&(x||(O.done(function(){gt.display=C}),C==null&&(N=gt.display,C=N==="none"?"":N)),gt.display="inline-block")),o.overflow&&(gt.overflow="hidden",O.always(function(){gt.overflow=o.overflow[0],gt.overflowX=o.overflow[1],gt.overflowY=o.overflow[2]})),x=!1;for(h in U)x||(vt?"hidden"in vt&&(Ct=vt.hidden):vt=at.access(r,"fxshow",{display:C}),d&&(vt.hidden=!Ct),Ct&&wi([r],!0),O.done(function(){Ct||wi([r]),at.remove(r,"fxshow");for(h in U)l.style(r,h,U[h])})),x=Vs(Ct?vt[h]:0,h,O),h in vt||(vt[h]=x.start,Ct&&(x.end=x.start,x.start=0))}}function ol(r,n){var o,h,u,d,g;for(o in r)if(h=Le(o),u=n[h],d=r[o],Array.isArray(d)&&(u=d[1],d=r[o]=d[0]),o!==h&&(r[h]=d,delete r[o]),g=l.cssHooks[h],g&&"expand"in g){d=g.expand(d),delete r[h];for(o in d)o in r||(r[o]=d[o],n[o]=u)}else n[h]=u}function Re(r,n,o){var h,u,d=0,g=Re.prefilters.length,w=l.Deferred().always(function(){delete x.elem}),x=function(){if(u)return!1;for(var D=Ai||Ws(),O=Math.max(0,C.startTime+C.duration-D),U=O/C.duration||0,gt=1-U,Ct=0,vt=C.tweens.length;Ct<vt;Ct++)C.tweens[Ct].run(gt);return w.notifyWith(r,[C,gt,O]),gt<1&&vt?O:(vt||w.notifyWith(r,[C,1,0]),w.resolveWith(r,[C]),!1)},C=w.promise({elem:r,props:l.extend({},n),opts:l.extend(!0,{specialEasing:{},easing:l.easing._default},o),originalProperties:n,originalOptions:o,startTime:Ai||Ws(),duration:o.duration,tweens:[],createTween:function(D,O){var U=l.Tween(r,C.opts,D,O,C.opts.specialEasing[D]||C.opts.easing);return C.tweens.push(U),U},stop:function(D){var O=0,U=D?C.tweens.length:0;if(u)return this;for(u=!0;O<U;O++)C.tweens[O].run(1);return D?(w.notifyWith(r,[C,1,0]),w.resolveWith(r,[C,D])):w.rejectWith(r,[C,D]),this}}),N=C.props;for(ol(N,C.opts.specialEasing);d<g;d++)if(h=Re.prefilters[d].call(C,r,N,C.opts),h)return T(h.stop)&&(l._queueHooks(C.elem,C.opts.queue).stop=h.stop.bind(h)),h;return l.map(N,Vs,C),T(C.opts.start)&&C.opts.start.call(r,C),C.progress(C.opts.progress).done(C.opts.done,C.opts.complete).fail(C.opts.fail).always(C.opts.always),l.fx.timer(l.extend(x,{elem:r,anim:C,queue:C.opts.queue})),C}l.Animation=l.extend(Re,{tweeners:{"*":[function(r,n){var o=this.createTween(r,n);return Es(o.elem,r,qi.exec(n),o),o}]},tweener:function(r,n){T(r)?(n=r,r=["*"]):r=r.match(Bt);for(var o,h=0,u=r.length;h<u;h++)o=r[h],Re.tweeners[o]=Re.tweeners[o]||[],Re.tweeners[o].unshift(n)},prefilters:[al],prefilter:function(r,n){n?Re.prefilters.unshift(r):Re.prefilters.push(r)}}),l.speed=function(r,n,o){var h=r&&typeof r=="object"?l.extend({},r):{complete:o||!o&&n||T(r)&&r,duration:r,easing:o&&n||n&&!T(n)&&n};return l.fx.off?h.duration=0:typeof h.duration!="number"&&(h.duration in l.fx.speeds?h.duration=l.fx.speeds[h.duration]:h.duration=l.fx.speeds._default),(h.queue==null||h.queue===!0)&&(h.queue="fx"),h.old=h.complete,h.complete=function(){T(h.old)&&h.old.call(this),h.queue&&l.dequeue(this,h.queue)},h},l.fn.extend({fadeTo:function(r,n,o,h){return this.filter(gr).css("opacity",0).show().end().animate({opacity:n},r,o,h)},animate:function(r,n,o,h){var u=l.isEmptyObject(r),d=l.speed(n,o,h),g=function(){var w=Re(this,l.extend({},r),d);(u||at.get(this,"finish"))&&w.stop(!0)};return g.finish=g,u||d.queue===!1?this.each(g):this.queue(d.queue,g)},stop:function(r,n,o){var h=function(u){var d=u.stop;delete u.stop,d(o)};return typeof r!="string"&&(o=n,n=r,r=void 0),n&&this.queue(r||"fx",[]),this.each(function(){var u=!0,d=r!=null&&r+"queueHooks",g=l.timers,w=at.get(this);if(d)w[d]&&w[d].stop&&h(w[d]);else for(d in w)w[d]&&w[d].stop&&sl.test(d)&&h(w[d]);for(d=g.length;d--;)g[d].elem===this&&(r==null||g[d].queue===r)&&(g[d].anim.stop(o),u=!1,g.splice(d,1));(u||!o)&&l.dequeue(this,r)})},finish:function(r){return r!==!1&&(r=r||"fx"),this.each(function(){var n,o=at.get(this),h=o[r+"queue"],u=o[r+"queueHooks"],d=l.timers,g=h?h.length:0;for(o.finish=!0,l.queue(this,r,[]),u&&u.stop&&u.stop.call(this,!0),n=d.length;n--;)d[n].elem===this&&d[n].queue===r&&(d[n].anim.stop(!0),d.splice(n,1));for(n=0;n<g;n++)h[n]&&h[n].finish&&h[n].finish.call(this);delete o.finish})}}),l.each(["toggle","show","hide"],function(r,n){var o=l.fn[n];l.fn[n]=function(h,u,d){return h==null||typeof h=="boolean"?o.apply(this,arguments):this.animate(br(n,!0),h,u,d)}}),l.each({slideDown:br("show"),slideUp:br("hide"),slideToggle:br("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(r,n){l.fn[r]=function(o,h,u){return this.animate(n,o,h,u)}}),l.timers=[],l.fx.tick=function(){var r,n=0,o=l.timers;for(Ai=Date.now();n<o.length;n++)r=o[n],!r()&&o[n]===r&&o.splice(n--,1);o.length||l.fx.stop(),Ai=void 0},l.fx.timer=function(r){l.timers.push(r),l.fx.start()},l.fx.interval=13,l.fx.start=function(){yr||(yr=!0,yn())},l.fx.stop=function(){yr=null},l.fx.speeds={slow:600,fast:200,_default:400},l.fn.delay=function(r,n){return r=l.fx&&l.fx.speeds[r]||r,n=n||"fx",this.queue(n,function(o,h){var u=t.setTimeout(o,r);h.stop=function(){t.clearTimeout(u)}})},function(){var r=R.createElement("input"),n=R.createElement("select"),o=n.appendChild(R.createElement("option"));r.type="checkbox",v.checkOn=r.value!=="",v.optSelected=o.selected,r=R.createElement("input"),r.value="t",r.type="radio",v.radioValue=r.value==="t"}();var $s,Wi=l.expr.attrHandle;l.fn.extend({attr:function(r,n){return Ye(this,l.attr,r,n,arguments.length>1)},removeAttr:function(r){return this.each(function(){l.removeAttr(this,r)})}}),l.extend({attr:function(r,n,o){var h,u,d=r.nodeType;if(!(d===3||d===8||d===2)){if(typeof r.getAttribute>"u")return l.prop(r,n,o);if((d!==1||!l.isXMLDoc(r))&&(u=l.attrHooks[n.toLowerCase()]||(l.expr.match.bool.test(n)?$s:void 0)),o!==void 0){if(o===null){l.removeAttr(r,n);return}return u&&"set"in u&&(h=u.set(r,o,n))!==void 0?h:(r.setAttribute(n,o+""),o)}return u&&"get"in u&&(h=u.get(r,n))!==null?h:(h=l.find.attr(r,n),h??void 0)}},attrHooks:{type:{set:function(r,n){if(!v.radioValue&&n==="radio"&&Y(r,"input")){var o=r.value;return r.setAttribute("type",n),o&&(r.value=o),n}}}},removeAttr:function(r,n){var o,h=0,u=n&&n.match(Bt);if(u&&r.nodeType===1)for(;o=u[h++];)r.removeAttribute(o)}}),$s={set:function(r,n,o){return n===!1?l.removeAttr(r,o):r.setAttribute(o,o),o}},l.each(l.expr.match.bool.source.match(/\w+/g),function(r,n){var o=Wi[n]||l.find.attr;Wi[n]=function(h,u,d){var g,w,x=u.toLowerCase();return d||(w=Wi[x],Wi[x]=g,g=o(h,u,d)!=null?x:null,Wi[x]=w),g}});var ll=/^(?:input|select|textarea|button)$/i,hl=/^(?:a|area)$/i;l.fn.extend({prop:function(r,n){return Ye(this,l.prop,r,n,arguments.length>1)},removeProp:function(r){return this.each(function(){delete this[l.propFix[r]||r]})}}),l.extend({prop:function(r,n,o){var h,u,d=r.nodeType;if(!(d===3||d===8||d===2))return(d!==1||!l.isXMLDoc(r))&&(n=l.propFix[n]||n,u=l.propHooks[n]),o!==void 0?u&&"set"in u&&(h=u.set(r,o,n))!==void 0?h:r[n]=o:u&&"get"in u&&(h=u.get(r,n))!==null?h:r[n]},propHooks:{tabIndex:{get:function(r){var n=l.find.attr(r,"tabindex");return n?parseInt(n,10):ll.test(r.nodeName)||hl.test(r.nodeName)&&r.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(l.propHooks.selected={get:function(r){var n=r.parentNode;return n&&n.parentNode&&n.parentNode.selectedIndex,null},set:function(r){var n=r.parentNode;n&&(n.selectedIndex,n.parentNode&&n.parentNode.selectedIndex)}}),l.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){l.propFix[this.toLowerCase()]=this});function hi(r){var n=r.match(Bt)||[];return n.join(" ")}function fi(r){return r.getAttribute&&r.getAttribute("class")||""}function bn(r){return Array.isArray(r)?r:typeof r=="string"?r.match(Bt)||[]:[]}l.fn.extend({addClass:function(r){var n,o,h,u,d,g;return T(r)?this.each(function(w){l(this).addClass(r.call(this,w,fi(this)))}):(n=bn(r),n.length?this.each(function(){if(h=fi(this),o=this.nodeType===1&&" "+hi(h)+" ",o){for(d=0;d<n.length;d++)u=n[d],o.indexOf(" "+u+" ")<0&&(o+=u+" ");g=hi(o),h!==g&&this.setAttribute("class",g)}}):this)},removeClass:function(r){var n,o,h,u,d,g;return T(r)?this.each(function(w){l(this).removeClass(r.call(this,w,fi(this)))}):arguments.length?(n=bn(r),n.length?this.each(function(){if(h=fi(this),o=this.nodeType===1&&" "+hi(h)+" ",o){for(d=0;d<n.length;d++)for(u=n[d];o.indexOf(" "+u+" ")>-1;)o=o.replace(" "+u+" "," ");g=hi(o),h!==g&&this.setAttribute("class",g)}}):this):this.attr("class","")},toggleClass:function(r,n){var o,h,u,d,g=typeof r,w=g==="string"||Array.isArray(r);return T(r)?this.each(function(x){l(this).toggleClass(r.call(this,x,fi(this),n),n)}):typeof n=="boolean"&&w?n?this.addClass(r):this.removeClass(r):(o=bn(r),this.each(function(){if(w)for(d=l(this),u=0;u<o.length;u++)h=o[u],d.hasClass(h)?d.removeClass(h):d.addClass(h);else(r===void 0||g==="boolean")&&(h=fi(this),h&&at.set(this,"__className__",h),this.setAttribute&&this.setAttribute("class",h||r===!1?"":at.get(this,"__className__")||""))}))},hasClass:function(r){var n,o,h=0;for(n=" "+r+" ";o=this[h++];)if(o.nodeType===1&&(" "+hi(fi(o))+" ").indexOf(n)>-1)return!0;return!1}});var fl=/\r/g;l.fn.extend({val:function(r){var n,o,h,u=this[0];return arguments.length?(h=T(r),this.each(function(d){var g;this.nodeType===1&&(h?g=r.call(this,d,l(this).val()):g=r,g==null?g="":typeof g=="number"?g+="":Array.isArray(g)&&(g=l.map(g,function(w){return w==null?"":w+""})),n=l.valHooks[this.type]||l.valHooks[this.nodeName.toLowerCase()],(!n||!("set"in n)||n.set(this,g,"value")===void 0)&&(this.value=g))})):u?(n=l.valHooks[u.type]||l.valHooks[u.nodeName.toLowerCase()],n&&"get"in n&&(o=n.get(u,"value"))!==void 0?o:(o=u.value,typeof o=="string"?o.replace(fl,""):o??"")):void 0}}),l.extend({valHooks:{option:{get:function(r){var n=l.find.attr(r,"value");return n??hi(l.text(r))}},select:{get:function(r){var n,o,h,u=r.options,d=r.selectedIndex,g=r.type==="select-one",w=g?null:[],x=g?d+1:u.length;for(d<0?h=x:h=g?d:0;h<x;h++)if(o=u[h],(o.selected||h===d)&&!o.disabled&&(!o.parentNode.disabled||!Y(o.parentNode,"optgroup"))){if(n=l(o).val(),g)return n;w.push(n)}return w},set:function(r,n){for(var o,h,u=r.options,d=l.makeArray(n),g=u.length;g--;)h=u[g],(h.selected=l.inArray(l.valHooks.option.get(h),d)>-1)&&(o=!0);return o||(r.selectedIndex=-1),d}}}}),l.each(["radio","checkbox"],function(){l.valHooks[this]={set:function(r,n){if(Array.isArray(n))return r.checked=l.inArray(l(r).val(),n)>-1}},v.checkOn||(l.valHooks[this].get=function(r){return r.getAttribute("value")===null?"on":r.value})});var Vi=t.location,Xs={guid:Date.now()},vn=/\?/;l.parseXML=function(r){var n,o;if(!r||typeof r!="string")return null;try{n=new t.DOMParser().parseFromString(r,"text/xml")}catch{}return o=n&&n.getElementsByTagName("parsererror")[0],(!n||o)&&l.error("Invalid XML: "+(o?l.map(o.childNodes,function(h){return h.textContent}).join(`
`):r)),n};var Ys=/^(?:focusinfocus|focusoutblur)$/,Gs=function(r){r.stopPropagation()};l.extend(l.event,{trigger:function(r,n,o,h){var u,d,g,w,x,C,N,D,O=[o||R],U=k.call(r,"type")?r.type:r,gt=k.call(r,"namespace")?r.namespace.split("."):[];if(d=D=g=o=o||R,!(o.nodeType===3||o.nodeType===8)&&!Ys.test(U+l.event.triggered)&&(U.indexOf(".")>-1&&(gt=U.split("."),U=gt.shift(),gt.sort()),x=U.indexOf(":")<0&&"on"+U,r=r[l.expando]?r:new l.Event(U,typeof r=="object"&&r),r.isTrigger=h?2:3,r.namespace=gt.join("."),r.rnamespace=r.namespace?new RegExp("(^|\\.)"+gt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,r.result=void 0,r.target||(r.target=o),n=n==null?[r]:l.makeArray(n,[r]),N=l.event.special[U]||{},!(!h&&N.trigger&&N.trigger.apply(o,n)===!1))){if(!h&&!N.noBubble&&!I(o)){for(w=N.delegateType||U,Ys.test(w+U)||(d=d.parentNode);d;d=d.parentNode)O.push(d),g=d;g===(o.ownerDocument||R)&&O.push(g.defaultView||g.parentWindow||t)}for(u=0;(d=O[u++])&&!r.isPropagationStopped();)D=d,r.type=u>1?w:N.bindType||U,C=(at.get(d,"events")||Object.create(null))[r.type]&&at.get(d,"handle"),C&&C.apply(d,n),C=x&&d[x],C&&C.apply&&Bi(d)&&(r.result=C.apply(d,n),r.result===!1&&r.preventDefault());return r.type=U,!h&&!r.isDefaultPrevented()&&(!N._default||N._default.apply(O.pop(),n)===!1)&&Bi(o)&&x&&T(o[U])&&!I(o)&&(g=o[x],g&&(o[x]=null),l.event.triggered=U,r.isPropagationStopped()&&D.addEventListener(U,Gs),o[U](),r.isPropagationStopped()&&D.removeEventListener(U,Gs),l.event.triggered=void 0,g&&(o[x]=g)),r.result}},simulate:function(r,n,o){var h=l.extend(new l.Event,o,{type:r,isSimulated:!0});l.event.trigger(h,null,n)}}),l.fn.extend({trigger:function(r,n){return this.each(function(){l.event.trigger(r,n,this)})},triggerHandler:function(r,n){var o=this[0];if(o)return l.event.trigger(r,n,o,!0)}});var cl=/\[\]$/,Ks=/\r?\n/g,ul=/^(?:submit|button|image|reset|file)$/i,dl=/^(?:input|select|textarea|keygen)/i;function xn(r,n,o,h){var u;if(Array.isArray(n))l.each(n,function(d,g){o||cl.test(r)?h(r,g):xn(r+"["+(typeof g=="object"&&g!=null?d:"")+"]",g,o,h)});else if(!o&&B(n)==="object")for(u in n)xn(r+"["+u+"]",n[u],o,h);else h(r,n)}l.param=function(r,n){var o,h=[],u=function(d,g){var w=T(g)?g():g;h[h.length]=encodeURIComponent(d)+"="+encodeURIComponent(w??"")};if(r==null)return"";if(Array.isArray(r)||r.jquery&&!l.isPlainObject(r))l.each(r,function(){u(this.name,this.value)});else for(o in r)xn(o,r[o],n,u);return h.join("&")},l.fn.extend({serialize:function(){return l.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var r=l.prop(this,"elements");return r?l.makeArray(r):this}).filter(function(){var r=this.type;return this.name&&!l(this).is(":disabled")&&dl.test(this.nodeName)&&!ul.test(r)&&(this.checked||!Hi.test(r))}).map(function(r,n){var o=l(this).val();return o==null?null:Array.isArray(o)?l.map(o,function(h){return{name:n.name,value:h.replace(Ks,`\r
`)}}):{name:n.name,value:o.replace(Ks,`\r
`)}}).get()}});var pl=/%20/g,gl=/#.*$/,_l=/([?&])_=[^&]*/,ml=/^(.*?):[ \t]*([^\r\n]*)$/mg,yl=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,bl=/^(?:GET|HEAD)$/,vl=/^\/\//,Qs={},wn={},Js="*/".concat("*"),kn=R.createElement("a");kn.href=Vi.href;function Zs(r){return function(n,o){typeof n!="string"&&(o=n,n="*");var h,u=0,d=n.toLowerCase().match(Bt)||[];if(T(o))for(;h=d[u++];)h[0]==="+"?(h=h.slice(1)||"*",(r[h]=r[h]||[]).unshift(o)):(r[h]=r[h]||[]).push(o)}}function ta(r,n,o,h){var u={},d=r===wn;function g(w){var x;return u[w]=!0,l.each(r[w]||[],function(C,N){var D=N(n,o,h);if(typeof D=="string"&&!d&&!u[D])return n.dataTypes.unshift(D),g(D),!1;if(d)return!(x=D)}),x}return g(n.dataTypes[0])||!u["*"]&&g("*")}function Tn(r,n){var o,h,u=l.ajaxSettings.flatOptions||{};for(o in n)n[o]!==void 0&&((u[o]?r:h||(h={}))[o]=n[o]);return h&&l.extend(!0,r,h),r}function xl(r,n,o){for(var h,u,d,g,w=r.contents,x=r.dataTypes;x[0]==="*";)x.shift(),h===void 0&&(h=r.mimeType||n.getResponseHeader("Content-Type"));if(h){for(u in w)if(w[u]&&w[u].test(h)){x.unshift(u);break}}if(x[0]in o)d=x[0];else{for(u in o){if(!x[0]||r.converters[u+" "+x[0]]){d=u;break}g||(g=u)}d=d||g}if(d)return d!==x[0]&&x.unshift(d),o[d]}function wl(r,n,o,h){var u,d,g,w,x,C={},N=r.dataTypes.slice();if(N[1])for(g in r.converters)C[g.toLowerCase()]=r.converters[g];for(d=N.shift();d;)if(r.responseFields[d]&&(o[r.responseFields[d]]=n),!x&&h&&r.dataFilter&&(n=r.dataFilter(n,r.dataType)),x=d,d=N.shift(),d){if(d==="*")d=x;else if(x!=="*"&&x!==d){if(g=C[x+" "+d]||C["* "+d],!g){for(u in C)if(w=u.split(" "),w[1]===d&&(g=C[x+" "+w[0]]||C["* "+w[0]],g)){g===!0?g=C[u]:C[u]!==!0&&(d=w[0],N.unshift(w[1]));break}}if(g!==!0)if(g&&r.throws)n=g(n);else try{n=g(n)}catch(D){return{state:"parsererror",error:g?D:"No conversion from "+x+" to "+d}}}}return{state:"success",data:n}}l.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Vi.href,type:"GET",isLocal:yl.test(Vi.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Js,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":l.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(r,n){return n?Tn(Tn(r,l.ajaxSettings),n):Tn(l.ajaxSettings,r)},ajaxPrefilter:Zs(Qs),ajaxTransport:Zs(wn),ajax:function(r,n){typeof r=="object"&&(n=r,r=void 0),n=n||{};var o,h,u,d,g,w,x,C,N,D,O=l.ajaxSetup({},n),U=O.context||O,gt=O.context&&(U.nodeType||U.jquery)?l(U):l.event,Ct=l.Deferred(),vt=l.Callbacks("once memory"),ne=O.statusCode||{},te={},Ne={},Ie="canceled",Tt={readyState:0,getResponseHeader:function(Rt){var Wt;if(x){if(!d)for(d={};Wt=ml.exec(u);)d[Wt[1].toLowerCase()+" "]=(d[Wt[1].toLowerCase()+" "]||[]).concat(Wt[2]);Wt=d[Rt.toLowerCase()+" "]}return Wt==null?null:Wt.join(", ")},getAllResponseHeaders:function(){return x?u:null},setRequestHeader:function(Rt,Wt){return x==null&&(Rt=Ne[Rt.toLowerCase()]=Ne[Rt.toLowerCase()]||Rt,te[Rt]=Wt),this},overrideMimeType:function(Rt){return x==null&&(O.mimeType=Rt),this},statusCode:function(Rt){var Wt;if(Rt)if(x)Tt.always(Rt[Tt.status]);else for(Wt in Rt)ne[Wt]=[ne[Wt],Rt[Wt]];return this},abort:function(Rt){var Wt=Rt||Ie;return o&&o.abort(Wt),ci(0,Wt),this}};if(Ct.promise(Tt),O.url=((r||O.url||Vi.href)+"").replace(vl,Vi.protocol+"//"),O.type=n.method||n.type||O.method||O.type,O.dataTypes=(O.dataType||"*").toLowerCase().match(Bt)||[""],O.crossDomain==null){w=R.createElement("a");try{w.href=O.url,w.href=w.href,O.crossDomain=kn.protocol+"//"+kn.host!=w.protocol+"//"+w.host}catch{O.crossDomain=!0}}if(O.data&&O.processData&&typeof O.data!="string"&&(O.data=l.param(O.data,O.traditional)),ta(Qs,O,n,Tt),x)return Tt;C=l.event&&O.global,C&&l.active++===0&&l.event.trigger("ajaxStart"),O.type=O.type.toUpperCase(),O.hasContent=!bl.test(O.type),h=O.url.replace(gl,""),O.hasContent?O.data&&O.processData&&(O.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(O.data=O.data.replace(pl,"+")):(D=O.url.slice(h.length),O.data&&(O.processData||typeof O.data=="string")&&(h+=(vn.test(h)?"&":"?")+O.data,delete O.data),O.cache===!1&&(h=h.replace(_l,"$1"),D=(vn.test(h)?"&":"?")+"_="+Xs.guid+++D),O.url=h+D),O.ifModified&&(l.lastModified[h]&&Tt.setRequestHeader("If-Modified-Since",l.lastModified[h]),l.etag[h]&&Tt.setRequestHeader("If-None-Match",l.etag[h])),(O.data&&O.hasContent&&O.contentType!==!1||n.contentType)&&Tt.setRequestHeader("Content-Type",O.contentType),Tt.setRequestHeader("Accept",O.dataTypes[0]&&O.accepts[O.dataTypes[0]]?O.accepts[O.dataTypes[0]]+(O.dataTypes[0]!=="*"?", "+Js+"; q=0.01":""):O.accepts["*"]);for(N in O.headers)Tt.setRequestHeader(N,O.headers[N]);if(O.beforeSend&&(O.beforeSend.call(U,Tt,O)===!1||x))return Tt.abort();if(Ie="abort",vt.add(O.complete),Tt.done(O.success),Tt.fail(O.error),o=ta(wn,O,n,Tt),!o)ci(-1,"No Transport");else{if(Tt.readyState=1,C&&gt.trigger("ajaxSend",[Tt,O]),x)return Tt;O.async&&O.timeout>0&&(g=t.setTimeout(function(){Tt.abort("timeout")},O.timeout));try{x=!1,o.send(te,ci)}catch(Rt){if(x)throw Rt;ci(-1,Rt)}}function ci(Rt,Wt,Xi,An){var je,Yi,De,ti,ei,Se=Wt;x||(x=!0,g&&t.clearTimeout(g),o=void 0,u=An||"",Tt.readyState=Rt>0?4:0,je=Rt>=200&&Rt<300||Rt===304,Xi&&(ti=xl(O,Tt,Xi)),!je&&l.inArray("script",O.dataTypes)>-1&&l.inArray("json",O.dataTypes)<0&&(O.converters["text script"]=function(){}),ti=wl(O,ti,Tt,je),je?(O.ifModified&&(ei=Tt.getResponseHeader("Last-Modified"),ei&&(l.lastModified[h]=ei),ei=Tt.getResponseHeader("etag"),ei&&(l.etag[h]=ei)),Rt===204||O.type==="HEAD"?Se="nocontent":Rt===304?Se="notmodified":(Se=ti.state,Yi=ti.data,De=ti.error,je=!De)):(De=Se,(Rt||!Se)&&(Se="error",Rt<0&&(Rt=0))),Tt.status=Rt,Tt.statusText=(Wt||Se)+"",je?Ct.resolveWith(U,[Yi,Se,Tt]):Ct.rejectWith(U,[Tt,Se,De]),Tt.statusCode(ne),ne=void 0,C&&gt.trigger(je?"ajaxSuccess":"ajaxError",[Tt,O,je?Yi:De]),vt.fireWith(U,[Tt,Se]),C&&(gt.trigger("ajaxComplete",[Tt,O]),--l.active||l.event.trigger("ajaxStop")))}return Tt},getJSON:function(r,n,o){return l.get(r,n,o,"json")},getScript:function(r,n){return l.get(r,void 0,n,"script")}}),l.each(["get","post"],function(r,n){l[n]=function(o,h,u,d){return T(h)&&(d=d||u,u=h,h=void 0),l.ajax(l.extend({url:o,type:n,dataType:d,data:h,success:u},l.isPlainObject(o)&&o))}}),l.ajaxPrefilter(function(r){var n;for(n in r.headers)n.toLowerCase()==="content-type"&&(r.contentType=r.headers[n]||"")}),l._evalUrl=function(r,n,o){return l.ajax({url:r,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(h){l.globalEval(h,n,o)}})},l.fn.extend({wrapAll:function(r){var n;return this[0]&&(T(r)&&(r=r.call(this[0])),n=l(r,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&n.insertBefore(this[0]),n.map(function(){for(var o=this;o.firstElementChild;)o=o.firstElementChild;return o}).append(this)),this},wrapInner:function(r){return T(r)?this.each(function(n){l(this).wrapInner(r.call(this,n))}):this.each(function(){var n=l(this),o=n.contents();o.length?o.wrapAll(r):n.append(r)})},wrap:function(r){var n=T(r);return this.each(function(o){l(this).wrapAll(n?r.call(this,o):r)})},unwrap:function(r){return this.parent(r).not("body").each(function(){l(this).replaceWith(this.childNodes)}),this}}),l.expr.pseudos.hidden=function(r){return!l.expr.pseudos.visible(r)},l.expr.pseudos.visible=function(r){return!!(r.offsetWidth||r.offsetHeight||r.getClientRects().length)},l.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var kl={0:200,1223:204},$i=l.ajaxSettings.xhr();v.cors=!!$i&&"withCredentials"in $i,v.ajax=$i=!!$i,l.ajaxTransport(function(r){var n,o;if(v.cors||$i&&!r.crossDomain)return{send:function(h,u){var d,g=r.xhr();if(g.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(d in r.xhrFields)g[d]=r.xhrFields[d];r.mimeType&&g.overrideMimeType&&g.overrideMimeType(r.mimeType),!r.crossDomain&&!h["X-Requested-With"]&&(h["X-Requested-With"]="XMLHttpRequest");for(d in h)g.setRequestHeader(d,h[d]);n=function(w){return function(){n&&(n=o=g.onload=g.onerror=g.onabort=g.ontimeout=g.onreadystatechange=null,w==="abort"?g.abort():w==="error"?typeof g.status!="number"?u(0,"error"):u(g.status,g.statusText):u(kl[g.status]||g.status,g.statusText,(g.responseType||"text")!=="text"||typeof g.responseText!="string"?{binary:g.response}:{text:g.responseText},g.getAllResponseHeaders()))}},g.onload=n(),o=g.onerror=g.ontimeout=n("error"),g.onabort!==void 0?g.onabort=o:g.onreadystatechange=function(){g.readyState===4&&t.setTimeout(function(){n&&o()})},n=n("abort");try{g.send(r.hasContent&&r.data||null)}catch(w){if(n)throw w}},abort:function(){n&&n()}}}),l.ajaxPrefilter(function(r){r.crossDomain&&(r.contents.script=!1)}),l.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(r){return l.globalEval(r),r}}}),l.ajaxPrefilter("script",function(r){r.cache===void 0&&(r.cache=!1),r.crossDomain&&(r.type="GET")}),l.ajaxTransport("script",function(r){if(r.crossDomain||r.scriptAttrs){var n,o;return{send:function(h,u){n=l("<script>").attr(r.scriptAttrs||{}).prop({charset:r.scriptCharset,src:r.url}).on("load error",o=function(d){n.remove(),o=null,d&&u(d.type==="error"?404:200,d.type)}),R.head.appendChild(n[0])},abort:function(){o&&o()}}}});var ea=[],Sn=/(=)\?(?=&|$)|\?\?/;l.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var r=ea.pop()||l.expando+"_"+Xs.guid++;return this[r]=!0,r}}),l.ajaxPrefilter("json jsonp",function(r,n,o){var h,u,d,g=r.jsonp!==!1&&(Sn.test(r.url)?"url":typeof r.data=="string"&&(r.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Sn.test(r.data)&&"data");if(g||r.dataTypes[0]==="jsonp")return h=r.jsonpCallback=T(r.jsonpCallback)?r.jsonpCallback():r.jsonpCallback,g?r[g]=r[g].replace(Sn,"$1"+h):r.jsonp!==!1&&(r.url+=(vn.test(r.url)?"&":"?")+r.jsonp+"="+h),r.converters["script json"]=function(){return d||l.error(h+" was not called"),d[0]},r.dataTypes[0]="json",u=t[h],t[h]=function(){d=arguments},o.always(function(){u===void 0?l(t).removeProp(h):t[h]=u,r[h]&&(r.jsonpCallback=n.jsonpCallback,ea.push(h)),d&&T(u)&&u(d[0]),d=u=void 0}),"script"}),v.createHTMLDocument=function(){var r=R.implementation.createHTMLDocument("").body;return r.innerHTML="<form></form><form></form>",r.childNodes.length===2}(),l.parseHTML=function(r,n,o){if(typeof r!="string")return[];typeof n=="boolean"&&(o=n,n=!1);var h,u,d;return n||(v.createHTMLDocument?(n=R.implementation.createHTMLDocument(""),h=n.createElement("base"),h.href=R.location.href,n.head.appendChild(h)):n=R),u=rt.exec(r),d=!o&&[],u?[n.createElement(u[1])]:(u=Fs([r],n,d),d&&d.length&&l(d).remove(),l.merge([],u.childNodes))},l.fn.load=function(r,n,o){var h,u,d,g=this,w=r.indexOf(" ");return w>-1&&(h=hi(r.slice(w)),r=r.slice(0,w)),T(n)?(o=n,n=void 0):n&&typeof n=="object"&&(u="POST"),g.length>0&&l.ajax({url:r,type:u||"GET",dataType:"html",data:n}).done(function(x){d=arguments,g.html(h?l("<div>").append(l.parseHTML(x)).find(h):x)}).always(o&&function(x,C){g.each(function(){o.apply(this,d||[x.responseText,C,x])})}),this},l.expr.pseudos.animated=function(r){return l.grep(l.timers,function(n){return r===n.elem}).length},l.offset={setOffset:function(r,n,o){var h,u,d,g,w,x,C,N=l.css(r,"position"),D=l(r),O={};N==="static"&&(r.style.position="relative"),w=D.offset(),d=l.css(r,"top"),x=l.css(r,"left"),C=(N==="absolute"||N==="fixed")&&(d+x).indexOf("auto")>-1,C?(h=D.position(),g=h.top,u=h.left):(g=parseFloat(d)||0,u=parseFloat(x)||0),T(n)&&(n=n.call(r,o,l.extend({},w))),n.top!=null&&(O.top=n.top-w.top+g),n.left!=null&&(O.left=n.left-w.left+u),"using"in n?n.using.call(r,O):D.css(O)}},l.fn.extend({offset:function(r){if(arguments.length)return r===void 0?this:this.each(function(u){l.offset.setOffset(this,r,u)});var n,o,h=this[0];if(!!h)return h.getClientRects().length?(n=h.getBoundingClientRect(),o=h.ownerDocument.defaultView,{top:n.top+o.pageYOffset,left:n.left+o.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var r,n,o,h=this[0],u={top:0,left:0};if(l.css(h,"position")==="fixed")n=h.getBoundingClientRect();else{for(n=this.offset(),o=h.ownerDocument,r=h.offsetParent||o.documentElement;r&&(r===o.body||r===o.documentElement)&&l.css(r,"position")==="static";)r=r.parentNode;r&&r!==h&&r.nodeType===1&&(u=l(r).offset(),u.top+=l.css(r,"borderTopWidth",!0),u.left+=l.css(r,"borderLeftWidth",!0))}return{top:n.top-u.top-l.css(h,"marginTop",!0),left:n.left-u.left-l.css(h,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var r=this.offsetParent;r&&l.css(r,"position")==="static";)r=r.offsetParent;return r||li})}}),l.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(r,n){var o=n==="pageYOffset";l.fn[r]=function(h){return Ye(this,function(u,d,g){var w;if(I(u)?w=u:u.nodeType===9&&(w=u.defaultView),g===void 0)return w?w[n]:u[d];w?w.scrollTo(o?w.pageXOffset:g,o?g:w.pageYOffset):u[d]=g},r,h,arguments.length)}}),l.each(["top","left"],function(r,n){l.cssHooks[n]=js(v.pixelPosition,function(o,h){if(h)return h=Ui(o,n),pn.test(h)?l(o).position()[n]+"px":h})}),l.each({Height:"height",Width:"width"},function(r,n){l.each({padding:"inner"+r,content:n,"":"outer"+r},function(o,h){l.fn[h]=function(u,d){var g=arguments.length&&(o||typeof u!="boolean"),w=o||(u===!0||d===!0?"margin":"border");return Ye(this,function(x,C,N){var D;return I(x)?h.indexOf("outer")===0?x["inner"+r]:x.document.documentElement["client"+r]:x.nodeType===9?(D=x.documentElement,Math.max(x.body["scroll"+r],D["scroll"+r],x.body["offset"+r],D["offset"+r],D["client"+r])):N===void 0?l.css(x,C,w):l.style(x,C,N,w)},n,g?u:void 0,g)}})}),l.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(r,n){l.fn[n]=function(o){return this.on(n,o)}}),l.fn.extend({bind:function(r,n,o){return this.on(r,null,n,o)},unbind:function(r,n){return this.off(r,null,n)},delegate:function(r,n,o,h){return this.on(n,r,o,h)},undelegate:function(r,n,o){return arguments.length===1?this.off(r,"**"):this.off(n,r||"**",o)},hover:function(r,n){return this.mouseenter(r).mouseleave(n||r)}}),l.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(r,n){l.fn[n]=function(o,h){return arguments.length>0?this.on(n,null,o,h):this.trigger(n)}});var Tl=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;l.proxy=function(r,n){var o,h,u;if(typeof n=="string"&&(o=r[n],n=r,r=o),!!T(r))return h=a.call(arguments,2),u=function(){return r.apply(n||this,h.concat(a.call(arguments)))},u.guid=r.guid=r.guid||l.guid++,u},l.holdReady=function(r){r?l.readyWait++:l.ready(!0)},l.isArray=Array.isArray,l.parseJSON=JSON.parse,l.nodeName=Y,l.isFunction=T,l.isWindow=I,l.camelCase=Le,l.type=B,l.now=Date.now,l.isNumeric=function(r){var n=l.type(r);return(n==="number"||n==="string")&&!isNaN(r-parseFloat(r))},l.trim=function(r){return r==null?"":(r+"").replace(Tl,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return l});var Sl=t.jQuery,Al=t.$;return l.noConflict=function(r){return t.$===l&&(t.$=Al),r&&t.jQuery===l&&(t.jQuery=Sl),l},typeof e>"u"&&(t.jQuery=t.$=l),l})});var ue=sa(Nn());function In(t,e){return Array.prototype.forEach.call(t,e)}function Gi(t,e,i){return Math.min(Math.max(t,e),i)}function oe(t){return[...Array(t).keys()]}function Ar(t){if(arguments.length<2)return t;for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)typeof t[s]>"u"&&(t[s]=i[s])}return t}function jn(t,e){var i;return function(){i&&clearTimeout(i);var s=this,a=arguments;i=setTimeout(function(){i=null,t.apply(s,a)},e)}}function la(t){let e=!1;return function(){e||(t.apply(this,arguments),e=!0)}}function ha(t,e){let i=0;return function(){i++<=t-1&&e.apply(this,arguments)}}var Wa=Object.defineProperty,Hl=(t,e,i)=>e in t?Wa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Va=(t,e)=>{for(var i in e)Wa(t,i,{get:e[i],enumerable:!0})},m=(t,e,i)=>(Hl(t,typeof e!="symbol"?e+"":e,i),i),W={move:"M",line:"L",curve:"C",arc:"A",close:"Z"},$a={};Va($a,{HALF_PI:()=>ee,NumArray:()=>Ue,TWO_PI:()=>le,decomposeMatrix:()=>Oi,getComputedMatrix:()=>Ga,getPoT:()=>Ka,lerp:()=>me,mod:()=>xe,setMatrix:()=>Ya,toFixed:()=>Vt});var Ut;typeof window<"u"?Ut=window:typeof global<"u"?Ut=global:typeof self<"u"&&(Ut=self);var Xa,le=Math.PI*2,ee=Math.PI*.5;function Oi(t,e,i,s,a,c){let f;return arguments.length<=1?(f=t.a,e=t.b,i=t.c,s=t.d,a=t.e,c=t.f):f=t,{translateX:a,translateY:c,scaleX:Math.sqrt(f*f+e*e),scaleY:Math.sqrt(i*i+s*s),rotation:180*Math.atan2(e,f)/Math.PI}}function Ya(t){Xa=t}function Ga(t,e){e=e&&e.identity()||new Xa;let i=t,s=[];for(;i&&i._matrix;)s.push(i._matrix),i=i.parent;s.reverse();for(let a=0;a<s.length;a++){let f=s[a].elements;e.multiply(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9])}return e}function me(t,e,i){return i*(e-t)+t}var Dn=[2,4,8,16,32,64,128,256,512,1024,2048,4096];function Ka(t){let e=0;for(;Dn[e]&&Dn[e]<t;)e++;return Dn[e]}function xe(t,e){for(;t<0;)t+=e;return t%e}var Ue=Ut.Float32Array||Array,Ul=Math.floor;function Vt(t){return Ul(t*1e6)/1e6}var Qa={};Va(Qa,{Curve:()=>Pi,getAnchorsFromArcData:()=>Vl,getComponentOnCubicBezier:()=>Zi,getControlPoints:()=>io,getCurveBoundingBox:()=>Za,getCurveFromPoints:()=>eo,getCurveLength:()=>Ja,getReflection:()=>Vn,integrate:()=>to,subdivide:()=>Qn});var z=class{constructor(){m(this,"_events",{}),m(this,"_bound",!1)}addEventListener(t,e){return(this._events[t]||(this._events[t]=[])).push(e),this._bound=!0,this}on(){return this.addEventListener.apply(this,arguments)}bind(){return this.addEventListener.apply(this,arguments)}removeEventListener(t,e){if(!this._events)return this;if(!t&&!e)return this._events={},this._bound=!1,this;let i=t?[t]:Object.keys(this._events);for(let s=0,a=i.length;s<a;s++){t=i[s];let c=this._events[t];if(c){let f=[];if(e)for(let p=0,y=c.length;p<y;p++){let _=c[p];_=_.handler?_.handler:_,e!==_&&f.push(_)}this._events[t]=f}}return this}off(){return this.removeEventListener.apply(this,arguments)}unbind(){return this.removeEventListener.apply(this,arguments)}dispatchEvent(t){if(!this._events)return this;let e=Array.prototype.slice.call(arguments,1),i=this._events[t];if(i)for(let s=0;s<i.length;s++)i[s].call(this,...e);return this}trigger(){return this.dispatchEvent.apply(this,arguments)}listen(t,e,i){let s=this;t&&(a.obj=t,a.name=e,a.handler=i,t.on(e,a));function a(){i.apply(s,arguments)}return s}ignore(t,e,i){return t.off(e,i),this}};m(z,"Types",{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"});m(z,"Methods",["addEventListener","on","removeEventListener","off","unbind","dispatchEvent","trigger","listen","ignore"]);var fa={x:{enumerable:!0,get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this._bound&&this.dispatchEvent(z.Types.change))}},y:{enumerable:!0,get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this._bound&&this.dispatchEvent(z.Types.change))}}},Pe=class extends z{constructor(t=0,e=0){super(),m(this,"_x",0),m(this,"_y",0);for(let i in fa)Object.defineProperty(this,i,fa[i]);this.x=t,this.y=e}static add(t,e){return new Pe(t.x+e.x,t.y+e.y)}static sub(t,e){return new Pe(t.x-e.x,t.y-e.y)}static subtract(t,e){return Pe.sub(t,e)}static ratioBetween(t,e){return(t.x*e.x+t.y*e.y)/(t.length()*e.length())}static angleBetween(t,e){if(arguments.length>=4){let a=arguments[0]-arguments[2],c=arguments[1]-arguments[3];return Math.atan2(c,a)}let i=t.x-e.x,s=t.y-e.y;return Math.atan2(s,i)}static distanceBetween(t,e){return Math.sqrt(Pe.distanceBetweenSquared(t,e))}static distanceBetweenSquared(t,e){let i=t.x-e.x,s=t.y-e.y;return i*i+s*s}set(t,e){return this.x=t,this.y=e,this}copy(t){return this.x=t.x,this.y=t.y,this}clear(){return this.x=0,this.y=0,this}clone(){return new Pe(this.x,this.y)}add(t,e){return arguments.length<=0?this:(arguments.length<=1?typeof t=="number"?(this.x+=t,this.y+=t):t&&typeof t.x=="number"&&typeof t.y=="number"&&(this.x+=t.x,this.y+=t.y):(this.x+=t,this.y+=e),this)}addSelf(t){return this.add.apply(this,arguments)}sub(t,e){return arguments.length<=0?this:(arguments.length<=1?typeof t=="number"?(this.x-=t,this.y-=t):t&&typeof t.x=="number"&&typeof t.y=="number"&&(this.x-=t.x,this.y-=t.y):(this.x-=t,this.y-=e),this)}subtract(){return this.sub.apply(this,arguments)}subSelf(t){return this.sub.apply(this,arguments)}subtractSelf(t){return this.sub.apply(this,arguments)}multiply(t,e){return arguments.length<=0?this:(arguments.length<=1?typeof t=="number"?(this.x*=t,this.y*=t):t&&typeof t.x=="number"&&typeof t.y=="number"&&(this.x*=t.x,this.y*=t.y):(this.x*=t,this.y*=e),this)}multiplySelf(t){return this.multiply.apply(this,arguments)}multiplyScalar(t){return this.multiply(t)}divide(t,e){return arguments.length<=0?this:(arguments.length<=1?typeof t=="number"?(this.x/=t,this.y/=t):t&&typeof t.x=="number"&&typeof t.y=="number"&&(this.x/=t.x,this.y/=t.y):(this.x/=t,this.y/=e),isNaN(this.x)&&(this.x=0),isNaN(this.y)&&(this.y=0),this)}divideSelf(t){return this.divide.apply(this,arguments)}divideScalar(t){return this.divide(t)}negate(){return this.multiply(-1)}dot(t){return this.x*t.x+this.y*t.y}length(){return Math.sqrt(this.lengthSquared())}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){return this.divideScalar(this.length())}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let e=this.x-t.x,i=this.y-t.y;return e*e+i*i}setLength(t){return this.normalize().multiplyScalar(t)}equals(t,e){return e=typeof e>"u"?1e-4:e,this.distanceTo(t)<e}lerp(t,e){let i=(t.x-this.x)*e+this.x,s=(t.y-this.y)*e+this.y;return this.set(i,s)}isZero(t){return t=typeof t>"u"?1e-4:t,this.length()<t}toString(){return this.x+", "+this.y}toObject(){return{x:this.x,y:this.y}}rotate(t){let e=this.x,i=this.y,s=Math.cos(t),a=Math.sin(t);return this.x=e*s-i*a,this.y=e*a+i*s,this}},X=Pe;m(X,"zero",new Pe);m(X,"left",new Pe(-1,0));m(X,"right",new Pe(1,0));m(X,"up",new Pe(0,-1));m(X,"down",new Pe(0,1));var xt=class extends X{constructor(t=0,e=0,i=0,s=0,a=0,c=0,f=W.move){super(t,e),m(this,"controls",{left:new X,right:new X}),m(this,"_command",W.move),m(this,"_relative",!0),m(this,"_rx",0),m(this,"_ry",0),m(this,"_xAxisRotation",0),m(this,"_largeArcFlag",0),m(this,"_sweepFlag",1);for(let y in ca)Object.defineProperty(this,y,ca[y]);this.command=f,this.relative=!0;let p=xt.makeBroadcast(this);this.controls.left.set(i,s).addEventListener(z.Types.change,p),this.controls.right.set(a,c).addEventListener(z.Types.change,p)}static makeBroadcast(t){return e;function e(){t._bound&&t.dispatchEvent(z.Types.change)}}copy(t){return this.x=t.x,this.y=t.y,typeof t.command=="string"&&(this.command=t.command),t.controls&&(t.controls.left&&this.controls.left.copy(t.controls.left),t.controls.right&&this.controls.right.copy(t.controls.right)),typeof t.relative=="boolean"&&(this.relative=t.relative),typeof t.rx=="number"&&(this.rx=t.rx),typeof t.ry=="number"&&(this.ry=t.ry),typeof t.xAxisRotation=="number"&&(this.xAxisRotation=t.xAxisRotation),typeof t.largeArcFlag=="number"&&(this.largeArcFlag=t.largeArcFlag),typeof t.sweepFlag=="number"&&(this.sweepFlag=t.sweepFlag),this}clone(){return new xt().copy(this)}toObject(){return{x:this.x,y:this.y,command:this.command,relative:this.relative,controls:{left:this.controls.left.toObject(),right:this.controls.right.toObject()},rx:this.rx,ry:this.ry,xAxisRotation:this.xAxisRotation,largeArcFlag:this.largeArcFlag,sweepFlag:this.sweepFlag}}toString(){return JSON.stringify(this.toObject())}},ca={command:{enumerable:!0,get:function(){return this._command},set:function(t){this._command!==t&&(this._command=t,this._bound&&this.dispatchEvent(z.Types.change))}},relative:{enumerable:!0,get:function(){return this._relative},set:function(t){this._relative!==!!t&&(this._relative=!!t,this._bound&&this.dispatchEvent(z.Types.change))}},rx:{enumerable:!0,get:function(){return this._rx},set:function(t){this._rx!==t&&(this._rx=t,this._bound&&this.dispatchEvent(z.Types.change))}},ry:{enumerable:!0,get:function(){return this._ry},set:function(t){this._ry!==t&&(this._ry=t,this._bound&&this.dispatchEvent(z.Types.change))}},xAxisRotation:{enumerable:!0,get:function(){return this._xAxisRotation},set:function(t){this._xAxisRotation!==t&&(this._xAxisRotation=t,this._bound&&this.dispatchEvent(z.Types.change))}},largeArcFlag:{enumerable:!0,get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag!==t&&(this._largeArcFlag=t,this._bound&&this.dispatchEvent(z.Types.change))}},sweepFlag:{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag!==t&&(this._sweepFlag=t,this._bound&&this.dispatchEvent(z.Types.change))}}},Wl=0,Jt={nextFrameID:null,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.8.11",PublishDate:"2023-08-07T18:08:18.689Z",Identifier:"two-",Resolution:12,AutoCalculateImportedMatrices:!0,Instances:[],uniqueId:function(){return Wl++}},Pi={CollinearityEpsilon:Math.pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]};function Zi(t,e,i,s,a){let c=1-t;return c*c*c*e+3*c*c*t*i+3*c*t*t*s+t*t*t*a}function Qn(t,e,i,s,a,c,f,p,y){y=y||Pi.RecursionLimit;let _=y+1;if(Math.abs(t-f)<.001&&Math.abs(e-p)<.001)return[new xt(f,p)];let k=[];for(let S=0;S<_;S++){let A=S/_,v=Zi(A,t,i,a,f),T=Zi(A,e,s,c,p);k.push(new xt(v,T))}return k}function Ja(t,e,i,s,a,c,f,p,y){if(t===i&&e===s&&a===f&&c===p){let R=f-t,M=p-e;return Math.sqrt(R*R+M*M)}let _=9*(i-a)+3*(f-t),k=6*(t+a)-12*i,S=3*(i-t),A=9*(s-c)+3*(p-e),v=6*(e+c)-12*s,T=3*(s-e);function I(R){let M=(_*R+k)*R+S,P=(A*R+v)*R+T;return Math.sqrt(M*M+P*P)}return to(I,0,1,y||Pi.RecursionLimit)}function Za(t,e,i,s,a,c,f,p){let y=[],_=[[],[]],k,S,A,v,T,I,R,M;for(let q=0;q<2;++q){if(q==0?(S=6*t-12*i+6*a,k=-3*t+9*i-9*a+3*f,A=3*i-3*t):(S=6*e-12*s+6*c,k=-3*e+9*s-9*c+3*p,A=3*s-3*e),Math.abs(k)<1e-12){if(Math.abs(S)<1e-12)continue;v=-A/S,0<v&&v<1&&y.push(v);continue}R=S*S-4*A*k,M=Math.sqrt(R),!(R<0)&&(T=(-S+M)/(2*k),0<T&&T<1&&y.push(T),I=(-S-M)/(2*k),0<I&&I<1&&y.push(I))}let P=y.length,B=P,H;for(;P--;)v=y[P],H=1-v,_[0][P]=H*H*H*t+3*H*H*v*i+3*H*v*v*a+v*v*v*f,_[1][P]=H*H*H*e+3*H*H*v*s+3*H*v*v*c+v*v*v*p;return _[0][B]=t,_[1][B]=e,_[0][B+1]=f,_[1][B+1]=p,_[0].length=_[1].length=B+2,{min:{x:Math.min.apply(0,_[0]),y:Math.min.apply(0,_[1])},max:{x:Math.max.apply(0,_[0]),y:Math.max.apply(0,_[1])}}}function to(t,e,i,s){let a=Pi.abscissas[s-2],c=Pi.weights[s-2],f=.5*(i-e),p=f+e,y=0,_=s+1>>1,k=s&1?c[y++]*t(p):0;for(;y<_;){let S=f*a[y];k+=c[y++]*(t(p+S)+t(p-S))}return f*k}function eo(t,e){let i=t.length,s=i-1;for(let a=0;a<i;a++){let c=t[a],f=e?xe(a-1,i):Math.max(a-1,0),p=e?xe(a+1,i):Math.min(a+1,s),y=t[f],_=c,k=t[p];io(y,_,k),_.command=a===0?W.move:W.curve}}function io(t,e,i){let s=X.angleBetween(t,e),a=X.angleBetween(i,e),c=X.distanceBetween(t,e),f=X.distanceBetween(i,e),p=(s+a)/2;return c<1e-4||f<1e-4?(typeof e.relative=="boolean"&&!e.relative&&(e.controls.left.copy(e),e.controls.right.copy(e)),e):(c*=.33,f*=.33,a<s?p+=ee:p-=ee,e.controls.left.x=Math.cos(p)*c,e.controls.left.y=Math.sin(p)*c,p-=Math.PI,e.controls.right.x=Math.cos(p)*f,e.controls.right.y=Math.sin(p)*f,typeof e.relative=="boolean"&&!e.relative&&(e.controls.left.x+=e.x,e.controls.left.y+=e.y,e.controls.right.x+=e.x,e.controls.right.y+=e.y),e)}function Vn(t,e,i){return new X(2*t.x-(e.x+t.x)-(i?t.x:0),2*t.y-(e.y+t.y)-(i?t.y:0))}function Vl(t,e,i,s,a,c,f){let p=Jt.Resolution,y=[];for(let _=0;_<p;_++){let k=(_+1)/p;f&&(k=1-k);let S=k*c+a,A=i*Math.cos(S),v=s*Math.sin(S),T=new xt(A,v);T.command=W.line,y.push(T)}}var $l=Ut.devicePixelRatio||1;function Xl(t){return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1}function Jn(t){return $l/Xl(t)}var ua=Array.prototype.slice;function Yl(t){if(t==null)return!1;let e=t.length;return typeof e=="number"&&e>=0&&e<4294967296}var it={isNaN:function(t){return typeof t=="number"&&t!==+t},isElement:function(t){return!!(t&&t.nodeType===1)},isObject:function(t){let e=typeof t;return e==="function"||e==="object"&&!!t},extend:function(t){let e=ua.call(arguments,1);for(let i=0;i<e.length;i++){let s=e[i];for(let a in s)t[a]=s[a]}return t},defaults:function(t){let e=ua.call(arguments,1);for(let i=0;i<e.length;i++){let s=e[i];for(let a in s)t[a]===void 0&&(t[a]=s[a])}return t},each:function(t,e,i){let s=i||this,a=!Yl(t)&&Object.keys(t),c=(a||t).length;for(let f=0;f<c;f++){let p=a?a[f]:f;e.call(s,t[p],p,t)}return t},performance:Ut.performance&&Ut.performance.now?Ut.performance:Date},Vr=class extends z{constructor(){super(),m(this,"_flagId",!1),m(this,"_flagClassName",!1),m(this,"_renderer",{}),m(this,"_id",""),m(this,"_className",""),m(this,"classList",[]);for(let t in da)Object.defineProperty(this,t,da[t])}flagReset(){this._flagId=this._flagClassName=!1}},da={renderer:{enumerable:!1,get:function(){return this._renderer}},id:{enumerable:!0,get:function(){return this._id},set:function(t){let e=this._id;t!==this._id&&(this._id=t,this._flagId=!0,this.parent&&(delete this.parent.children.ids[e],this.parent.children.ids[this._id]=this))}},className:{enumerable:!0,get:function(){return this._className},set:function(t){this._className!==t&&(this._flagClassName=!0,this.classList=t.split(/\s+?/),this._className=t)}}},Gl=Math.cos,Kl=Math.sin,pa=Math.tan,Bn=[],Me=class extends z{constructor(t,e,i,s,a,c){super(),m(this,"elements",new Ue(9)),m(this,"manual",!1);let f=t;Array.isArray(f)||(f=Array.prototype.slice.call(arguments)),this.identity(),f.length>0&&this.set(f)}static Multiply(t,e,i){if(e.length<=3){let q=t,l,$,Y,K=e[0]||0,Q=e[1]||0,ht=e[2]||0;return l=q[0]*K+q[1]*Q+q[2]*ht,$=q[3]*K+q[4]*Q+q[5]*ht,Y=q[6]*K+q[7]*Q+q[8]*ht,[l,$,Y]}let s=t[0],a=t[1],c=t[2],f=t[3],p=t[4],y=t[5],_=t[6],k=t[7],S=t[8],A=e[0],v=e[1],T=e[2],I=e[3],R=e[4],M=e[5],P=e[6],B=e[7],H=e[8];return i=i||new Ue(9),i[0]=s*A+a*I+c*P,i[1]=s*v+a*R+c*B,i[2]=s*T+a*M+c*H,i[3]=f*A+p*I+y*P,i[4]=f*v+p*R+y*B,i[5]=f*T+p*M+y*H,i[6]=_*A+k*I+S*P,i[7]=_*v+k*R+S*B,i[8]=_*T+k*M+S*H,i}set(t,e,i,s,a,c,f,p,y){if(typeof e>"u"){let _=t;t=_[0],e=_[1],i=_[2],s=_[3],a=_[4],c=_[5],f=_[6],p=_[7],y=_[8]}return this.elements[0]=t,this.elements[1]=e,this.elements[2]=i,this.elements[3]=s,this.elements[4]=a,this.elements[5]=c,this.elements[6]=f,this.elements[7]=p,this.elements[8]=y,this.trigger(z.Types.change)}copy(t){return this.elements[0]=t.elements[0],this.elements[1]=t.elements[1],this.elements[2]=t.elements[2],this.elements[3]=t.elements[3],this.elements[4]=t.elements[4],this.elements[5]=t.elements[5],this.elements[6]=t.elements[6],this.elements[7]=t.elements[7],this.elements[8]=t.elements[8],this.manual=t.manual,this.trigger(z.Types.change)}identity(){return this.elements[0]=Me.Identity[0],this.elements[1]=Me.Identity[1],this.elements[2]=Me.Identity[2],this.elements[3]=Me.Identity[3],this.elements[4]=Me.Identity[4],this.elements[5]=Me.Identity[5],this.elements[6]=Me.Identity[6],this.elements[7]=Me.Identity[7],this.elements[8]=Me.Identity[8],this.trigger(z.Types.change)}multiply(t,e,i,s,a,c,f,p,y){if(typeof e>"u")return this.elements[0]*=t,this.elements[1]*=t,this.elements[2]*=t,this.elements[3]*=t,this.elements[4]*=t,this.elements[5]*=t,this.elements[6]*=t,this.elements[7]*=t,this.elements[8]*=t,this.trigger(z.Types.change);if(typeof i>"u"&&(i=1),typeof s>"u"){t=t||0,e=e||0,i=i||0,a=this.elements;let At=a[0]*t+a[1]*e+a[2]*i,yt=a[3]*t+a[4]*e+a[5]*i,$t=a[6]*t+a[7]*e+a[8]*i;return[At,yt,$t]}let _=this.elements,k=[t,e,i,s,a,c,f,p,y],S=_[0],A=_[1],v=_[2],T=_[3],I=_[4],R=_[5],M=_[6],P=_[7],B=_[8],H=k[0],q=k[1],l=k[2],$=k[3],Y=k[4],K=k[5],Q=k[6],ht=k[7],tt=k[8];return this.elements[0]=S*H+A*$+v*Q,this.elements[1]=S*q+A*Y+v*ht,this.elements[2]=S*l+A*K+v*tt,this.elements[3]=T*H+I*$+R*Q,this.elements[4]=T*q+I*Y+R*ht,this.elements[5]=T*l+I*K+R*tt,this.elements[6]=M*H+P*$+B*Q,this.elements[7]=M*q+P*Y+B*ht,this.elements[8]=M*l+P*K+B*tt,this.trigger(z.Types.change)}inverse(t){let e=this.elements;t=t||new Me;let i=e[0],s=e[1],a=e[2],c=e[3],f=e[4],p=e[5],y=e[6],_=e[7],k=e[8],S=k*f-p*_,A=-k*c+p*y,v=_*c-f*y,T=i*S+s*A+a*v;return T?(T=1/T,t.elements[0]=S*T,t.elements[1]=(-k*s+a*_)*T,t.elements[2]=(p*s-a*f)*T,t.elements[3]=A*T,t.elements[4]=(k*i-a*y)*T,t.elements[5]=(-p*i+a*c)*T,t.elements[6]=v*T,t.elements[7]=(-_*i+s*y)*T,t.elements[8]=(f*i-s*c)*T,t):null}scale(t,e){return arguments.length<=1&&(e=t),this.multiply(t,0,0,0,e,0,0,0,1)}rotate(t){let e=Gl(t),i=Kl(t);return this.multiply(e,-i,0,i,e,0,0,0,1)}translate(t,e){return this.multiply(1,0,t,0,1,e,0,0,1)}skewX(t){let e=pa(t);return this.multiply(1,e,0,0,1,0,0,0,1)}skewY(t){let e=pa(t);return this.multiply(1,0,0,e,1,0,0,0,1)}toString(t){return Bn.length=0,this.toTransformArray(t,Bn),Bn.map(Vt).join(" ")}toTransformArray(t,e){let i=this.elements,s=!!e,a=i[0],c=i[1],f=i[2],p=i[3],y=i[4],_=i[5];if(t){let k=i[6],S=i[7],A=i[8];if(s){e[0]=a,e[1]=p,e[2]=k,e[3]=c,e[4]=y,e[5]=S,e[6]=f,e[7]=_,e[8]=A;return}return[a,p,k,c,y,S,f,_,A]}if(s){e[0]=a,e[1]=p,e[2]=c,e[3]=y,e[4]=f,e[5]=_;return}return[a,p,c,y,f,_]}toArray(t,e){let i=this.elements,s=!!e,a=i[0],c=i[1],f=i[2],p=i[3],y=i[4],_=i[5];if(t){let k=i[6],S=i[7],A=i[8];if(s){e[0]=a,e[1]=c,e[2]=f,e[3]=p,e[4]=y,e[5]=_,e[6]=k,e[7]=S,e[8]=A;return}return[a,c,f,p,y,_,k,S,A]}if(s){e[0]=a,e[1]=c,e[2]=f,e[3]=p,e[4]=y,e[5]=_;return}return[a,c,f,p,y,_]}toObject(){return{elements:this.toArray(!0),manual:!!this.manual}}clone(){return new Me().copy(this)}},pi=Me;m(pi,"Identity",[1,0,0,0,1,0,0,0,1]);Ya(pi);var si=class extends Vr{constructor(){super(),m(this,"_flagMatrix",!0),m(this,"_flagScale",!1),m(this,"_matrix",null),m(this,"_worldMatrix",null),m(this,"_position",null),m(this,"_rotation",0),m(this,"_scale",1),m(this,"_skewX",0),m(this,"_skewY",0);for(let t in Er)Object.defineProperty(this,t,Er[t]);this._renderer.flagMatrix=ro.bind(this),this.isShape=!0,this.id=Jt.Identifier+Jt.uniqueId(),this.matrix=new pi,this.worldMatrix=new pi,this.position=new X,this.rotation=0,this.scale=1,this.skewX=0,this.skewY=0}get renderer(){return this._renderer}set renderer(t){this._renderer=t}get translation(){return Er.position.get.apply(this,arguments)}set translation(t){Er.position.set.apply(this,arguments)}addTo(t){return t.add(this),this}remove(){return this.parent?(this.parent.remove(this),this):this}clone(t){let e=new si;return e.position.copy(this.position),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}_update(t){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.position.x,this.position.y),this._scale instanceof X?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation),this._matrix.skewX(this.skewX),this._matrix.skewY(this.skewY)),t&&this.parent&&this.parent._update&&this.parent._update(),this}flagReset(){return this._flagMatrix=this._flagScale=!1,super.flagReset.call(this),this}},Er={position:{enumerable:!0,get:function(){return this._position},set:function(t){this._position&&this._position.unbind(z.Types.change,this._renderer.flagMatrix),this._position=t,this._position.bind(z.Types.change,this._renderer.flagMatrix),ro.call(this)}},rotation:{enumerable:!0,get:function(){return this._rotation},set:function(t){this._rotation=t,this._flagMatrix=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(t){this._scale instanceof X&&this._scale.unbind(z.Types.change,this._renderer.flagMatrix),this._scale=t,this._scale instanceof X&&this._scale.bind(z.Types.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}},skewX:{enumerable:!0,get:function(){return this._skewX},set:function(t){this._skewX=t,this._flagMatrix=!0}},skewY:{enumerable:!0,get:function(){return this._skewY},set:function(t){this._skewY=t,this._flagMatrix=!0}},matrix:{enumerable:!0,get:function(){return this._matrix},set:function(t){this._matrix=t,this._flagMatrix=!0}},worldMatrix:{enumerable:!0,get:function(){return Ga(this,this._worldMatrix),this._worldMatrix},set:function(t){this._worldMatrix=t}}};function ro(){this._flagMatrix=!0}var ai=class extends Array{constructor(){super(),m(this,"_events",new z),arguments[0]&&Array.isArray(arguments[0])?arguments[0].length>0&&this.push.apply(this,arguments[0]):arguments.length>0&&this.push.apply(this,arguments)}get _bound(){return this._events._bound}set _bound(t){this._events._bound=t}addEventListener(){return this._events.addEventListener.apply(this,arguments)}on(){return this._events.on.apply(this,arguments)}bind(){return this._events.bind.apply(this,arguments)}removeEventListener(){return this._events.removeEventListener.apply(this,arguments)}off(){return this._events.off.apply(this,arguments)}unbind(){return this._events.unbind.apply(this,arguments)}dispatchEvent(){return this._events.dispatchEvent.apply(this,arguments)}trigger(){return this._events.trigger.apply(this,arguments)}listen(){return this._events.listen.apply(this,arguments)}ignore(){return this._events.ignore.apply(this,arguments)}pop(){let t=super.pop.apply(this,arguments);return this.trigger(z.Types.remove,[t]),t}shift(){let t=super.shift.apply(this,arguments);return this.trigger(z.Types.remove,[t]),t}push(){let t=super.push.apply(this,arguments);return this.trigger(z.Types.insert,arguments),t}unshift(){let t=super.unshift.apply(this,arguments);return this.trigger(z.Types.insert,arguments),t}splice(){let t=super.splice.apply(this,arguments);if(this.trigger(z.Types.remove,t),arguments.length>2){let e=this.slice(arguments[0],arguments[0]+arguments.length-2);this.trigger(z.Types.insert,e),this.trigger(z.Types.order)}return t}sort(){return super.sort.apply(this,arguments),this.trigger(z.Types.order),this}reverse(){return super.reverse.apply(this,arguments),this.trigger(z.Types.order),this}indexOf(){return super.indexOf.apply(this,arguments)}map(t,e){let i=[];for(let s=0;s<this.length;s++){let a=this[s],c;e?c=t.call(e,a,s):c=t(a,s),i.push(c)}return i}},no=class extends ai{constructor(t){t=Array.isArray(t)?t:Array.prototype.slice.call(arguments),super(t),m(this,"ids",{}),this.attach(t),this.on(z.Types.insert,this.attach),this.on(z.Types.remove,this.detach)}attach(t){for(let e=0;e<t.length;e++){let i=t[e];i&&i.id&&(this.ids[i.id]=i)}return this}detach(t){for(let e=0;e<t.length;e++)delete this.ids[t[e].id];return this}},Cr=Math.min,Mr=Math.max,so=class extends si{constructor(t){super(),m(this,"_flagAdditions",!1),m(this,"_flagSubtractions",!1),m(this,"_flagOrder",!1),m(this,"_flagOpacity",!0),m(this,"_flagBeginning",!1),m(this,"_flagEnding",!1),m(this,"_flagLength",!1),m(this,"_flagMask",!1),m(this,"_fill","#fff"),m(this,"_stroke","#000"),m(this,"_linewidth",1),m(this,"_opacity",1),m(this,"_visible",!0),m(this,"_cap","round"),m(this,"_join","round"),m(this,"_miter",4),m(this,"_closed",!0),m(this,"_curved",!1),m(this,"_automatic",!0),m(this,"_beginning",0),m(this,"_ending",1),m(this,"_length",0),m(this,"_mask",null);for(let e in ga)Object.defineProperty(this,e,ga[e]);this._renderer.type="group",this.additions=[],this.subtractions=[],this.children=Array.isArray(t)?t:Array.prototype.slice.call(arguments)}static InsertChildren(t){for(let e=0;e<t.length;e++)_a.call(this,t[e],this)}static RemoveChildren(t){for(let e=0;e<t.length;e++)_a.call(this,t[e])}static OrderChildren(t){this._flagOrder=!0}clone(t){let e=new so,i=this.children.map(function(s){return s.clone()});return e.add(i),e.opacity=this.opacity,this.mask&&(e.mask=this.mask),e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.className=this.className,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}toObject(){let t={children:[],translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale instanceof X?this.scale.toObject():this.scale,opacity:this.opacity,className:this.className,mask:this.mask?this.mask.toObject():null};return this.matrix.manual&&(t.matrix=this.matrix.toObject()),it.each(this.children,function(e,i){t.children[i]=e.toObject()},this),t}corner(){let t=this.getBoundingClientRect(!0);for(let e=0;e<this.children.length;e++){let i=this.children[e];i.translation.x-=t.left,i.translation.y-=t.top}return this.mask&&(this.mask.translation.x-=t.left,this.mask.translation.y-=t.top),this}center(){let t=this.getBoundingClientRect(!0),e=t.left+t.width/2-this.translation.x,i=t.top+t.height/2-this.translation.y;for(let s=0;s<this.children.length;s++){let a=this.children[s];a.isShape&&(a.translation.x-=e,a.translation.y-=i)}return this.mask&&(this.mask.translation.x-=e,this.mask.translation.y-=i),this}getById(t){let e=null;function i(s){if(s.id===t)return s;if(s.children){for(let a=0;a<s.children.length;a++)if(e=i(s.children[a]),e)return e}return null}return i(this)}getByClassName(t){let e=[];function i(s){if(Array.prototype.indexOf.call(s.classList,t)>=0&&e.push(s),s.children)for(let a=0;a<s.children.length;a++){let c=s.children[a];i(c)}return e}return i(this)}getByType(t){let e=[];function i(s){if(s instanceof t&&e.push(s),s.children)for(let a=0;a<s.children.length;a++){let c=s.children[a];i(c)}return e}return i(this)}add(t){t instanceof Array?t=t.slice():t=Array.prototype.slice.call(arguments);for(let e=0;e<t.length;e++){let i=t[e];if(!(i&&i.id))continue;let s=Array.prototype.indexOf.call(this.children,i);s>=0&&this.children.splice(s,1),this.children.push(i)}return this}remove(t){let e=arguments.length,i=this.parent;if(e<=0&&i)return i.remove(this),this;t instanceof Array?t=t.slice():t=Array.prototype.slice.call(arguments);for(let s=0;s<t.length;s++){let a=t[s];if(!a||!this.children.ids[a.id])continue;let c=this.children.indexOf(a);c>=0&&this.children.splice(c,1)}return this}getBoundingClientRect(t){let e,i,s,a,c,f;this._update(!0);let p=1/0,y=-1/0,_=1/0,k=-1/0,S=/texture|gradient/i;i=t?this.matrix:this.worldMatrix;for(let A=0;A<this.children.length;A++){let v=this.children[A];if(!(!v.visible||S.test(v._renderer.type))&&(e=v.getBoundingClientRect(t),s=typeof e.top!="number"||it.isNaN(e.top)||!isFinite(e.top),a=typeof e.left!="number"||it.isNaN(e.left)||!isFinite(e.left),c=typeof e.right!="number"||it.isNaN(e.right)||!isFinite(e.right),f=typeof e.bottom!="number"||it.isNaN(e.bottom)||!isFinite(e.bottom),!(s||a||c||f)))if(t){let[T,I]=i.multiply(e.left,e.top),[R,M]=i.multiply(e.right,e.top),[P,B]=i.multiply(e.left,e.bottom),[H,q]=i.multiply(e.right,e.bottom);_=Cr(I,M,B,q),p=Cr(T,R,P,H),y=Mr(T,R,P,H),k=Mr(I,M,B,q)}else _=Cr(e.top,_),p=Cr(e.left,p),y=Mr(e.right,y),k=Mr(e.bottom,k)}return{top:_,left:p,right:y,bottom:k,width:y-p,height:k-_}}noFill(){return this.children.forEach(function(t){t.noFill()}),this}noStroke(){return this.children.forEach(function(t){t.noStroke()}),this}subdivide(){let t=arguments;return this.children.forEach(function(e){e.subdivide.apply(e,t)}),this}_update(){let t,e,i;if(this._flagBeginning||this._flagEnding){let s=Math.min(this._beginning,this._ending),a=Math.max(this._beginning,this._ending),c=this.length,f=0,p=s*c,y=a*c;for(t=0;t<this.children.length;t++)i=this.children[t],e=i.length,p>f+e?(i.beginning=1,i.ending=1):y<f?(i.beginning=0,i.ending=0):p>f&&p<f+e?(i.beginning=(p-f)/e,i.ending=1):y>f&&y<f+e?(i.beginning=0,i.ending=(y-f)/e):(i.beginning=0,i.ending=1),f+=e}return super._update.apply(this,arguments)}flagReset(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=this._flagBeginning=this._flagEnding=!1,super.flagReset.call(this),this}},Kt=so;m(Kt,"Children",no);m(Kt,"Properties",["fill","stroke","linewidth","cap","join","miter","closed","curved","automatic"]);var ga={visible:{enumerable:!0,get:function(){return this._visible},set:function(t){this._flagVisible=this._visible!==t||this._flagVisible,this._visible=t}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._flagOpacity=this._opacity!==t||this._flagOpacity,this._opacity=t}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(t){this._flagBeginning=this._beginning!==t||this._flagBeginning,this._beginning=t}},ending:{enumerable:!0,get:function(){return this._ending},set:function(t){this._flagEnding=this._ending!==t||this._flagEnding,this._ending=t}},length:{enumerable:!0,get:function(){if(this._flagLength||this._length<=0){if(this._length=0,!this.children)return this._length;for(let t=0;t<this.children.length;t++){let e=this.children[t];this._length+=e.length}}return this._length}},fill:{enumerable:!0,get:function(){return this._fill},set:function(t){this._fill=t;for(let e=0;e<this.children.length;e++){let i=this.children[e];i.fill=t}}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(t){this._stroke=t;for(let e=0;e<this.children.length;e++){let i=this.children[e];i.stroke=t}}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(t){this._linewidth=t;for(let e=0;e<this.children.length;e++){let i=this.children[e];i.linewidth=t}}},join:{enumerable:!0,get:function(){return this._join},set:function(t){this._join=t;for(let e=0;e<this.children.length;e++){let i=this.children[e];i.join=t}}},miter:{enumerable:!0,get:function(){return this._miter},set:function(t){this._miter=t;for(let e=0;e<this.children.length;e++){let i=this.children[e];i.miter=t}}},cap:{enumerable:!0,get:function(){return this._cap},set:function(t){this._cap=t;for(let e=0;e<this.children.length;e++){let i=this.children[e];i.cap=t}}},closed:{enumerable:!0,get:function(){return this._closed},set:function(t){this._closed=t;for(let e=0;e<this.children.length;e++){let i=this.children[e];i.closed=t}}},curved:{enumerable:!0,get:function(){return this._curved},set:function(t){this._curved=t;for(let e=0;e<this.children.length;e++){let i=this.children[e];i.curved=t}}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(t){this._automatic=t;for(let e=0;e<this.children.length;e++){let i=this.children[e];i.automatic=t}}},children:{enumerable:!0,get:function(){return this._children},set:function(t){let e=Kt.InsertChildren.bind(this),i=Kt.RemoveChildren.bind(this),s=Kt.OrderChildren.bind(this);this._children&&(this._children.unbind(),this._children.length>0&&i(this._children)),this._children=new no(t),this._children.bind(z.Types.insert,e),this._children.bind(z.Types.remove,i),this._children.bind(z.Types.order,s),t.length>0&&e(t)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,it.isObject(t)&&!t.clip&&(t.clip=!0)}}};function _a(t,e){let i=t.parent,s;if(i===e){a();return}if(i&&i.children.ids[t.id]&&(s=Array.prototype.indexOf.call(i.children,t),i.children.splice(s,1),c()),e){a();return}c(),i._flagAdditions&&i.additions.length===0&&(i._flagAdditions=!1),i._flagSubtractions&&i.subtractions.length===0&&(i._flagSubtractions=!1),delete t.parent;function a(){e.subtractions.length>0&&(s=Array.prototype.indexOf.call(e.subtractions,t),s>=0&&e.subtractions.splice(s,1)),e.additions.length>0&&(s=Array.prototype.indexOf.call(e.additions,t),s>=0&&e.additions.splice(s,1)),t.parent=e,e.additions.push(t),e._flagAdditions=!0}function c(){s=Array.prototype.indexOf.call(i.additions,t),s>=0&&i.additions.splice(s,1),s=Array.prototype.indexOf.call(i.subtractions,t),s<0&&(i.subtractions.push(t),i._flagSubtractions=!0)}}var zn=[],$n=Math.max,Ql=Math.min,ma=Math.abs,Rr=Math.sin,Fr=Math.cos,Jl=Math.acos,Ur=Math.sqrt,Xt={isHidden:/(undefined|none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},shim:function(t,e){return t.tagName=t.nodeName=e||"canvas",t.nodeType=1,t.getAttribute=function(i){return this[i]},t.setAttribute=function(i,s){return this[i]=s,this},t},group:{renderChild:function(t){Xt[t._renderer.type].render.call(t,this.ctx,!0,this.clip)},render:function(t){if(!this._visible)return this;this._update();let e=this._matrix.elements,i=this.parent;this._renderer.opacity=this._opacity*(i&&i._renderer?i._renderer.opacity:1);let s=this._mask,a=Or(e),c=!a||!!s;if(this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=t,c&&(t.save(),a||t.transform(e[0],e[3],e[1],e[4],e[2],e[5])),s&&Xt[s._renderer.type].render.call(s,t,!0),this._opacity>0&&this._scale!==0)for(let f=0;f<this.children.length;f++){let p=this.children[f];Xt[p._renderer.type].render.call(p,t)}return c&&t.restore(),this.flagReset()}},path:{render:function(t,e,i){let s,a,c,f,p,y,_,k,S,A,v,T,I,R,M,P,B,H,q,l,$,Y,K,Q,ht,tt,At,yt,$t,Et,ft,st,pt,bt;if(bt=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,$t=this._mask,Et=this._clip,p=this._opacity*(bt||1),y=this._visible,!e&&(!y||Et||p===0))return this;this._update(),s=this._matrix.elements,a=this._stroke,c=this._linewidth,f=this._fill,_=this._cap,k=this._join,S=this._miter,A=this._closed,v=this._renderer.vertices,T=v.length,I=T-1,ft=Or(s),pt=this.dashes,ft||(t.save(),t.transform(s[0],s[3],s[1],s[4],s[2],s[5])),$t&&Xt[$t._renderer.type].render.call($t,t,!0),f&&(typeof f=="string"?t.fillStyle=f:(Xt[f._renderer.type].render.call(f,t,this),t.fillStyle=f._renderer.effect)),a&&(typeof a=="string"?t.strokeStyle=a:(Xt[a._renderer.type].render.call(a,t,this),t.strokeStyle=a._renderer.effect),c&&(t.lineWidth=c),S&&(t.miterLimit=S),k&&(t.lineJoin=k),!A&&_&&(t.lineCap=_)),typeof p=="number"&&(t.globalAlpha=p),pt&&pt.length>0&&(t.lineDashOffset=pt.offset||0,t.setLineDash(pt)),t.beginPath();let rt,jt,Zt,Nt,It,Ft,Yt;for(let Dt=0;Dt<T;Dt++)switch(P=v[Dt],At=P.x,yt=P.y,P.command){case W.close:t.closePath();break;case W.arc:rt=P.rx,jt=P.ry,Zt=P.xAxisRotation,Nt=P.largeArcFlag,It=P.sweepFlag,R=A?xe(Dt-1,T):$n(Dt-1,0),M=v[R],Ft=M.x,Yt=M.y,Xt.renderSvgArcCommand(t,Ft,Yt,rt,jt,Nt,It,Zt,At,yt);break;case W.curve:R=A?xe(Dt-1,T):Math.max(Dt-1,0),M=v[R],K=M.controls&&M.controls.right||X.zero,Q=P.controls&&P.controls.left||X.zero,M._relative?($=K.x+M.x,Y=K.y+M.y):($=K.x,Y=K.y),P._relative?(q=Q.x+P.x,l=Q.y+P.y):(q=Q.x,l=Q.y),t.bezierCurveTo($,Y,q,l,At,yt),Dt>=I&&A&&(B=H,ht=P.controls&&P.controls.right||X.zero,tt=B.controls&&B.controls.left||X.zero,P._relative?($=ht.x+P.x,Y=ht.y+P.y):($=ht.x,Y=ht.y),B._relative?(q=tt.x+B.x,l=tt.y+B.y):(q=tt.x,l=tt.y),At=B.x,yt=B.y,t.bezierCurveTo($,Y,q,l,At,yt));break;case W.line:t.lineTo(At,yt);break;case W.move:H=P,t.moveTo(At,yt);break}return A&&t.closePath(),!Et&&!i&&(Xt.isHidden.test(f)||(st=f._renderer&&f._renderer.offset,st&&(t.save(),t.translate(-f._renderer.offset.x,-f._renderer.offset.y),t.scale(f._renderer.scale.x,f._renderer.scale.y)),t.fill(),st&&t.restore()),Xt.isHidden.test(a)||(st=a._renderer&&a._renderer.offset,st&&(t.save(),t.translate(-a._renderer.offset.x,-a._renderer.offset.y),t.scale(a._renderer.scale.x,a._renderer.scale.y),t.lineWidth=c/a._renderer.scale.x),t.stroke(),st&&t.restore())),ft||t.restore(),Et&&!i&&t.clip(),pt&&pt.length>0&&t.setLineDash(zn),this.flagReset()}},points:{render:function(t,e,i){let s,a,c,f,p,y,_,k,S,A,v,T,I,R,M,P;if(P=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,p=this._opacity*(P||1),y=this._visible,!e&&(!y||p===0))return this;this._update(),s=this._matrix.elements,a=this._stroke,c=this._linewidth,f=this._fill,k=this._renderer.collection,S=k.length,I=Or(s),M=this.dashes,_=this._size,I||(t.save(),t.transform(s[0],s[3],s[1],s[4],s[2],s[5])),f&&(typeof f=="string"?t.fillStyle=f:(Xt[f._renderer.type].render.call(f,t,this),t.fillStyle=f._renderer.effect)),a&&(typeof a=="string"?t.strokeStyle=a:(Xt[a._renderer.type].render.call(a,t,this),t.strokeStyle=a._renderer.effect),c&&(t.lineWidth=c)),typeof p=="number"&&(t.globalAlpha=p),M&&M.length>0&&(t.lineDashOffset=M.offset||0,t.setLineDash(M)),t.beginPath();let B=_*.5,H;this._sizeAttenuation||(H=this.worldMatrix.elements,H=Oi(H[0],H[3],H[1],H[4],H[2],H[5]),B/=Math.max(H.scaleX,H.scaleY));for(let q=0;q<S;q++)A=k[q],v=A.x,T=A.y,t.moveTo(v+B,T),t.arc(v,T,B,0,le);return i||(Xt.isHidden.test(f)||(R=f._renderer&&f._renderer.offset,R&&(t.save(),t.translate(-f._renderer.offset.x,-f._renderer.offset.y),t.scale(f._renderer.scale.x,f._renderer.scale.y)),t.fill(),R&&t.restore()),Xt.isHidden.test(a)||(R=a._renderer&&a._renderer.offset,R&&(t.save(),t.translate(-a._renderer.offset.x,-a._renderer.offset.y),t.scale(a._renderer.scale.x,a._renderer.scale.y),t.lineWidth=c/a._renderer.scale.x),t.stroke(),R&&t.restore())),I||t.restore(),M&&M.length>0&&t.setLineDash(zn),this.flagReset()}},text:{render:function(t,e,i){let s=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,a=this._opacity*s,c=this._visible,f=this._mask,p=this._clip;if(!e&&(!c||p||a===0))return this;this._update();let y=this._matrix.elements,_=this._stroke,k=this._linewidth,S=this._fill,A=this._decoration,v=Or(y),T=S._renderer&&S._renderer.offset&&_._renderer&&_._renderer.offset,I=this.dashes,R=Xt.alignments[this._alignment]||this._alignment,M=this._baseline,P,B,H,q,l,$,Y,K,Q,ht,tt;if(v||(t.save(),t.transform(y[0],y[3],y[1],y[4],y[2],y[5])),f&&Xt[f._renderer.type].render.call(f,t,!0),T||(t.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" ")),t.textAlign=R,t.textBaseline=M,S&&(typeof S=="string"?t.fillStyle=S:(Xt[S._renderer.type].render.call(S,t,this),t.fillStyle=S._renderer.effect)),_&&(typeof _=="string"?t.strokeStyle=_:(Xt[_._renderer.type].render.call(_,t,this),t.strokeStyle=_._renderer.effect),k&&(t.lineWidth=k)),typeof a=="number"&&(t.globalAlpha=a),I&&I.length>0&&(t.lineDashOffset=I.offset||0,t.setLineDash(I)),!p&&!i&&(Xt.isHidden.test(S)||(S._renderer&&S._renderer.offset?($=S._renderer.scale.x,Y=S._renderer.scale.y,t.save(),t.translate(-S._renderer.offset.x,-S._renderer.offset.y),t.scale($,Y),P=this._size/S._renderer.scale.y,B=this._leading/S._renderer.scale.y,t.font=[this._style,this._weight,P+"px/",B+"px",this._family].join(" "),H=S._renderer.offset.x/S._renderer.scale.x,q=S._renderer.offset.y/S._renderer.scale.y,t.fillText(this.value,H,q),t.restore()):t.fillText(this.value,0,0)),Xt.isHidden.test(_)||(_._renderer&&_._renderer.offset?($=_._renderer.scale.x,Y=_._renderer.scale.y,t.save(),t.translate(-_._renderer.offset.x,-_._renderer.offset.y),t.scale($,Y),P=this._size/_._renderer.scale.y,B=this._leading/_._renderer.scale.y,t.font=[this._style,this._weight,P+"px/",B+"px",this._family].join(" "),H=_._renderer.offset.x/_._renderer.scale.x,q=_._renderer.offset.y/_._renderer.scale.y,l=k/_._renderer.scale.x,t.lineWidth=l,t.strokeText(this.value,H,q),t.restore()):t.strokeText(this.value,0,0))),/(underline|strikethrough)/i.test(A)){let At=t.measureText(this.value),yt=1;switch(A){case"underline":Q=At.actualBoundingBoxAscent,tt=At.actualBoundingBoxAscent;break;case"strikethrough":Q=0,tt=0,yt=.5;break}switch(M){case"top":Q+=this._size*yt,tt+=this._size*yt;break;case"baseline":case"bottom":Q-=this._size*yt,tt-=this._size*yt;break}switch(R){case"left":case"start":K=0,ht=At.width;break;case"right":case"end":K=-At.width,ht=0;break;default:K=-At.width/2,ht=At.width/2}t.lineWidth=Math.max(Math.floor(this._size/15),1),t.strokeStyle=t.fillStyle,t.beginPath(),t.moveTo(K,Q),t.lineTo(ht,tt),t.stroke()}return v||t.restore(),p&&!i&&t.clip(),I&&I.length>0&&t.setLineDash(zn),this.flagReset()}},"linear-gradient":{render:function(t,e){if(!!e){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let i,s=this.left._x,a=this.left._y,c=this.right._x,f=this.right._y;/objectBoundingBox/i.test(this._units)&&(i=e.getBoundingClientRect(!0),s=(s-.5)*i.width,a=(a-.5)*i.height,c=(c-.5)*i.width,f=(f-.5)*i.height),this._renderer.effect=t.createLinearGradient(s,a,c,f);for(let p=0;p<this.stops.length;p++){let y=this.stops[p];this._renderer.effect.addColorStop(y._offset,y._color)}}return this.flagReset()}}},"radial-gradient":{render:function(t,e){if(!!e){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let i,s=this.center._x,a=this.center._y,c=this.focal._x,f=this.focal._y,p=this._radius;/objectBoundingBox/i.test(this._units)&&(i=e.getBoundingClientRect(!0),s=s*i.width*.5,a=a*i.height*.5,c=c*i.width*.5,f=f*i.height*.5,p*=Math.min(i.width,i.height)*.5),this._renderer.effect=t.createRadialGradient(s,a,0,c,f,p);for(let y=0;y<this.stops.length;y++){let _=this.stops[y];this._renderer.effect.addColorStop(_._offset,_._color)}}return this.flagReset()}}},texture:{render:function(t){this._update();let e=this.image;return(!this._renderer.effect||(this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)&&(this._renderer.effect=t.createPattern(this.image,this._repeat)),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof X||(this._renderer.offset=new X),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,e&&(this._renderer.offset.x+=e.width/2,this._renderer.offset.y+=e.height/2,this._scale instanceof X?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof X||(this._renderer.scale=new X),this._scale instanceof X?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},renderSvgArcCommand:function(t,e,i,s,a,c,f,p,y,_){p=p*Math.PI/180,s=ma(s),a=ma(a);let k=(e-y)/2,S=(i-_)/2,A=Fr(p)*k+Rr(p)*S,v=-Rr(p)*k+Fr(p)*S,T=A*A,I=v*v,R=s*s,M=a*a,P=T/R+I/M;if(P>1){let yt=Ur(P);s=yt*s,a=yt*a,R=s*s,M=a*a}let B=R*I+M*T,H=(R*M-B)/B,q=Ur($n(0,H));c===f&&(q=-q);let l=q*s*v/a,$=-q*a*A/s,Y=Fr(p)*l-Rr(p)*$+(e+y)/2,K=Rr(p)*l+Fr(p)*$+(i+_)/2,Q=ya(1,0,(A-l)/s,(v-$)/a),ht=ya((A-l)/s,(v-$)/a,(-A-l)/s,(-v-$)/a)%le,tt=Q+ht;Zl(t,Y,K,s,a,Q,tt,f===0,p)}},ir=class extends z{constructor(t){super();let e=t.smoothing!==!1;this.domElement=t.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=t.overdraw||!1,typeof this.ctx.imageSmoothingEnabled<"u"&&(this.ctx.imageSmoothingEnabled=e),this.scene=new Kt,this.scene.parent=this}setSize(t,e,i){return this.width=t,this.height=e,this.ratio=typeof i>"u"?Jn(this.ctx):i,this.domElement.width=t*this.ratio,this.domElement.height=e*this.ratio,this.domElement.style&&it.extend(this.domElement.style,{width:t+"px",height:e+"px"}),this.trigger(z.Types.resize,t,e,i)}render(){let t=this.ratio===1;return t||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),Xt.group.render.call(this.scene,this.ctx),t||this.ctx.restore(),this}};m(ir,"Utils",Xt);function Zl(t,e,i,s,a,c,f,p,y){let _=f-c,k=Pi.Tolerance.epsilon,S=Math.abs(_)<k,A=xe(_,le);A<k&&(S?A=0:A=le),p===!0&&!S&&(A===le?A=-le:A=A-le);for(let v=0;v<Jt.Resolution;v++){let T=v/(Jt.Resolution-1),I=c+T*A,R=e+s*Math.cos(I),M=i+a*Math.sin(I);if(y!==0){let P=Math.cos(y),B=Math.sin(y),H=R-e,q=M-i;R=H*P-q*B+e,M=H*B+q*P+i}t.lineTo(R,M)}}function ya(t,e,i,s){let a=t*i+e*s,c=Ur(t*t+e*e)*Ur(i*i+s*s),f=Jl($n(-1,Ql(1,a/c)));return t*s-e*i<0&&(f=-f),f}function Or(t){return t[0]==1&&t[3]==0&&t[1]==0&&t[4]==1&&t[2]==0&&t[5]==0}var be={Image:null,isHeadless:!1,shim:function(t,e){return ir.Utils.shim(t),typeof e<"u"&&(be.Image=e),be.isHeadless=!0,t}},ye={hasEventListeners:typeof Ut.addEventListener=="function",bind:function(t,e,i,s){return this.hasEventListeners?t.addEventListener(e,i,!!s):t.attachEvent("on"+e,i),ye},unbind:function(t,e,i,s){return ye.hasEventListeners?t.removeEventListeners(e,i,!!s):t.detachEvent("on"+e,i),ye},getRequestAnimationFrame:function(){let t=["ms","moz","webkit","o"],e=0,i=Ut.requestAnimationFrame;if(!i){for(let a=0;a<t.length;a++)i=Ut[t[a]+"RequestAnimationFrame"]||i;i=i||s}function s(a,c){let f=new Date().getTime(),p=Math.max(0,16-(f-e)),y=Ut.setTimeout(_,p);e=f+p;function _(){a(f+p)}return y}return i}},Fi=Ut.document?Ut.document.createElement("div"):{};Fi.id="help-two-load";Object.defineProperty(ye,"temp",{enumerable:!0,get:function(){return it.isElement(Fi)&&!Ut.document.head.contains(Fi)&&(Fi.style.display="none",Ut.document.head.appendChild(Fi)),Fi}});var ve=class extends Error{constructor(t){super(),m(this,"name","Two.js"),m(this,"message"),this.message=t}},$r=class{constructor(){m(this,"map",{})}add(t,e){return this.map[t]=e,this}remove(t){return delete this.map[t],this}get(t){return this.map[t]}contains(t){return t in this.map}};function ba(t,e){if(e===0||e===1)return!0;let s=t._length*e,a=0;for(let c=0;c<t._lengths.length;c++){let f=t._lengths[c];if(a>=s)return s-a>=0;a+=f}return!1}function Wr(t,e){let i=t._length;if(e<=0)return 0;if(e>=i)return t._lengths.length-1;for(let s=0,a=0;s<t._lengths.length;s++){if(a+t._lengths[s]>=e)return e-=a,Math.max(s-1,0)+e/t._lengths[s];a+=t._lengths[s]}return-1}function Xn(t,e,i){let s,a,c,f,p,y,_,k,S=e.controls&&e.controls.right,A=t.controls&&t.controls.left;return s=e.x,p=e.y,a=(S||e).x,y=(S||e).y,c=(A||t).x,_=(A||t).y,f=t.x,k=t.y,S&&e._relative&&(a+=e.x,y+=e.y),A&&t._relative&&(c+=t.x,_+=t.y),Ja(s,p,a,y,c,_,f,k,i)}function va(t,e,i){let s,a,c,f,p,y,_,k,S=e.controls&&e.controls.right,A=t.controls&&t.controls.left;return s=e.x,p=e.y,a=(S||e).x,y=(S||e).y,c=(A||t).x,_=(A||t).y,f=t.x,k=t.y,S&&e._relative&&(a+=e.x,y+=e.y),A&&t._relative&&(c+=t.x,_+=t.y),Qn(s,p,a,y,c,_,f,k,i)}var ni=class extends Vr{constructor(t,e,i){super(),m(this,"_flagOffset",!0),m(this,"_flagOpacity",!0),m(this,"_flagColor",!0),m(this,"_offset",0),m(this,"_opacity",1),m(this,"_color","#fff");for(let s in xa)Object.defineProperty(this,s,xa[s]);this._renderer.type="stop",this.offset=typeof t=="number"?t:ni.Index<=0?0:1,this.opacity=typeof i=="number"?i:1,this.color=typeof e=="string"?e:ni.Index<=0?"#fff":"#000",ni.Index=(ni.Index+1)%2}clone(t){let e=new ni;return it.each(ni.Properties,function(i){e[i]=this[i]},this),t&&t.stops&&t.stops.push(e),e}toObject(){let t={};return it.each(ni.Properties,function(e){t[e]=this[e]},this),t}flagReset(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,super.flagReset.call(this),this}},oi=ni;m(oi,"Index",0);m(oi,"Properties",["offset","opacity","color"]);var xa={offset:{enumerable:!0,get:function(){return this._offset},set:function(t){this._offset=t,this._flagOffset=!0,this.parent&&(this.parent._flagStops=!0)}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._opacity=t,this._flagOpacity=!0,this.parent&&(this.parent._flagStops=!0)}},color:{enumerable:!0,get:function(){return this._color},set:function(t){this._color=t,this._flagColor=!0,this.parent&&(this.parent._flagStops=!0)}}},Lr=class extends Vr{constructor(t){super(),m(this,"_flagStops",!1),m(this,"_flagSpread",!1),m(this,"_flagUnits",!1),m(this,"_spread",""),m(this,"_units","");for(let e in wa)Object.defineProperty(this,e,wa[e]);this._renderer.type="gradient",this.id=Jt.Identifier+Jt.uniqueId(),this.classList=[],this._renderer.flagStops=th.bind(this),this._renderer.bindStops=eh.bind(this),this._renderer.unbindStops=ih.bind(this),this.spread="pad",this.units="objectBoundingBox",t&&(this.stops=t)}clone(t){let e=this.stops.map(function(s){return s.clone()}),i=new Lr(e);return it.each(Lr.Properties,function(s){i[s]=this[s]},this),t&&t.add(i),i}toObject(){let t={stops:this.stops.map(function(e){return e.toObject()})};return it.each(Lr.Properties,function(e){t[e]=this[e]},this),t}_update(){return(this._flagSpread||this._flagStops)&&this.trigger(z.Types.change),this}flagReset(){return this._flagSpread=this._flagUnits=this._flagStops=!1,super.flagReset.call(this),this}},Qt=Lr;m(Qt,"Stop",oi);m(Qt,"Properties",["spread","stops","renderer","units"]);var wa={spread:{enumerable:!0,get:function(){return this._spread},set:function(t){this._spread=t,this._flagSpread=!0}},units:{enumerable:!0,get:function(){return this._units},set:function(t){this._units=t,this._flagUnits=!0}},stops:{enumerable:!0,get:function(){return this._stops},set:function(t){let e=this._renderer.bindStops,i=this._renderer.unbindStops;this._stops&&this._stops.unbind(z.Types.insert,e).unbind(z.Types.remove,i),this._stops=new ai((t||[]).slice(0)),this._stops.bind(z.Types.insert,e).bind(z.Types.remove,i),e(this._stops)}}};function th(){this._flagStops=!0}function eh(t){let e=t.length;for(;e--;)t[e].bind(z.Types.change,this._renderer.flagStops),t[e].parent=this;this._renderer.flagStops()}function ih(t){let e=t.length;for(;e--;)t[e].unbind(z.Types.change,this._renderer.flagStops),delete t[e].parent;this._renderer.flagStops()}var ao=class extends Qt{constructor(t,e,i,s,a){super(a),m(this,"_flagEndPoints",!1),m(this,"_left",null),m(this,"_right",null);for(let c in ka)Object.defineProperty(this,c,ka[c]);this._renderer.type="linear-gradient",this._renderer.flagEndPoints=rh.bind(this),this.left=new X,this.right=new X,typeof t=="number"&&(this.left.x=t),typeof e=="number"&&(this.left.y=e),typeof i=="number"&&(this.right.x=i),typeof s=="number"&&(this.right.y=s)}clone(t){let e=this.stops.map(function(s){return s.clone()}),i=new ao(this.left._x,this.left._y,this.right._x,this.right._y,e);return it.each(Qt.Properties,function(s){i[s]=this[s]},this),t&&t.add(i),i}toObject(){let t=super.toObject.call(this);return t.left=this.left.toObject(),t.right=this.right.toObject(),t}_update(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(z.Types.change),this}flagReset(){return this._flagEndPoints=!1,super.flagReset.call(this),this}},qt=ao;m(qt,"Properties",["left","right"]);m(qt,"Stop",oi);var ka={left:{enumerable:!0,get:function(){return this._left},set:function(t){this._left instanceof X&&this._left.unbind(z.Types.change,this._renderer.flagEndPoints),this._left=t,this._left.bind(z.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}},right:{enumerable:!0,get:function(){return this._right},set:function(t){this._right instanceof X&&this._right.unbind(z.Types.change,this._renderer.flagEndPoints),this._right=t,this._right.bind(z.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}}};function rh(){this._flagEndPoints=!0}var Nr=class extends Qt{constructor(t,e,i,s,a,c){super(s),m(this,"_flagRadius",!1),m(this,"_flagCenter",!1),m(this,"_flagFocal",!1),m(this,"_radius",0),m(this,"_center",null),m(this,"_focal",null);for(let f in Ta)Object.defineProperty(this,f,Ta[f]);this._renderer.type="radial-gradient",this._renderer.flagCenter=nh.bind(this),this._renderer.flagFocal=sh.bind(this),this.center=new X,this.radius=typeof i=="number"?i:1,this.focal=new X,typeof t=="number"&&(this.center.x=t),typeof e=="number"&&(this.center.y=e),this.focal.copy(this.center),typeof a=="number"&&(this.focal.x=a),typeof c=="number"&&(this.focal.y=c)}clone(t){let e=this.stops.map(function(s){return s.clone()}),i=new Nr(this.center._x,this.center._y,this._radius,e,this.focal._x,this.focal._y);return it.each(Qt.Properties.concat(Nr.Properties),function(s){i[s]=this[s]},this),t&&t.add(i),i}toObject(){let t=super.toObject.call(this);return it.each(Nr.Properties,function(e){t[e]=this[e]},this),t.center=this.center.toObject(),t.focal=this.focal.toObject(),t}_update(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(z.Types.change),this}flagReset(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,super.flagReset.call(this),this}},Ht=Nr;m(Ht,"Stop",oi);m(Ht,"Properties",["center","radius","focal"]);var Ta={radius:{enumerable:!0,get:function(){return this._radius},set:function(t){this._radius=t,this._flagRadius=!0}},center:{enumerable:!0,get:function(){return this._center},set:function(t){this._center&&this._center.unbind(z.Types.change,this._renderer.flagCenter),this._center=t,this._center.bind(z.Types.change,this._renderer.flagCenter),this._flagCenter=!0}},focal:{enumerable:!0,get:function(){return this._focal},set:function(t){this._focal&&this._focal.unbind(z.Types.change,this._renderer.flagFocal),this._focal=t,this._focal.bind(z.Types.change,this._renderer.flagFocal),this._flagFocal=!0}}};function nh(){this._flagCenter=!0}function sh(){this._flagFocal=!0}var Ir,oo={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};Ut.document&&(Ir=document.createElement("a"));var ie=class extends Vr{constructor(t,e){super(),m(this,"_flagSrc",!1),m(this,"_flagImage",!1),m(this,"_flagVideo",!1),m(this,"_flagLoaded",!1),m(this,"_flagRepeat",!1),m(this,"_flagOffset",!1),m(this,"_flagScale",!1),m(this,"_src",""),m(this,"_image",null),m(this,"_loaded",!1),m(this,"_repeat","no-repeat"),m(this,"_scale",1),m(this,"_offset",null),this._renderer={};for(let i in Sa)Object.defineProperty(this,i,Sa[i]);if(this._renderer.type="texture",this._renderer.flagOffset=ah.bind(this),this._renderer.flagScale=oh.bind(this),this.id=Jt.Identifier+Jt.uniqueId(),this.classList=[],this.loaded=!1,this.repeat="no-repeat",this.offset=new X,typeof e=="function"){let i=function(){this.unbind(z.Types.load,i),typeof e=="function"&&e()}.bind(this);this.bind(z.Types.load,i)}if(typeof t=="string")this.src=t;else if(typeof t=="object"){let i=Object.prototype.toString.call(t);(i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]"||i==="[object HTMLVideoElement]"||i==="[object Image]")&&(this.image=t)}this._update()}static getAbsoluteURL(t){return Ir?(Ir.href=t,Ir.href):t}static loadHeadlessBuffer(t,e){t.image.onload=e,t.image.src=t.src}static getTag(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||"img"}static getImage(t){let e=ie.getAbsoluteURL(t);if(ie.ImageRegistry.contains(e))return ie.ImageRegistry.get(e);let i;return be.Image?(i=new be.Image,ir.Utils.shim(i,"img")):Ut.document?oo.video.test(e)?i=document.createElement("video"):i=document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),i.crossOrigin="anonymous",i}static load(t,e){let i=t.image,s=ie.getTag(i);t._flagImage&&(/canvas/i.test(s)?ie.Register.canvas(t,e):(t._src=!be.isHeadless&&i.getAttribute("two-src")||i.src,ie.Register[s](t,e))),t._flagSrc&&(i||(i=ie.getImage(t.src),t.image=i),s=ie.getTag(i),ie.Register[s](t,e))}clone(){let t=new ie(this.src);return t.repeat=this.repeat,t.offset.copy(this.origin),t.scale=this.scale,t}toObject(){return{src:this.src,repeat:this.repeat,origin:this.origin.toObject(),scale:typeof this.scale=="number"?this.scale:this.scale.toObject()}}_update(){return(this._flagSrc||this._flagImage)&&(this.trigger(z.Types.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,ie.load(this,function(){this.loaded=!0,this.trigger(z.Types.change).trigger(z.Types.load)}.bind(this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this}flagReset(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagRepeat=this._flagVideo=this._flagScale=this._flagOffset=!1,super.flagReset.call(this),this}},Ot=ie;m(Ot,"Properties",["src","loaded","repeat","scale","offset","image"]);m(Ot,"RegularExpressions",oo);m(Ot,"ImageRegistry",new $r);m(Ot,"Register",{canvas:function(t,e){t._src="#"+t.id,ie.ImageRegistry.add(t.src,t.image),typeof e=="function"&&e()},img:function(t,e){let i=t.image,s=function(c){!be.isHeadless&&i.removeEventListener&&typeof i.removeEventListener=="function"&&(i.removeEventListener("load",s,!1),i.removeEventListener("error",a,!1)),typeof e=="function"&&e()},a=function(c){throw!be.isHeadless&&typeof i.removeEventListener=="function"&&(i.removeEventListener("load",s,!1),i.removeEventListener("error",a,!1)),new ve("unable to load "+t.src)};typeof i.width=="number"&&i.width>0&&typeof i.height=="number"&&i.height>0?s():!be.isHeadless&&typeof i.addEventListener=="function"&&(i.addEventListener("load",s,!1),i.addEventListener("error",a,!1)),t._src=ie.getAbsoluteURL(t._src),!(!be.isHeadless&&i&&i.getAttribute("two-src"))&&(be.isHeadless||i.setAttribute("two-src",t.src),ie.ImageRegistry.add(t.src,i),be.isHeadless?ie.loadHeadlessBuffer(t,s):t.image.src=t.src)},video:function(t,e){if(be.isHeadless)throw new ve("video textures are not implemented in headless environments.");let i=function(a){t.image.removeEventListener("canplaythrough",i,!1),t.image.removeEventListener("error",s,!1),t.image.width=t.image.videoWidth,t.image.height=t.image.videoHeight,typeof e=="function"&&e()},s=function(a){throw t.image.removeEventListener("canplaythrough",i,!1),t.image.removeEventListener("error",s,!1),new ve("unable to load "+t.src)};t._src=ie.getAbsoluteURL(t._src),t.image.getAttribute("two-src")||(t.image.setAttribute("two-src",t.src),ie.ImageRegistry.add(t.src,t.image)),t.image.readyState>=4?i():(t.image.addEventListener("canplaythrough",i,!1),t.image.addEventListener("error",s,!1),t.image.src=t.src,t.image.load())}});var Sa={src:{enumerable:!0,get:function(){return this._src},set:function(t){this._src=t,this._flagSrc=!0}},loaded:{enumerable:!0,get:function(){return this._loaded},set:function(t){this._loaded=t,this._flagLoaded=!0}},repeat:{enumerable:!0,get:function(){return this._repeat},set:function(t){this._repeat=t,this._flagRepeat=!0}},image:{enumerable:!0,get:function(){return this._image},set:function(t){let e=Ot.getTag(t),i;switch(e){case"canvas":i="#"+t.id;break;default:i=t.src}Ot.ImageRegistry.contains(i)?this._image=Ot.ImageRegistry.get(t.src):this._image=t,this._flagImage=!0}},offset:{enumerable:!0,get:function(){return this._offset},set:function(t){this._offset&&this._offset.unbind(z.Types.change,this._renderer.flagOffset),this._offset=t,this._offset.bind(z.Types.change,this._renderer.flagOffset),this._flagOffset=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(t){this._scale instanceof X&&this._scale.unbind(z.Types.change,this._renderer.flagScale),this._scale=t,this._scale instanceof X&&this._scale.bind(z.Types.change,this._renderer.flagScale),this._flagScale=!0}}};function ah(){this._flagOffset=!0}function oh(){this._flagScale=!0}var Mi=Math.min,Ri=Math.max,lh=Math.ceil,hh=Math.floor,fh=new X,Ki=class extends si{constructor(t,e,i,s){super(),m(this,"_flagVertices",!0),m(this,"_flagLength",!0),m(this,"_flagFill",!0),m(this,"_flagStroke",!0),m(this,"_flagLinewidth",!0),m(this,"_flagOpacity",!0),m(this,"_flagVisible",!0),m(this,"_flagCap",!0),m(this,"_flagJoin",!0),m(this,"_flagMiter",!0),m(this,"_flagMask",!1),m(this,"_flagClip",!1),m(this,"_length",0),m(this,"_fill","#fff"),m(this,"_stroke","#000"),m(this,"_linewidth",1),m(this,"_opacity",1),m(this,"_visible",!0),m(this,"_cap","round"),m(this,"_join","round"),m(this,"_miter",4),m(this,"_closed",!0),m(this,"_curved",!1),m(this,"_automatic",!0),m(this,"_beginning",0),m(this,"_ending",1),m(this,"_mask",null),m(this,"_clip",!1),m(this,"_dashes",null);for(let a in Aa)Object.defineProperty(this,a,Aa[a]);this._renderer.type="path",this._renderer.flagVertices=lo.bind(this),this._renderer.bindVertices=ho.bind(this),this._renderer.unbindVertices=fo.bind(this),this._renderer.flagFill=co.bind(this),this._renderer.flagStroke=uo.bind(this),this._renderer.vertices=[],this._renderer.collection=[],this.closed=!!e,this.curved=!!i,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=t,this.automatic=!s,this.dashes=[],this.dashes.offset=0}clone(t){let e=new Ki;for(let i=0;i<this.vertices.length;i++)e.vertices.push(this.vertices[i].clone());for(let i=0;i<Ki.Properties.length;i++){let s=Ki.Properties[i];e[s]=this[s]}return e.className=this.className,e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}toObject(){let t={vertices:this.vertices.map(function(e){return e.toObject()})};return it.each(Ki.Properties,function(e){typeof this[e]<"u"&&(this[e].toObject?t[e]=this[e].toObject():t[e]=this[e])},this),t.className=this.className,t.translation=this.translation.toObject(),t.rotation=this.rotation,t.scale=this.scale instanceof X?this.scale.toObject():this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&(t.matrix=this.matrix.toObject()),t}noFill(){return this.fill="transparent",this}noStroke(){return this.stroke=void 0,this}corner(){let t=this.getBoundingClientRect(!0),e=t.width/2,i=t.height/2,s=t.left+t.width/2,a=t.top+t.height/2;for(let c=0;c<this.vertices.length;c++){let f=this.vertices[c];f.x-=s,f.y-=a,f.x+=e,f.y+=i}return this.mask&&(this.mask.translation.x-=s,this.mask.translation.x+=e,this.mask.translation.y-=a,this.mask.translation.y+=i),this}center(){let t=this.getBoundingClientRect(!0),e=t.left+t.width/2-this.translation.x,i=t.top+t.height/2-this.translation.y;for(let s=0;s<this.vertices.length;s++){let a=this.vertices[s];a.x-=e,a.y-=i}return this.mask&&(this.mask.translation.x-=e,this.mask.translation.y-=i),this}getBoundingClientRect(t){let e,i,s,a,c,f,p=1/0,y=-1/0,_=1/0,k=-1/0;if(this._update(!0),e=t?this.matrix:this.worldMatrix,i=(this.linewidth||0)/2,s=this._renderer.vertices.length,this.linewidth>0||this.stroke&&this.stroke!=="transparent")if(this.matrix.manual){let{scaleX:S,scaleY:A}=Oi(e.elements[0],e.elements[3],e.elements[1],e.elements[4],e.elements[2],e.elements[5]);typeof S=="number"&&typeof A=="number"&&(i=Math.max(S,A)*(this.linewidth||0)/2)}else i*=typeof this.scale=="number"?this.scale:Math.max(this.scale.x,this.scale.y);if(s<=0)return{width:0,height:0};for(a=0;a<s;a++){f=this._renderer.vertices[a],c=this._renderer.vertices[(a+s-1)%s];let[S,A]=e.multiply(c.x,c.y),[v,T]=e.multiply(f.x,f.y);if(c.controls&&f.controls){let I=c.controls.right.x,R=c.controls.right.y;c.relative&&(I+=c.x,R+=c.y);let[M,P]=e.multiply(I,R),B=f.controls.left.x,H=f.controls.left.y;f.relative&&(B+=f.x,H+=f.y);let[q,l]=e.multiply(B,H),$=Za(S,A,M,P,q,l,v,T);_=Mi($.min.y-i,_),p=Mi($.min.x-i,p),y=Ri($.max.x+i,y),k=Ri($.max.y+i,k)}else a<=1&&(_=Mi(A-i,_),p=Mi(S-i,p),y=Ri(S+i,y),k=Ri(A+i,k)),_=Mi(T-i,_),p=Mi(v-i,p),y=Ri(v+i,y),k=Ri(T+i,k)}return{top:_,left:p,right:y,bottom:k,width:y-p,height:k-_}}getPointAt(t,e){let i,s,a,c,f,p,y,_,k,S,A,v,T,I,R,M=this.length*Math.min(Math.max(t,0),1),P=this.vertices.length,B=P-1,H=null,q=null;for(let Et=0,ft=this._lengths.length,st=0;Et<ft;Et++){if(st+this._lengths[Et]>=M){this._closed?(i=xe(Et,P),s=xe(Et-1,P),Et===0&&(i=s,s=Et)):(i=Et,s=Math.min(Math.max(Et-1,0),B)),H=this.vertices[i],q=this.vertices[s],M-=st,this._lengths[Et]!==0?t=M/this._lengths[Et]:t=0;break}st+=this._lengths[Et]}if(H===null||q===null)return null;if(H){if(!q)return H}else return q;R=q.controls&&q.controls.right,I=H.controls&&H.controls.left,f=q.x,S=q.y,p=(R||q).x,A=(R||q).y,y=(I||H).x,v=(I||H).y,_=H.x,T=H.y,R&&q.relative&&(p+=q.x,A+=q.y),I&&H.relative&&(y+=H.x,v+=H.y),c=Zi(t,f,p,y,_),k=Zi(t,S,A,v,T);let l=me(f,p,t),$=me(S,A,t),Y=me(p,y,t),K=me(A,v,t),Q=me(y,_,t),ht=me(v,T,t),tt=me(l,Y,t),At=me($,K,t),yt=me(Y,Q,t),$t=me(K,ht,t);return it.isObject(e)?(e.x=c,e.y=k,e instanceof xt&&(e.controls.left.x=tt,e.controls.left.y=At,e.controls.right.x=yt,e.controls.right.y=$t,(typeof e.relative!="boolean"||e.relative)&&(e.controls.left.x-=c,e.controls.left.y-=k,e.controls.right.x-=c,e.controls.right.y-=k)),e.t=t,e):(a=new xt(c,k,tt-c,At-k,yt-c,$t-k,this._curved?W.curve:W.line),a.t=t,a)}plot(){if(this.curved)return eo(this._collection,this.closed),this;for(let t=0;t<this._collection.length;t++)this._collection[t].command=t===0?W.move:W.line;return this}subdivide(t){this._update();let e=this.vertices.length-1,i=this._closed||this.vertices[e]._command===W.close,s=this.vertices[e],a=[],c;return it.each(this.vertices,function(f,p){if(p<=0&&!i){s=f;return}if(f.command===W.move){a.push(new xt(s.x,s.y)),p>0&&(a[a.length-1].command=W.line),s=f;return}c=va(f,s,t),a=a.concat(c),it.each(c,function(y,_){_<=0&&s.command===W.move?y.command=W.move:y.command=W.line}),p>=e&&(this._closed&&this._automatic?(s=f,c=va(f,s,t),a=a.concat(c),it.each(c,function(y,_){_<=0&&s.command===W.move?y.command=W.move:y.command=W.line})):i&&a.push(new xt(f.x,f.y)),a[a.length-1].command=i?W.close:W.line),s=f},this),this._automatic=!1,this._curved=!1,this.vertices=a,this}_updateLength(t,e){e||this._update();let i=this.vertices.length,s=i-1,a=!1,c=this.vertices[s],f=0;return typeof this._lengths>"u"&&(this._lengths=[]),it.each(this.vertices,function(p,y){if(y<=0&&!a||p.command===W.move){c=p,this._lengths[y]=0;return}this._lengths[y]=Xn(p,c,t),f+=this._lengths[y],y>=s&&a&&(c=this.vertices[(y+1)%i],this._lengths[y+1]=Xn(p,c,t),f+=this._lengths[y+1]),c=p},this),this._length=f,this._flagLength=!1,this}_update(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);let t=this._collection.length,e=this._closed,i=Math.min(this._beginning,this._ending),s=Math.max(this._beginning,this._ending),a=Wr(this,i*this._length),c=Wr(this,s*this._length),f=lh(a),p=hh(c),y,_,k,S,A,v;for(this._renderer.vertices.length=0,v=0;v<t;v++)this._renderer.collection.length<=v&&this._renderer.collection.push(new xt),v>p&&!_?(A=this._renderer.collection[v].copy(this._collection[v]),this.getPointAt(s,A),A.command=this._renderer.collection[v].command,this._renderer.vertices.push(A),_=A,k=this._collection[v-1],k&&k.controls&&(A.relative?A.controls.right.clear():A.controls.right.copy(A),k.relative?this._renderer.collection[v-1].controls.right.copy(k.controls.right).lerp(X.zero,1-A.t):this._renderer.collection[v-1].controls.right.copy(k.controls.right).lerp(k,1-A.t))):v>=f&&v<=p&&(A=this._renderer.collection[v].copy(this._collection[v]),this._renderer.vertices.push(A),v===p&&ba(this,s)?(_=A,!e&&_.controls&&(_.relative?_.controls.right.clear():_.controls.right.copy(_))):v===f&&ba(this,i)&&(y=A,y.command=W.move,!e&&y.controls&&(y.relative?y.controls.left.clear():y.controls.left.copy(y))));f>0&&!y&&(v=f-1,A=this._renderer.collection[v].copy(this._collection[v]),this.getPointAt(i,A),A.command=W.move,this._renderer.vertices.unshift(A),S=this._collection[v+1],S&&S.controls&&(A.controls.left.clear(),S.relative?this._renderer.collection[v+1].controls.left.copy(S.controls.left).lerp(X.zero,A.t):(fh.copy(S),this._renderer.collection[v+1].controls.left.copy(S.controls.left).lerp(S,A.t))))}return si.prototype._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,si.prototype.flagReset.call(this),this}},St=Ki;m(St,"Properties",["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending"]);m(St,"Utils",{getCurveLength:Xn});var Aa={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(t){this._linewidth=t,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._opacity=t,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(t){this._visible=t,this._flagVisible=!0}},cap:{enumerable:!0,get:function(){return this._cap},set:function(t){this._cap=t,this._flagCap=!0}},join:{enumerable:!0,get:function(){return this._join},set:function(t){this._join=t,this._flagJoin=!0}},miter:{enumerable:!0,get:function(){return this._miter},set:function(t){this._miter=t,this._flagMiter=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof Qt||this._fill instanceof qt||this._fill instanceof Ht||this._fill instanceof Ot)&&this._fill.unbind(z.Types.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof Qt||this._fill instanceof qt||this._fill instanceof Ht||this._fill instanceof Ot)&&this._fill.bind(z.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof Qt||this._stroke instanceof qt||this._stroke instanceof Ht||this._stroke instanceof Ot)&&this._stroke.unbind(z.Types.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof Qt||this._stroke instanceof qt||this._stroke instanceof Ht||this._stroke instanceof Ot)&&this._stroke.bind(z.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},closed:{enumerable:!0,get:function(){return this._closed},set:function(t){this._closed=!!t,this._flagVertices=!0}},curved:{enumerable:!0,get:function(){return this._curved},set:function(t){this._curved=!!t,this._flagVertices=!0}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(t){if(t===this._automatic)return;this._automatic=!!t;let e=this._automatic?"ignore":"listen";it.each(this.vertices,function(i){i[e]()})}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(t){this._beginning=t,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(t){this._ending=t,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(t){let e=this._renderer.bindVertices,i=this._renderer.unbindVertices;this._collection&&this._collection.unbind(z.Types.insert,e).unbind(z.Types.remove,i),t instanceof ai?this._collection=t:this._collection=new ai(t||[]),this._collection.bind(z.Types.insert,e).bind(z.Types.remove,i),e(this._collection)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,it.isObject(t)&&!t.clip&&(t.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(t){typeof t.offset!="number"&&(t.offset=this.dashes&&this._dashes.offset||0),this._dashes=t}}};function lo(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)}function ho(t){let e=t.length;for(;e--;)t[e].bind(z.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function fo(t){let e=t.length;for(;e--;)t[e].unbind(z.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function co(){this._flagFill=!0}function uo(){this._flagStroke=!0}var po=class extends St{constructor(t,e,i,s){let a=[new xt,new xt,new xt,new xt];super(a,!0,!1,!0),m(this,"_flagWidth",0),m(this,"_flagHeight",0),m(this,"_width",0),m(this,"_height",0),m(this,"_origin",null);for(let c in Ea)Object.defineProperty(this,c,Ea[c]);this.width=typeof i=="number"?i:1,this.height=typeof s=="number"?s:1,this.origin=new X,typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e),this._update()}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){let t=this._width/2,e=this._height/2;!this._closed&&this.vertices.length===4&&this.vertices.push(new xt),this.vertices[0].set(-t,-e).sub(this._origin).command=W.move,this.vertices[1].set(t,-e).sub(this._origin).command=W.line,this.vertices[2].set(t,e).sub(this._origin).command=W.line,this.vertices[3].set(-t,e).sub(this._origin).command=W.line,this.vertices[4]&&(this.vertices[4].set(-t,-e).sub(this._origin).command=W.line)}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(t){let e=new po(0,0,this.width,this.height);e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix);for(let i=0;i<St.Properties.length;i++){let s=St.Properties[i];e[s]=this[s]}return t&&t.add(e),e}toObject(){let t=super.toObject.call(this);return t.width=this.width,t.height=this.height,t.origin=this.origin.toObject(),t}},gi=po;m(gi,"Properties",["width","height"]);var Ea={width:{enumerable:!0,get:function(){return this._width},set:function(t){this._width=t,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(t){this._height=t,this._flagHeight=!0}},origin:{enumerable:!0,get:function(){return this._origin},set:function(t){this._origin&&this._origin.unbind(z.Types.change,this._renderer.flagVertices),this._origin=t,this._origin.bind(z.Types.change,this._renderer.flagVertices),this._renderer.flagVertices()}}},go=class extends gi{constructor(t,e,i,s,a,c){super(e,i,0,0),m(this,"_flagTexture",!1),m(this,"_flagColumns",!1),m(this,"_flagRows",!1),m(this,"_flagFrameRate",!1),m(this,"_flagIndex",!1),m(this,"_amount",1),m(this,"_duration",0),m(this,"_startTime",0),m(this,"_playing",!1),m(this,"_firstFrame",0),m(this,"_lastFrame",0),m(this,"_loop",!0),m(this,"_texture",null),m(this,"_columns",1),m(this,"_rows",1),m(this,"_frameRate",0),m(this,"_index",0),m(this,"_origin",null);for(let f in Ca)Object.defineProperty(this,f,Ca[f]);this.noStroke(),this.noFill(),t instanceof Ot?this.texture=t:typeof t=="string"&&(this.texture=new Ot(t)),this.origin=new X,this._update(),typeof s=="number"&&(this.columns=s),typeof a=="number"&&(this.rows=a),typeof c=="number"&&(this.frameRate=c),this.index=0}play(t,e,i){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=it.performance.now(),typeof t=="number"&&(this._firstFrame=t),typeof e=="number"&&(this._lastFrame=e),typeof i=="function"?this._onLastFrame=i:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=0,this}clone(t){let e=new go(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);return this.playing&&(e.play(this._firstFrame,this._lastFrame),e._loop=this._loop),t&&t.add(e),e}toObject(){let t=super.toObject.call(this);return t.texture=this.texture.toObject(),t.columns=this.columns,t.rows=this.rows,t.frameRate=this.frameRate,t.index=this.index,t._firstFrame=this._firstFrame,t._lastFrame=this._lastFrame,t._loop=this._loop,t}_update(){let t=this._texture,e=this._columns,i=this._rows,s,a,c,f,p,y,_,k,S;if(t&&((this._flagColumns||this._flagRows)&&(this._amount=this._columns*this._rows),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._flagTexture&&(this.fill=t),t.loaded)){_=t.image.width,k=t.image.height,s=_/e,a=k/i,f=this._amount,this.width!==s&&(this.width=s),this.height!==a&&(this.height=a),this._playing&&this._frameRate>0&&(it.isNaN(this._lastFrame)&&(this._lastFrame=f-1),c=it.performance.now()-this._startTime,S=this._lastFrame+1,p=1e3*(S-this._firstFrame)/this._frameRate,this._loop?c=c%p:c=Math.min(c,p),y=me(this._firstFrame,S,c/p),y=Math.floor(y),y!==this._index&&(this._index=y,y>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()));let A=this._index%e,v=Math.floor(this._index/e),T=-s*A+(_-s)/2,I=-a*v+(k-a)/2;T!==t.offset.x&&(t.offset.x=T),I!==t.offset.y&&(t.offset.y=I)}return super._update.call(this),this}flagReset(){return this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=!1,super.flagReset.call(this),this}},Xr=go;m(Xr,"Properties",["texture","columns","rows","frameRate","index"]);var Ca={texture:{enumerable:!0,get:function(){return this._texture},set:function(t){this._texture=t,this._flagTexture=!0}},columns:{enumerable:!0,get:function(){return this._columns},set:function(t){this._columns=t,this._flagColumns=!0}},rows:{enumerable:!0,get:function(){return this._rows},set:function(t){this._rows=t,this._flagRows=!0}},frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(t){this._frameRate=t,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(t){this._index=t,this._flagIndex=!0}}},qn=Math.cos,Hn=Math.sin,jr=class extends St{constructor(t,e,i,s){let a=s?Math.max(s,2):4,c=[];for(let f=0;f<a;f++)c.push(new xt(0,0,0,0,0,0));super(c,!0,!0,!0),m(this,"_flagRadius",!1),m(this,"_radius",0);for(let f in Ma)Object.defineProperty(this,f,Ma[f]);typeof i=="number"&&(this.radius=i),this._update(),typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagRadius){let t=this.vertices.length;!this._closed&&t>2&&(t-=1);let e=4/3*Math.tan(Math.PI/(t*2)),i=this._radius,s=i*e;for(let a=0;a<this.vertices.length;a++){let f=a/t*le,p=i*qn(f),y=i*Hn(f),_=s*qn(f-ee),k=s*Hn(f-ee),S=s*qn(f+ee),A=s*Hn(f+ee),v=this.vertices[a];v.command=a===0?W.move:W.curve,v.set(p,y),v.controls.left.set(_,k),v.controls.right.set(S,A)}}return super._update.call(this),this}flagReset(){return this._flagRadius=!1,super.flagReset.call(this),this}clone(t){let e=new jr(0,0,this.radius,this.vertices.length);e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix);for(let i=0;i<St.Properties.length;i++){let s=St.Properties[i];e[s]=this[s]}return t&&t.add(e),e}toObject(){let t=super.toObject.call(this);for(let e=0;e<jr.Properties.length;e++){let i=jr.Properties[e];t[i]=this[i]}return t}},Yr=jr;m(Yr,"Properties",["radius"]);var Ma={radius:{enumerable:!0,get:function(){return this._radius},set:function(t){this._radius=t,this._flagRadius=!0}}},Un=Math.cos,Wn=Math.sin,Dr=class extends St{constructor(t,e,i,s,a){typeof s!="number"&&typeof i=="number"&&(s=i);let c=a?Math.max(a,2):4,f=[];for(let p=0;p<c;p++)f.push(new xt);super(f,!0,!0,!0),m(this,"_flagWidth",!1),m(this,"_flagHeight",!1),m(this,"_width",0),m(this,"_height",0);for(let p in Ra)Object.defineProperty(this,p,Ra[p]);typeof i=="number"&&(this.width=i*2),typeof s=="number"&&(this.height=s*2),this._update(),typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){let t=this.vertices.length;!this._closed&&t>2&&(t-=1);let e=4/3*Math.tan(Math.PI/(this.vertices.length*2)),i=this._width/2,s=this._height/2;for(let a=0;a<this.vertices.length;a++){let f=a/t*le,p=i*Un(f),y=s*Wn(f),_=i*e*Un(f-ee),k=s*e*Wn(f-ee),S=i*e*Un(f+ee),A=s*e*Wn(f+ee),v=this.vertices[a];v.command=a===0?W.move:W.curve,v.set(p,y),v.controls.left.set(_,k),v.controls.right.set(S,A)}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(t){let e=this.width/2,i=this.height/2,s=this.vertices.length,a=new Dr(0,0,e,i,s);a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix);for(let c=0;c<St.Properties.length;c++){let f=St.Properties[c];a[f]=this[f]}return t&&t.add(a),a}toObject(){let t=super.toObject.call(this);for(let e=0;e<Dr.Properties.length;e++){let i=Dr.Properties[e];t[i]=this[i]}return t}},Gr=Dr;m(Gr,"Properties",["width","height"]);var Ra={width:{enumerable:!0,get:function(){return this._width},set:function(t){this._width=t,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(t){this._height=t,this._flagHeight=!0}}},Zn=class extends St{constructor(t,e,i,s){let a=[new xt(t,e),new xt(i,s)];super(a);for(let c in Fa)Object.defineProperty(this,c,Fa[c]);this.vertices[0].command=W.move,this.vertices[1].command=W.line,this.automatic=!1}},Fa={left:{enumerable:!0,get:function(){return this.vertices[0]},set:function(t){if(it.isObject(t))this.vertices.splice(0,1,t);else{let e=new ve("Two.Line.x argument is not an object.");console.warn(e.name,e.message)}}},right:{enumerable:!0,get:function(){return this.vertices[1]},set:function(t){if(it.isObject(t))this.vertices.splice(1,1,t);else{let e=new ve("Two.Line.y argument is not an object.");console.warn(e.name,e.message)}}}},Br=class extends St{constructor(t,e,i,s,a){typeof a>"u"&&typeof i=="number"&&typeof s=="number"&&(a=Math.floor(Math.min(i,s)/12));let c=[];for(let f=0;f<10;f++)c.push(new xt(0,0,0,0,0,0,f===0?W.move:W.curve));super(c),m(this,"_flagWidth",!1),m(this,"_flagHeight",!1),m(this,"_flagRadius",!1),m(this,"_width",0),m(this,"_height",0),m(this,"_radius",12);for(let f in Oa)Object.defineProperty(this,f,Oa[f]);this.closed=!0,this.automatic=!1,this._renderer.flagRadius=ch.bind(this),typeof i=="number"&&(this.width=i),typeof s=="number"&&(this.height=s),typeof a=="number"&&(this.radius=a),this._update(),typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagRadius){let t=this._width,e=this._height,i,s;this._radius instanceof X?(i=this._radius.x,s=this._radius.y):(i=this._radius,s=this._radius);let a,c=t/2,f=e/2;a=this.vertices[0],a.x=-(c-i),a.y=-f,a=this.vertices[1],a.x=c-i,a.y=-f,a.controls.left.clear(),a.controls.right.x=i,a.controls.right.y=0,a=this.vertices[2],a.x=c,a.y=-(f-s),a.controls.right.clear(),a.controls.left.clear(),a=this.vertices[3],a.x=c,a.y=f-s,a.controls.left.clear(),a.controls.right.x=0,a.controls.right.y=s,a=this.vertices[4],a.x=c-i,a.y=f,a.controls.right.clear(),a.controls.left.clear(),a=this.vertices[5],a.x=-(c-i),a.y=f,a.controls.left.clear(),a.controls.right.x=-i,a.controls.right.y=0,a=this.vertices[6],a.x=-c,a.y=f-s,a.controls.left.clear(),a.controls.right.clear(),a=this.vertices[7],a.x=-c,a.y=-(f-s),a.controls.left.clear(),a.controls.right.x=0,a.controls.right.y=-s,a=this.vertices[8],a.x=-(c-i),a.y=-f,a.controls.left.clear(),a.controls.right.clear(),a=this.vertices[9],a.copy(this.vertices[8])}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,super.flagReset.call(this),this}clone(t){let e=this.width,i=this.height,s=this.radius,a=new Br(0,0,e,i,s);a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix);for(let c=0;c<St.Properties.length;c++){let f=St.Properties[c];a[f]=this[f]}return t&&t.add(a),a}toObject(){let t=super.toObject.call(this);for(let e=0;e<Br.Properties.length;e++){let i=Br.Properties[e];t[i]=this[i]}return t.radius=typeof this.radius=="number"?this.radius:this.radius.toObject(),t}},Kr=Br;m(Kr,"Properties",["width","height","radius"]);var Oa={width:{enumerable:!0,get:function(){return this._width},set:function(t){this._width=t,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(t){this._height=t,this._flagHeight=!0}},radius:{enumerable:!0,get:function(){return this._radius},set:function(t){this._radius instanceof X&&this._radius.unbind(z.Types.change,this._renderer.flagRadius),this._radius=t,this._radius instanceof X&&this._radius.bind(z.Types.change,this._renderer.flagRadius),this._flagRadius=!0}}};function ch(){this._flagRadius=!0}var Yn,Pa=Math.min,La=Math.max;Ut.document&&(Yn=document.createElement("canvas"));var qe=class extends si{constructor(t,e,i,s){super(),m(this,"_flagValue",!0),m(this,"_flagFamily",!0),m(this,"_flagSize",!0),m(this,"_flagLeading",!0),m(this,"_flagAlignment",!0),m(this,"_flagBaseline",!0),m(this,"_flagStyle",!0),m(this,"_flagWeight",!0),m(this,"_flagDecoration",!0),m(this,"_flagFill",!0),m(this,"_flagStroke",!0),m(this,"_flagLinewidth",!0),m(this,"_flagOpacity",!0),m(this,"_flagVisible",!0),m(this,"_flagMask",!1),m(this,"_flagClip",!1),m(this,"_value",""),m(this,"_family","sans-serif"),m(this,"_size",13),m(this,"_leading",17),m(this,"_alignment","center"),m(this,"_baseline","middle"),m(this,"_style","normal"),m(this,"_weight",500),m(this,"_decoration","none"),m(this,"_fill","#000"),m(this,"_stroke","transparent"),m(this,"_linewidth",1),m(this,"_opacity",1),m(this,"_visible",!0),m(this,"_mask",null),m(this,"_clip",!1),m(this,"_dashes",null);for(let a in Na)Object.defineProperty(this,a,Na[a]);if(this._renderer.type="text",this._renderer.flagFill=uh.bind(this),this._renderer.flagStroke=dh.bind(this),this.value=t,typeof e=="number"&&(this.translation.x=e),typeof i=="number"&&(this.translation.y=i),this.dashes=[],this.dashes.offset=0,!it.isObject(s))return this;for(let a=0;a<qe.Properties.length;a++){let c=qe.Properties[a];c in s&&(this[c]=s[c])}}static Measure(t){if(Yn){let e=Yn.getContext("2d");e.font=[t._style,t._weight,`${t._size}px/${t._leading}px`,t._family].join(" ");let i=e.measureText(t.value,0,0),s=i.actualBoundingBoxDescent+i.actualBoundingBoxAscent;return{width:i.width,height:s}}else{let e=this.value.length*this.size*qe.Ratio,i=this.leading;return console.warn("Two.Text: unable to accurately measure text, so using an approximation."),{width:e,height:i}}}clone(t){let e=new qe(this.value);e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale;for(let i=0;i<qe.Properties.length;i++){let s=qe.Properties[i];e[s]=this[s]}return this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}toObject(){let t={translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale};this.matrix.manual&&(t.matrix=this.matrix.toObject());for(let e=0;e<qe.Properties.length;e++){let i=qe.Properties[e];t[i]=this[i]}return t}noFill(){return this.fill="transparent",this}noStroke(){return this.stroke=void 0,this.linewidth=void 0,this}getBoundingClientRect(t){let e,i,s,a,c;this._update(!0),e=t?this.matrix:this.worldMatrix;let{width:f,height:p}=qe.Measure(this),y=(this._linewidth||0)/2;switch(this.alignment){case"left":i=-y,s=f+y;break;case"right":i=-(f+y),s=y;break;default:i=-(f/2+y),s=f/2+y}switch(this.baseline){case"middle":a=-(p/2+y),c=p/2+y;break;default:a=-(p+y),c=y}let[_,k]=e.multiply(i,a),[S,A]=e.multiply(i,c),[v,T]=e.multiply(s,a),[I,R]=e.multiply(s,c);return a=Pa(k,A,T,R),i=Pa(_,S,v,I),s=La(_,S,v,I),c=La(k,A,T,R),{top:a,left:i,right:s,bottom:c,width:s-i,height:c-a}}flagReset(){return super.flagReset.call(this),this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=this._flagWeight=this._flagStyle=!1,this}},Oe=qe;m(Oe,"Ratio",.6);m(Oe,"Properties",["value","family","size","leading","alignment","linewidth","style","weight","decoration","baseline","opacity","visible","fill","stroke"]);var Na={value:{enumerable:!0,get:function(){return this._value},set:function(t){this._value=t,this._flagValue=!0}},family:{enumerable:!0,get:function(){return this._family},set:function(t){this._family=t,this._flagFamily=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(t){this._size=t,this._flagSize=!0}},leading:{enumerable:!0,get:function(){return this._leading},set:function(t){this._leading=t,this._flagLeading=!0}},alignment:{enumerable:!0,get:function(){return this._alignment},set:function(t){this._alignment=t,this._flagAlignment=!0}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(t){this._linewidth=t,this._flagLinewidth=!0}},style:{enumerable:!0,get:function(){return this._style},set:function(t){this._style=t,this._flagStyle=!0}},weight:{enumerable:!0,get:function(){return this._weight},set:function(t){this._weight=t,this._flagWeight=!0}},decoration:{enumerable:!0,get:function(){return this._decoration},set:function(t){this._decoration=t,this._flagDecoration=!0}},baseline:{enumerable:!0,get:function(){return this._baseline},set:function(t){this._baseline=t,this._flagBaseline=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._opacity=t,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(t){this._visible=t,this._flagVisible=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof Qt||this._fill instanceof qt||this._fill instanceof Ht||this._fill instanceof Ot)&&this._fill.unbind(z.Types.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof Qt||this._fill instanceof qt||this._fill instanceof Ht||this._fill instanceof Ot)&&this._fill.bind(z.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof Qt||this._stroke instanceof qt||this._stroke instanceof Ht||this._stroke instanceof Ot)&&this._stroke.unbind(z.Types.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof Qt||this._stroke instanceof qt||this._stroke instanceof Ht||this._stroke instanceof Ot)&&this._stroke.bind(z.Types.change,this._renderer.flagStroke)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,it.isObject(t)&&!t.clip&&(t.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(t){typeof t.offset!="number"&&(t.offset=this.dashes&&this._dashes.offset||0),this._dashes=t}}};function uh(){this._flagFill=!0}function dh(){this._flagStroke=!0}var He={path:/[+-]?(?:\d*\.\d+|\d+)(?:[eE][+-]\d+)?/g,cssBackgroundImage:/url\(['"]?#([\w\d-_]*)['"]?\)/i,unitSuffix:/[a-zA-Z%]*/i},ph={start:"left",middle:"center",end:"right"},Ia=["id","class","transform","xmlns","viewBox"],gh=["x","y","width","height","href","xlink:href"];function _h(t){return ph[t]}function mh(t){let e=t.getAttribute("dominant-baseline"),i=t.getAttribute("alignment-baseline");return e||i}function tr(t){return t.replace(/svg:/ig,"").toLowerCase()}function ja(t,e){if(e.x+=t.translateX,e.y+=t.translateY,e.x*=t.scaleX,e.y*=t.scaleY,t.rotation!==0){let i=e.length();e.x=i*Math.cos(t.rotation),e.y=i*Math.sin(t.rotation)}}function yh(t,e){e||(e={});let i=t.split(";");for(let s=0;s<i.length;s++){let a=i[s].split(":"),c=a[0],f=a[1];typeof c>"u"||typeof f>"u"||(e[c]=f.replace(/\s/,""))}return e}function bh(t){let e={},i=vh(t),s=Math.max(i.length,t.style.length);for(let a=0;a<s;a++){let c=t.style[a],f=i[a];c&&(e[c]=t.style[c]),f&&(e[f]=t.getAttribute(f))}return e}function vh(t){let e=t.getAttributeNames();for(let i=0;i<Ia.length;i++){let s=Ia[i],a=Array.prototype.indexOf.call(e,s);a>=0&&e.splice(a,1)}return e}function xh(t,e){let i=e.split(/[\s,]/),s=-parseFloat(i[0]),a=-parseFloat(i[1]),c=parseFloat(i[2]),f=parseFloat(i[3]);if(s&&a)for(let S=0;S<t.children.length;S++){let A=t.children[S];"translation"in A?A.translation.add(s,a):"x"in A?A.x=s:"y"in A&&(A.y=a)}let p=typeof t.x=="number",y=typeof t.y=="number",_=typeof t.width=="number",k=typeof t.height=="number";return p&&(t.translation.x+=t.x),y&&(t.translation.y+=t.y),(_||k)&&(t.scale=new X(1,1)),_&&(t.scale.x=t.width/c),k&&(t.scale.y=t.height/f),t.mask=new gi(0,0,c,f),t.mask.origin.set(-c/2,-f/2),t}function Ee(t,e,i){let s={},a={},c={},f,p,y,_,k,S,A,v,T,I,R,M,P,B,H,q,l;if(t===null)return s;if(Ut.getComputedStyle){let $=Ut.getComputedStyle(t);for(f=$.length;f--;)y=$[f],_=$[y],typeof _<"u"&&(s[y]=_)}for(f=0;f<t.attributes.length;f++)S=t.attributes[f],/style/i.test(S.nodeName)?yh(S.value,c):a[S.nodeName]=S.value;typeof s.opacity<"u"&&(s["stroke-opacity"]=s.opacity,s["fill-opacity"]=s.opacity,delete s.opacity),i&&it.defaults(s,i),it.extend(s,c,a),s.visible=!(typeof s.display>"u"&&/none/i.test(s.display))||typeof s.visibility>"u"&&/hidden/i.test(s.visibility);for(y in s)switch(_=s[y],y){case"gradientTransform":if(/none/i.test(_)||(p=t.gradientTransform&&t.gradientTransform.baseVal&&t.gradientTransform.baseVal.length>0?t.gradientTransform.baseVal[0].matrix:t.getCTM?t.getCTM():null,p===null))break;switch(A=Oi(p),e._renderer.type){case"linear-gradient":ja(A,e.left),ja(A,e.right);break;case"radial-gradient":e.center.x+=A.translateX,e.center.y+=A.translateY,e.focal.x+=A.translateX,e.focal.y+=A.translateY,e.radius*=Math.max(A.scaleX,A.scaleY);break}break;case"transform":if(/none/i.test(_)||(p=t.transform&&t.transform.baseVal&&t.transform.baseVal.length>0?t.transform.baseVal[0].matrix:t.getCTM?t.getCTM():null,p===null))break;Jt.AutoCalculateImportedMatrices?(A=Oi(p),e.translation.set(A.translateX,A.translateY),e.rotation=Math.PI*(A.rotation/180),e.scale=new X(A.scaleX,A.scaleY),v=parseFloat((s.x+"").replace("px")),T=parseFloat((s.y+"").replace("px")),v&&(e.translation.x=v),T&&(e.translation.y=T)):(p=t.getCTM(),e._matrix.manual=!0,e._matrix.set(p.a,p.b,p.c,p.d,p.e,p.f));break;case"visible":if(e instanceof Kt){e._visible=_;break}e.visible=_;break;case"stroke-linecap":if(e instanceof Kt){e._cap=_;break}e.cap=_;break;case"stroke-linejoin":if(e instanceof Kt){e._join=_;break}e.join=_;break;case"stroke-miterlimit":if(e instanceof Kt){e._miter=_;break}e.miter=_;break;case"stroke-width":if(e instanceof Kt){e._linewidth=parseFloat(_);break}e.linewidth=parseFloat(_);break;case"opacity":case"stroke-opacity":case"fill-opacity":if(e instanceof Kt){e._opacity=parseFloat(_);break}e.opacity=parseFloat(_);break;case"clip-path":if(He.cssBackgroundImage.test(_)&&(I=_.replace(He.cssBackgroundImage,"$1"),zt.defs.current&&zt.defs.current.contains(I)&&(M=zt.defs.current.get(I),M&&M.childNodes.length>0)))switch(M=M.childNodes[0],P=tr(M.nodeName),e.mask=zt[P].call(this,M,{}),e._renderer.type){case"text":case"path":e.position.add(e.mask.position),e.mask.position.clear();break}break;case"fill":case"stroke":k=(e instanceof Kt?"_":"")+y,He.cssBackgroundImage.test(_)?(I=_.replace(He.cssBackgroundImage,"$1"),zt.defs.current&&zt.defs.current.contains(I)?(M=zt.defs.current.get(I),M.object||(P=tr(M.nodeName),M.object=zt[P].call(this,M,{})),M=M.object):(R=kh(this),M=R.getById(I)),e[k]=M):e[k]=/none/i.test(_)?"transparent":_;break;case"id":e.id=_;break;case"class":case"className":e.classList=_.split(" "),e._flagClassName=!0;break;case"x":case"y":if(B=e instanceof Qt,H=e instanceof qt,q=e instanceof Ht,B||H||q)break;_.match("[a-z%]$")&&!_.endsWith("px")&&(l=new ve("only pixel values are supported with the "+y+" attribute."),console.warn(l.name,l.message)),e.translation[y]=parseFloat(_);break;case"font-family":e instanceof Oe&&(e.family=_);break;case"font-size":e instanceof Oe&&(e.size=_);break;case"font-weight":e instanceof Oe&&(e.weight=_);break;case"font-style":e instanceof Oe&&(e.style=_);break;case"text-decoration":e instanceof Oe&&(e.decoration=_);break;case"line-height":e instanceof Oe&&(e.leading=_);break}return Object.keys(t.dataset).length&&(e.dataset=t.dataset),s}function wh(t,e){for(let i=0,s=t.childNodes.length;i<s;i++){let a=t.childNodes[i];!a.id||tr(t.nodeName)==="#text"||e.add(a.id,a)}}function kh(t){for(;t.parent;)t=t.parent;return t.scene}var zt={svg:function(t){let e=zt.defs.current=new $r,i=t.getElementsByTagName("defs");for(let T=0;T<i.length;T++)wh(i[T],e);let s=zt.g.call(this,t),a=t.getAttribute("viewBox"),c=t.getAttribute("x"),f=t.getAttribute("y"),p=t.getAttribute("width"),y=t.getAttribute("height");s.defs=e;let _=a!==null,k=c!==null,S=f!==null,A=p!==null,v=y!==null;return k&&(s.x=parseFloat(c.replace(He.unitSuffix,""))),S&&(s.y=parseFloat(f.replace(He.unitSuffix,""))),A&&(s.width=parseFloat(p.replace(He.unitSuffix,""))),v&&(s.height=parseFloat(y.replace(He.unitSuffix,""))),_&&xh(s,a),delete zt.defs.current,s},defs:function(t){return null},use:function(t,e){let i,s=t.getAttribute("href")||t.getAttribute("xlink:href");if(!s)return i=new ve("encountered <use /> with no href."),console.warn(i.name,i.message),null;let a=s.slice(1);if(!zt.defs.current.contains(a))return i=new ve("unable to find element for reference "+s+"."),console.warn(i.name,i.message),null;let f=zt.defs.current.get(a).cloneNode(!0);for(let y=0;y<t.attributes.length;y++){let _=t.attributes[y],k=gh.includes(_.nodeName),S=!f.hasAttribute(_.nodeName);(k||S)&&f.setAttribute(_.nodeName,_.value)}let p=tr(f.nodeName);return zt[p].call(this,f,e)},g:function(t,e){let i=new Kt;Ee.call(this,t,i,e),this.add(i);let s=bh.call(this,t);for(let a=0,c=t.childNodes.length;a<c;a++){let f=t.childNodes[a],p=f.nodeName;if(!p)return;let y=tr(p);if(y in zt){let _=zt[y].call(i,f,s);!!_&&!_.parent&&i.add(_)}}return i},polygon:function(t,e){let i;typeof t=="string"?i=t:i=t.getAttribute("points");let s=[];i.replace(/(-?[\d.eE-]+)[,|\s](-?[\d.eE-]+)/g,function(c,f,p){s.push(new xt(parseFloat(f),parseFloat(p)))});let a=new St(s,!0).noStroke();return a.fill="black",Ee.call(this,t,a,e),a},polyline:function(t,e){let i=zt.polygon.call(this,t,e);return i.closed=!1,i},path:function(t,e){let i;typeof t=="string"?(i=t,t=null):i=t.getAttribute("d");let s=[],a=!1,c=!1;if(i){let p=new xt,y,_,k=i.match(/[a-df-z][^a-df-z]*/ig),S=k.length-1;it.each(k.slice(0),function(A,v){let T=A.slice(1).trim().match(He.path),I=A[0],R=I.toLowerCase(),M,P,B,H,q,l=[];switch(v===0&&(k=[]),R){case"h":case"v":T.length>1&&(M=1);break;case"m":case"l":case"t":T.length>2&&(M=2);break;case"s":case"q":T.length>4&&(M=4);break;case"c":T.length>6&&(M=6);break;case"a":T.length>7&&(M=7);break}if(M){for(P=0,B=T.length,q=0;P<B;P+=M){if(H=I,q>0)switch(I){case"m":H="l";break;case"M":H="L";break}l.push(H+T.slice(P,P+M).join(" ")),q++}k=Array.prototype.concat.apply(k,l)}else k.push(A)}),it.each(k,function(A,v){let T,I,R,M=A[0],P=M.toLowerCase();_=A.slice(1).trim().match(He.path),c=M===P;let B,H,q,l,$,Y,K,Q,ht,tt,At,yt,$t,Et,ft,st,pt;switch(P){case"z":if(v>=S)a=!0;else{I=p.x,R=p.y,T=new xt(I,R,void 0,void 0,void 0,void 0,W.close);for(let bt=s.length-1;bt>=0;bt--){let rt=s[bt];if(/m/i.test(rt.command)){p=rt;break}}}break;case"m":case"l":y=void 0,I=parseFloat(_[0]),R=parseFloat(_[1]),T=new xt(I,R,void 0,void 0,void 0,void 0,/m/i.test(P)?W.move:W.line),c&&T.addSelf(p),p=T;break;case"h":case"v":tt=/h/i.test(P)?"x":"y",At=/x/i.test(tt)?"y":"x",T=new xt(void 0,void 0,void 0,void 0,void 0,void 0,W.line),T[tt]=parseFloat(_[0]),T[At]=p[At],c&&(T[tt]+=p[tt]),p=T;break;case"c":case"s":B=p.x,H=p.y,y||(y=new X),/c/i.test(P)?(q=parseFloat(_[0]),l=parseFloat(_[1]),$=parseFloat(_[2]),Y=parseFloat(_[3]),K=parseFloat(_[4]),Q=parseFloat(_[5])):(ht=Vn(p,y,c),q=ht.x,l=ht.y,$=parseFloat(_[0]),Y=parseFloat(_[1]),K=parseFloat(_[2]),Q=parseFloat(_[3])),c&&(q+=B,l+=H,$+=B,Y+=H,K+=B,Q+=H),p.controls.right.set(q-p.x,l-p.y),T=new xt(K,Q,$-K,Y-Q,void 0,void 0,W.curve),p=T,y=T.controls.left;break;case"t":case"q":B=p.x,H=p.y,y||(y=new X),/q/i.test(P)?(q=parseFloat(_[0]),l=parseFloat(_[1]),$=parseFloat(_[0]),Y=parseFloat(_[1]),K=parseFloat(_[2]),Q=parseFloat(_[3])):(ht=Vn(p,y,c),q=ht.x,l=ht.y,$=ht.x,Y=ht.y,K=parseFloat(_[0]),Q=parseFloat(_[1])),c&&(q+=B,l+=H,$+=B,Y+=H,K+=B,Q+=H),p.controls.right.set((q-p.x)*.33,(l-p.y)*.33),T=new xt(K,Q,$-K,Y-Q,void 0,void 0,W.curve),p=T,y=T.controls.left;break;case"a":B=p.x,H=p.y,$t=parseFloat(_[0]),Et=parseFloat(_[1]),ft=parseFloat(_[2]),st=parseFloat(_[3]),pt=parseFloat(_[4]),K=parseFloat(_[5]),Q=parseFloat(_[6]),c&&(K+=B,Q+=H),yt=new xt(K,Q),yt.command=W.arc,yt.rx=$t,yt.ry=Et,yt.xAxisRotation=ft,yt.largeArcFlag=st,yt.sweepFlag=pt,T=yt,p=yt,y=void 0;break}T&&(Array.isArray(T)?s=s.concat(T):s.push(T))})}i=new St(s,a,void 0,!0).noStroke(),i.fill="black";let f=i.getBoundingClientRect(!0);return f.centroid={x:f.left+f.width/2,y:f.top+f.height/2},it.each(i.vertices,function(p){p.subSelf(f.centroid)}),Ee.call(this,t,i,e),i.translation.addSelf(f.centroid),i},circle:function(t,e){let i=parseFloat(t.getAttribute("cx")),s=parseFloat(t.getAttribute("cy")),a=parseFloat(t.getAttribute("r")),c=new Yr(0,0,a).noStroke();return c.fill="black",Ee.call(this,t,c,e),c.translation.x=i,c.translation.y=s,c},ellipse:function(t,e){let i=parseFloat(t.getAttribute("cx")),s=parseFloat(t.getAttribute("cy")),a=parseFloat(t.getAttribute("rx")),c=parseFloat(t.getAttribute("ry")),f=new Gr(0,0,a,c).noStroke();return f.fill="black",Ee.call(this,t,f,e),f.translation.x=i,f.translation.y=s,f},rect:function(t,e){let i=parseFloat(t.getAttribute("rx")),s=parseFloat(t.getAttribute("ry"));if(!it.isNaN(i)||!it.isNaN(s))return zt["rounded-rect"](t);let a=parseFloat(t.getAttribute("width")),c=parseFloat(t.getAttribute("height")),f=a/2,p=c/2,y=new gi(0,0,a,c).noStroke();return y.fill="black",Ee.call(this,t,y,e),y.translation.x+=f,y.translation.y+=p,y},"rounded-rect":function(t,e){let i=parseFloat(t.getAttribute("rx"))||0,s=parseFloat(t.getAttribute("ry"))||0,a=parseFloat(t.getAttribute("width")),c=parseFloat(t.getAttribute("height")),f=a/2,p=c/2,y=new X(i,s),_=new Kr(0,0,a,c,y).noStroke();return _.fill="black",Ee.call(this,t,_,e),_.translation.x+=f,_.translation.y+=p,_},line:function(t,e){let i=parseFloat(t.getAttribute("x1")),s=parseFloat(t.getAttribute("y1")),a=parseFloat(t.getAttribute("x2")),c=parseFloat(t.getAttribute("y2")),f=new Zn(i,s,a,c).noFill();return Ee.call(this,t,f,e),f},lineargradient:function(t,e){let i=t.getAttribute("gradientUnits"),s=t.getAttribute("spreadMethod");i||(i="objectBoundingBox"),s||(s="pad");let a=parseFloat(t.getAttribute("x1")||0),c=parseFloat(t.getAttribute("y1")||0),f=parseFloat(t.getAttribute("x2")||0),p=parseFloat(t.getAttribute("y2")||0),y=(f+a)/2,_=(p+c)/2;/userSpaceOnUse/i.test(i)&&(a-=y,c-=_,f-=y,p-=_);let k=[];for(let A=0;A<t.children.length;A++){let v=t.children[A],T=v.getAttribute("offset");/%/ig.test(T)&&(T=parseFloat(T.replace(/%/ig,""))/100),T=parseFloat(T);let I=v.getAttribute("stop-color"),R=v.getAttribute("stop-opacity"),M=v.getAttribute("style"),P;I===null&&(P=M?M.match(/stop-color:\s?([#a-fA-F0-9]*)/):!1,I=P&&P.length>1?P[1]:void 0),R===null?(P=M?M.match(/stop-opacity:\s?([0-9.-]*)/):!1,R=P&&P.length>1?parseFloat(P[1]):1):R=parseFloat(R),k.push(new oi(T,I,R))}let S=new qt(a,c,f,p,k);return S.spread=s,S.units=i,Ee.call(this,t,S,e),S},radialgradient:function(t,e){let i=t.getAttribute("gradientUnits"),s=t.getAttribute("spreadMethod");i||(i="objectBoundingBox"),s||(s="pad");let a=parseFloat(t.getAttribute("cx"))||0,c=parseFloat(t.getAttribute("cy"))||0,f=parseFloat(t.getAttribute("r")),p=parseFloat(t.getAttribute("fx")),y=parseFloat(t.getAttribute("fy"));it.isNaN(p)&&(p=a),it.isNaN(y)&&(y=c);let _=Math.abs(a+p)/2,k=Math.abs(c+y)/2;/userSpaceOnUse/i.test(i)&&(a-=_,c-=k,p-=_,y-=k);let S=[];for(let v=0;v<t.children.length;v++){let T=t.children[v],I=T.getAttribute("offset");/%/ig.test(I)&&(I=parseFloat(I.replace(/%/ig,""))/100),I=parseFloat(I);let R=T.getAttribute("stop-color"),M=T.getAttribute("stop-opacity"),P=T.getAttribute("style"),B;R===null&&(B=P?P.match(/stop-color:\s?([#a-fA-F0-9]*)/):!1,R=B&&B.length>1?B[1]:void 0),M===null?(B=P?P.match(/stop-opacity:\s?([0-9.-]*)/):!1,M=B&&B.length>1?parseFloat(B[1]):1):M=parseFloat(M),S.push(new oi(I,R,M))}let A=new Ht(a,c,f,S,p,y);return A.spread=s,A.units=i,Ee.call(this,t,A,e),A},text:function(t,e){let i=_h(t.getAttribute("text-anchor"))||"left",s=mh(t)||"baseline",a=t.textContent,c=new Oe(a);return Ee.call(this,t,c,e),c.alignment=i,c.baseline=s,c},clippath:function(t,e){return zt.defs.current&&!zt.defs.current.contains(t.id)&&zt.defs.current.add(t.id,t),null},image:function(t,e){let i,s=t.getAttribute("href")||t.getAttribute("xlink:href");if(!s)return i=new ve("encountered <image /> with no href."),console.warn(i.name,i.message),null;let a=parseFloat(t.getAttribute("x"))||0,c=parseFloat(t.getAttribute("y"))||0,f=parseFloat(t.getAttribute("width")),p=parseFloat(t.getAttribute("height")),y=new Xr(s,a,c);return it.isNaN(f)||(y.width=f),it.isNaN(p)||(y.height=p),Ee.call(this,t,y,e),y}};function _o(t,e){let i=new XMLHttpRequest;return i.open("GET",t),i.onreadystatechange=function(){i.readyState===4&&i.status===200&&e(i.responseText)},i.send(),i}var Gn=class extends gi{constructor(t,e,i,s){super(e,i,0,0),m(this,"_flagTextures",!1),m(this,"_flagFrameRate",!1),m(this,"_flagIndex",!1),m(this,"_amount",1),m(this,"_duration",0),m(this,"_index",0),m(this,"_startTime",0),m(this,"_playing",!1),m(this,"_firstFrame",0),m(this,"_lastFrame",0),m(this,"_loop",!0),m(this,"_textures",null),m(this,"_frameRate",0),m(this,"_origin",null);for(let a in Da)Object.defineProperty(this,a,Da[a]);this._renderer.flagTextures=Th.bind(this),this._renderer.bindTextures=Sh.bind(this),this._renderer.unbindTextures=Ah.bind(this),this.noStroke(),this.noFill(),Array.isArray(t)?this.textures=t.map(Ba.bind(this)):this.textures=[Ba(t)],this.origin=new X,this._update(),typeof s=="number"?this.frameRate=s:this.frameRate=Gn.DefaultFrameRate,this.index=0}play(t,e,i){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=it.performance.now(),typeof t=="number"&&(this._firstFrame=t),typeof e=="number"&&(this._lastFrame=e),typeof i=="function"?this._onLastFrame=i:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=this._firstFrame,this}clone(t){let e=new Gn(this.textures,this.translation.x,this.translation.y,this.frameRate);return e._loop=this._loop,this._playing&&e.play(),t&&t.add(e),e}toObject(){let t=super.toObject.call(this);return t.textures=this.textures.map(function(e){return e.toObject()}),t.frameRate=this.frameRate,t.index=this.index,t._firstFrame=this._firstFrame,t._lastFrame=this._lastFrame,t._loop=this._loop,t}_update(){let t=this._textures,e,i,s,a,c,f,p,y;return t&&(this._flagTextures&&(this._amount=t.length),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._playing&&this._frameRate>0?(a=this._amount,it.isNaN(this._lastFrame)&&(this._lastFrame=a-1),s=it.performance.now()-this._startTime,y=this._lastFrame+1,c=1e3*(y-this._firstFrame)/this._frameRate,this._loop?s=s%c:s=Math.min(s,c),p=me(this._firstFrame,y,s/c),p=Math.floor(p),p!==this._index&&(this._index=p,f=t[this._index],f.loaded&&(e=f.image.width,i=f.image.height,this.width!==e&&(this.width=e),this.height!==i&&(this.height=i),this.fill=f,p>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()))):(this._flagIndex||!(this.fill instanceof Ot))&&(f=t[this._index],f.loaded&&(e=f.image.width,i=f.image.height,this.width!==e&&(this.width=e),this.height!==i&&(this.height=i)),this.fill=f)),super._update.call(this),this}flagReset(){return this._flagTextures=this._flagFrameRate=!1,super.flagReset.call(this),this}},Qr=Gn;m(Qr,"Properties",["textures","frameRate","index"]);m(Qr,"DefaultFrameRate",30);var Da={frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(t){this._frameRate=t,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(t){this._index=t,this._flagIndex=!0}},textures:{enumerable:!0,get:function(){return this._textures},set:function(t){let e=this._renderer.bindTextures,i=this._renderer.unbindTextures;this._textures&&this._textures.unbind(z.Types.insert,e).unbind(z.Types.remove,i),this._textures=new ai((t||[]).slice(0)),this._textures.bind(z.Types.insert,e).bind(z.Types.remove,i),e(this._textures)}}};function Th(){this._flagTextures=!0}function Sh(t){let e=t.length;for(;e--;)t[e].bind(z.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function Ah(t){let e=t.length;for(;e--;)t[e].unbind(z.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function Ba(t){if(t instanceof Ot)return t;if(typeof t=="string")return new Ot(t)}var zr=class extends St{constructor(t,e,i,s,a,c,f){let p=f||Jt.Resolution*3,y=[];for(let _=0;_<p;_++)y.push(new xt);super(y,!0,!1,!0),m(this,"_flagStartAngle",!1),m(this,"_flagEndAngle",!1),m(this,"_flagInnerRadius",!1),m(this,"_flagOuterRadius",!1),m(this,"_startAngle",0),m(this,"_endAngle",le),m(this,"_innerRadius",0),m(this,"_outerRadius",0);for(let _ in za)Object.defineProperty(this,_,za[_]);typeof i=="number"&&(this.innerRadius=i),typeof s=="number"&&(this.outerRadius=s),typeof a=="number"&&(this.startAngle=a),typeof c=="number"&&(this.endAngle=c),this._update(),typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){let t=this._startAngle,e=this._endAngle,i=this._innerRadius,s=this._outerRadius,a=xe(t,le)===xe(e,le),c=i>0,f=this.vertices,p=c?f.length/2:f.length,y,_=0,k,S,A,v,T,I,R,M,P;for(a?p--:c||(p-=2),k=0,S=p-1;k<p;k++){switch(A=k/S,v=f[_],T=A*(e-t)+t,I=(e-t)/p,R=s*Math.cos(T),M=s*Math.sin(T),k){case 0:y=W.move;break;default:y=W.curve}v.command=y,v.x=R,v.y=M,v.controls.left.clear(),v.controls.right.clear(),v.command===W.curve&&(P=s*I/Math.PI,v.controls.left.x=P*Math.cos(T-ee),v.controls.left.y=P*Math.sin(T-ee),v.controls.right.x=P*Math.cos(T+ee),v.controls.right.y=P*Math.sin(T+ee),k===1&&v.controls.left.multiplyScalar(2),k===S&&v.controls.right.multiplyScalar(2)),_++}if(c){for(a?(f[_].command=W.close,_++):(p--,S=p-1),k=0;k<p;k++)A=k/S,v=f[_],T=(1-A)*(e-t)+t,I=(e-t)/p,R=i*Math.cos(T),M=i*Math.sin(T),y=W.curve,k<=0&&(y=a?W.move:W.line),v.command=y,v.x=R,v.y=M,v.controls.left.clear(),v.controls.right.clear(),v.command===W.curve&&(P=i*I/Math.PI,v.controls.left.x=P*Math.cos(T+ee),v.controls.left.y=P*Math.sin(T+ee),v.controls.right.x=P*Math.cos(T-ee),v.controls.right.y=P*Math.sin(T-ee),k===1&&v.controls.left.multiplyScalar(2),k===S&&v.controls.right.multiplyScalar(2)),_++;f[_].copy(f[0]),f[_].command=W.line}else a||(f[_].command=W.line,f[_].x=0,f[_].y=0,_++,f[_].copy(f[0]),f[_].command=W.line)}return super._update.call(this),this}flagReset(){return super.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this}clone(t){let e=this.innerRadius,i=this.outerRadius,s=this.startAngle,a=this.endAngle,c=this.vertices.length,f=new zr(0,0,e,i,s,a,c);f.translation.copy(this.translation),f.rotation=this.rotation,f.scale=this.scale,f.skewX=this.skewX,f.skewY=this.skewY,this.matrix.manual&&f.matrix.copy(this.matrix);for(let p=0;p<St.Properties.length;p++){let y=St.Properties[p];f[y]=this[y]}return t&&t.add(f),f}toObject(){let t=super.toObject.call(this);for(let e=0;e<zr.Properties.length;e++){let i=zr.Properties[e];t[i]=this[i]}return t}},ts=zr;m(ts,"Properties",["startAngle","endAngle","innerRadius","outerRadius"]);var za={startAngle:{enumerable:!0,get:function(){return this._startAngle},set:function(t){this._startAngle=t,this._flagStartAngle=!0}},endAngle:{enumerable:!0,get:function(){return this._endAngle},set:function(t){this._endAngle=t,this._flagEndAngle=!0}},innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(t){this._innerRadius=t,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(t){this._outerRadius=t,this._flagOuterRadius=!0}}},Eh=Math.ceil,Ch=Math.floor,Qi=class extends si{constructor(t){super(),m(this,"_flagVertices",!0),m(this,"_flagLength",!0),m(this,"_flagFill",!0),m(this,"_flagStroke",!0),m(this,"_flagLinewidth",!0),m(this,"_flagOpacity",!0),m(this,"_flagVisible",!0),m(this,"_flagSize",!0),m(this,"_flagSizeAttenuation",!0),m(this,"_length",0),m(this,"_fill","#fff"),m(this,"_stroke","#000"),m(this,"_linewidth",1),m(this,"_opacity",1),m(this,"_visible",!0),m(this,"_size",1),m(this,"_sizeAttenuation",!1),m(this,"_beginning",0),m(this,"_ending",1),m(this,"_dashes",null),m(this,"noFill",St.prototype.noFill),m(this,"noStroke",St.prototype.noStroke),m(this,"corner",St.prototype.corner),m(this,"center",St.prototype.center),m(this,"getBoundingClientRect",St.prototype.getBoundingClientRect),m(this,"_updateLength",St.prototype._updateLength);for(let e in qa)Object.defineProperty(this,e,qa[e]);this._renderer.type="points",this._renderer.flagVertices=lo.bind(this),this._renderer.bindVertices=ho.bind(this),this._renderer.unbindVertices=fo.bind(this),this._renderer.flagFill=co.bind(this),this._renderer.flagStroke=uo.bind(this),this._renderer.vertices=null,this._renderer.collection=null,this.sizeAttenuation=!1,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.className="",this.visible=!0,this.vertices=t,this.dashes=[],this.dashes.offset=0}clone(t){let e=new Qi;for(let i=0;i<this.vertices.length;i++)e.vertices.push(this.vertices[i].clone());for(let i=0;i<Qi.Properties.length;i++){let s=Qi.Properties[i];e[s]=this[s]}return e.className=this.className,e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}toObject(){let t={vertices:this.vertices.map(function(e){return e.toObject()})};return it.each(Qi.Properties,function(e){t[e]=this[e]},this),t.className=this.className,t.translation=this.translation.toObject(),t.rotation=this.rotation,t.scale=this.scale instanceof X?this.scale.toObject():this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&(t.matrix=this.matrix.toObject()),t}subdivide(t){this._update();let e=[];for(let i=0;i<this.vertices.length;i++){let s=this.vertices[i],a=this.vertices[i-1];if(!a)continue;let c=s.x,f=s.y,p=a.x,y=a.y,_=Qn(c,f,c,f,p,y,p,y,t);e=e.concat(_)}return this.vertices=e,this}_update(){if(this._flagVertices){this._flagLength&&this._updateLength(void 0,!0);let t=Math.min(this._beginning,this._ending),e=Math.max(this._beginning,this._ending),i=Wr(this,t*this._length),s=Wr(this,e*this._length),a=Eh(i),c=Ch(s),f=0,p;this._renderer.vertices=[],this._renderer.collection=[];for(let y=0;y<this._collection.length;y++)y>=a&&y<=c&&(p=this._collection[y],this._renderer.collection.push(p),this._renderer.vertices[f*2+0]=p.x,this._renderer.vertices[f*2+1]=p.y,f++)}return super._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagSize=this._flagSizeAttenuation=!1,super.flagReset.call(this),this}},es=Qi;m(es,"Properties",["fill","stroke","linewidth","opacity","visible","size","sizeAttenuation","beginning","ending"]);var qa={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(t){this._linewidth=t,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._opacity=t,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(t){this._visible=t,this._flagVisible=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(t){this._size=t,this._flagSize=!0}},sizeAttenuation:{enumerable:!0,get:function(){return this._sizeAttenuation},set:function(t){this._sizeAttenuation=t,this._flagSizeAttenuation=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof Qt||this._fill instanceof qt||this._fill instanceof Ht||this._fill instanceof Ot)&&this._fill.unbind(z.Types.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof Qt||this._fill instanceof qt||this._fill instanceof Ht||this._fill instanceof Ot)&&this._fill.bind(z.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof Qt||this._stroke instanceof qt||this._stroke instanceof Ht||this._stroke instanceof Ot)&&this._stroke.unbind(z.Types.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof Qt||this._stroke instanceof qt||this._stroke instanceof Ht||this._stroke instanceof Ot)&&this._stroke.bind(z.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(t){this._beginning=t,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(t){this._ending=t,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(t){let e=this._renderer.bindVertices,i=this._renderer.unbindVertices;this._collection&&this._collection.unbind(z.Types.insert,e).unbind(z.Types.remove,i),t instanceof ai?this._collection=t:this._collection=new ai(t||[]),this._collection.bind(z.Types.insert,e).bind(z.Types.remove,i),e(this._collection)}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(t){typeof t.offset!="number"&&(t.offset=this.dashes&&this._dashes.offset||0),this._dashes=t}}},Mh=Math.cos,Rh=Math.sin,qr=class extends St{constructor(t,e,i,s){s=Math.max(s||0,3),super(),m(this,"_flagWidth",!1),m(this,"_flagHeight",!1),m(this,"_flagSides",!1),m(this,"_radius",0),m(this,"_width",0),m(this,"_height",0),m(this,"_sides",0);for(let a in Ha)Object.defineProperty(this,a,Ha[a]);this.closed=!0,this.automatic=!1,typeof i=="number"&&(this.radius=i),typeof s=="number"&&(this.sides=s),this._update(),typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagSides){let t=this._sides,e=t+1,i=this.vertices.length;i>t&&(this.vertices.splice(t-1,i-t),i=t);for(let s=0;s<e;s++){let a=(s+.5)/t,c=le*a+Math.PI/2,f=this._width*Mh(c)/2,p=this._height*Rh(c)/2;s>=i?this.vertices.push(new xt(f,p)):this.vertices[s].set(f,p),this.vertices[s].command=s===0?W.move:W.line}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagSides=!1,super.flagReset.call(this),this}clone(t){let e=new qr(0,0,0,this.sides);e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,e.width=this.width,e.height=this.height,this.matrix.manual&&e.matrix.copy(this.matrix);for(let i=0;i<St.Properties.length;i++){let s=St.Properties[i];e[s]=this[s]}return t&&t.add(e),e}toObject(){let t=super.toObject.call(this);for(let e=0;e<qr.Properties.length;e++){let i=qr.Properties[e];t[i]=this[i]}return t}},is=qr;m(is,"Properties",["width","height","sides"]);var Ha={radius:{enumerable:!0,get:function(){return this._radius},set:function(t){this._radius=t,this.width=t*2,this.height=t*2}},width:{enumerable:!0,get:function(){return this._width},set:function(t){this._width=t,this._flagWidth=!0,this._radius=Math.max(this.width,this.height)/2}},height:{enumerable:!0,get:function(){return this._height},set:function(t){this._height=t,this._flagHeight=!0,this._radius=Math.max(this.width,this.height)/2}},sides:{enumerable:!0,get:function(){return this._sides},set:function(t){this._sides=t,this._flagSides=!0}}},Fh=Math.cos,Oh=Math.sin,Hr=class extends St{constructor(t,e,i,s,a){arguments.length<=3&&(s=i,i=s/2),(typeof a!="number"||a<=0)&&(a=5),super(),m(this,"_flagInnerRadius",!1),m(this,"_flagOuterRadius",!1),m(this,"_flagSides",!1),m(this,"_innerRadius",0),m(this,"_outerRadius",0),m(this,"_sides",0);for(let c in Ua)Object.defineProperty(this,c,Ua[c]);this.closed=!0,this.automatic=!1,typeof i=="number"&&(this.innerRadius=i),typeof s=="number"&&(this.outerRadius=s),typeof a=="number"&&(this.sides=a),this._update(),typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagInnerRadius||this._flagOuterRadius||this._flagSides){let t=this._sides*2,e=t+1,i=this.vertices.length;i>t&&(this.vertices.splice(t-1,i-t),i=t);for(let s=0;s<e;s++){let a=(s+.5)/t,c=le*a,f=(s%2?this._outerRadius:this._innerRadius)/2,p=f*Fh(c),y=f*Oh(c);s>=i?this.vertices.push(new xt(p,y)):this.vertices[s].set(p,y),this.vertices[s].command=s===0?W.move:W.line}}return super._update.call(this),this}flagReset(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,super.flagReset.call(this),this}clone(t){let e=this.innerRadius,i=this.outerRadius,s=this.sides,a=new Hr(0,0,e,i,s);a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix);for(let c=0;c<St.Properties.length;c++){let f=St.Properties[c];a[f]=this[f]}return t&&t.add(a),a}toObject(){let t=super.toObject.call(this);for(let e=0;e<Hr.Properties.length;e++){let i=Hr.Properties[e];t[i]=this[i]}return t}},rs=Hr;m(rs,"Properties",["innerRadius","outerRadius","sides"]);var Ua={innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(t){this._innerRadius=t,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(t){this._outerRadius=t,this._flagOuterRadius=!0}},sides:{enumerable:!0,get:function(){return this._sides},set:function(t){this._sides=t,this._flagSides=!0}}},ut={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},createElement:function(t,e){let i=t,s=document.createElementNS(ut.ns,i);return i==="svg"&&(e=it.defaults(e||{},{version:ut.version})),e&&Object.keys(e).length>0&&ut.setAttributes(s,e),s},setAttributes:function(t,e){let i=Object.keys(e);for(let s=0;s<i.length;s++)/href/.test(i[s])?t.setAttributeNS(ut.xlink,i[s],e[i[s]]):t.setAttribute(i[s],e[i[s]]);return this},removeAttributes:function(t,e){for(let i in e)t.removeAttribute(i);return this},toString:function(t,e){let i=t.length,s=i-1,a,c="";for(let f=0;f<i;f++){let p=t[f],y=e?xe(f-1,i):Math.max(f-1,0),_=t[y],k,S,A,v,T,I,R,M,P,B,H,q,l,$,Y,K=Vt(p.x),Q=Vt(p.y);switch(p.command){case W.close:k=W.close;break;case W.arc:H=p.rx,q=p.ry,l=p.xAxisRotation,$=p.largeArcFlag,Y=p.sweepFlag,k=W.arc+" "+H+" "+q+" "+l+" "+$+" "+Y+" "+K+" "+Q;break;case W.curve:R=_.controls&&_.controls.right||X.zero,M=p.controls&&p.controls.left||X.zero,_.relative?(A=Vt(R.x+_.x),v=Vt(R.y+_.y)):(A=Vt(R.x),v=Vt(R.y)),p.relative?(T=Vt(M.x+p.x),I=Vt(M.y+p.y)):(T=Vt(M.x),I=Vt(M.y)),k=(f===0?W.move:W.curve)+" "+A+" "+v+" "+T+" "+I+" "+K+" "+Q;break;case W.move:a=p,k=W.move+" "+K+" "+Q;break;default:k=p.command+" "+K+" "+Q}f>=s&&e&&(p.command===W.curve&&(S=a,P=p.controls&&p.controls.right||p,B=S.controls&&S.controls.left||S,p.relative?(A=Vt(P.x+p.x),v=Vt(P.y+p.y)):(A=Vt(P.x),v=Vt(P.y)),S.relative?(T=Vt(B.x+S.x),I=Vt(B.y+S.y)):(T=Vt(B.x),I=Vt(B.y)),K=Vt(S.x),Q=Vt(S.y),k+=" C "+A+" "+v+" "+T+" "+I+" "+K+" "+Q),p.command!==W.close&&(k+=" Z")),c+=k+" "}return c},pointsToString:function(t,e){let i="",s=e*.5;for(let a=0;a<t.length;a++){let c=t[a].x,f=t[a].y-s;i+=W.move+" "+c+" "+f+" ",i+="a "+s+" "+s+" 0 1 0 0.001 0 Z"}return i},getClip:function(t,e){let i=t._renderer.clip;return i||(i=t._renderer.clip=ut.createElement("clipPath",{"clip-rule":"nonzero"})),i.parentNode===null&&e.defs.appendChild(i),i},defs:{update:function(t){let{defs:e}=t;if(e._flagUpdate){let i=Array.prototype.slice.call(e.children,0);for(let s=0;s<i.length;s++){let a=i[s],c=a.id,f=`[fill="url(#${c})"],[stroke="url(#${c})"],[clip-path="url(#${c})"]`;t.querySelector(f)||e.removeChild(a)}e._flagUpdate=!1}}},group:{appendChild:function(t){let e=t._renderer.elem;if(!e)return;let i=e.nodeName;!i||/(radial|linear)gradient/i.test(i)||t._clip||this.elem.appendChild(e)},removeChild:function(t){let e=t._renderer.elem;!e||e.parentNode!=this.elem||!e.nodeName||t._clip||this.elem.removeChild(e)},orderChild:function(t){this.elem.appendChild(t._renderer.elem)},renderChild:function(t){ut[t._renderer.type].render.call(t,this)},render:function(t){if(!this._visible&&!this._flagVisible||this._opacity===0&&!this._flagOpacity)return this;this._update(),this._renderer.elem||(this._renderer.elem=ut.createElement("g",{id:this.id}),t.appendChild(this._renderer.elem));let e=this._matrix.manual||this._flagMatrix,i={domElement:t,elem:this._renderer.elem};e&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(let s=0;s<this.children.length;s++){let a=this.children[s];ut[a._renderer.type].render.call(a,t)}return this._flagId&&this._renderer.elem.setAttribute("id",this._id),this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagVisible&&this._renderer.elem.setAttribute("display",this._visible?"inline":"none"),this._flagClassName&&this._renderer.elem.setAttribute("class",this.classList.join(" ")),this._flagAdditions&&this.additions.forEach(ut.group.appendChild,i),this._flagSubtractions&&this.subtractions.forEach(ut.group.removeChild,i),this._flagOrder&&this.children.forEach(ut.group.orderChild,i),this._flagMask&&(this._mask?(ut[this._mask._renderer.type].render.call(this._mask,t),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this.dataset&&Object.assign(this._renderer.elem.dataset,this.dataset),this.flagReset()}},path:{render:function(t){if(this._opacity===0&&!this._flagOpacity)return this;this._update();let e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(e.id=this._id),this._flagVertices){let s=ut.toString(this._renderer.vertices,this._closed);e.d=s}if(this._fill&&this._fill._renderer&&(this._renderer.hasFillEffect=!0,this._fill._update(),ut[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(t.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer&&(this._renderer.hasStrokeEffect=!0,this._stroke._update(),ut[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(t.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e["stroke-opacity"]=this._opacity,e["fill-opacity"]=this._opacity),this._flagClassName&&(e.class=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this._flagCap&&(e["stroke-linecap"]=this._cap),this._flagJoin&&(e["stroke-linejoin"]=this._join),this._flagMiter&&(e["stroke-miterlimit"]=this._miter),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?ut.setAttributes(this._renderer.elem,e):(e.id=this._id,this._renderer.elem=ut.createElement("path",e),t.appendChild(this._renderer.elem)),this._flagClip){let s=ut.getClip(this,t),a=this._renderer.elem;this._clip?(a.removeAttribute("id"),s.setAttribute("id",this.id),s.appendChild(a)):(s.removeAttribute("id"),a.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(a))}return this._flagMask&&(this._mask?(ut[this._mask._renderer.type].render.call(this._mask,t),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this.flagReset()}},points:{render:function(t){if(this._opacity===0&&!this._flagOpacity)return this;this._update();let e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(e.id=this._id),this._flagVertices||this._flagSize||this._flagSizeAttenuation){let s=this._size;if(!this._sizeAttenuation){let c=this.worldMatrix.elements,f=Oi(c[0],c[3],c[1],c[4],c[2],c[5]);s/=Math.max(f.scaleX,f.scaleY)}let a=ut.pointsToString(this._renderer.collection,s);e.d=a}return this._fill&&this._fill._renderer&&(this._renderer.hasFillEffect=!0,this._fill._update(),ut[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(t.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer&&(this._renderer.hasStrokeEffect=!0,this._stroke._update(),ut[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(t.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e["stroke-opacity"]=this._opacity,e["fill-opacity"]=this._opacity),this._flagClassName&&(e.class=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?ut.setAttributes(this._renderer.elem,e):(e.id=this._id,this._renderer.elem=ut.createElement("path",e),t.appendChild(this._renderer.elem)),this.flagReset()}},text:{render:function(t){this._update();let e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(e.id=this._id),this._flagFamily&&(e["font-family"]=this._family),this._flagSize&&(e["font-size"]=this._size),this._flagLeading&&(e["line-height"]=this._leading),this._flagAlignment&&(e["text-anchor"]=ut.alignments[this._alignment]||this._alignment),this._flagBaseline&&(e["alignment-baseline"]=e["dominant-baseline"]=this._baseline),this._flagStyle&&(e["font-style"]=this._style),this._flagWeight&&(e["font-weight"]=this._weight),this._flagDecoration&&(e["text-decoration"]=this._decoration),this._fill&&this._fill._renderer&&(this._renderer.hasFillEffect=!0,this._fill._update(),ut[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(t.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer&&(this._renderer.hasStrokeEffect=!0,this._stroke._update(),ut[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(t.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e.opacity=this._opacity),this._flagClassName&&(e.class=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?ut.setAttributes(this._renderer.elem,e):(e.id=this._id,this._renderer.elem=ut.createElement("text",e),t.appendChild(this._renderer.elem)),this._flagClip){let s=ut.getClip(this,t),a=this._renderer.elem;this._clip?(a.removeAttribute("id"),s.setAttribute("id",this.id),s.appendChild(a)):(s.removeAttribute("id"),a.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(a))}return this._flagMask&&(this._mask?(ut[this._mask._renderer.type].render.call(this._mask,t),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(t,e){e||this._update();let i={};if(this._flagId&&(i.id=this._id),this._flagEndPoints&&(i.x1=this.left._x,i.y1=this.left._y,i.x2=this.right._x,i.y2=this.right._y),this._flagSpread&&(i.spreadMethod=this._spread),this._flagUnits&&(i.gradientUnits=this._units),this._renderer.elem?ut.setAttributes(this._renderer.elem,i):(i.id=this._id,this._renderer.elem=ut.createElement("linearGradient",i)),this._renderer.elem.parentNode===null&&t.defs.appendChild(this._renderer.elem),this._flagStops){let s=this._renderer.elem.childNodes.length!==this.stops.length;if(s)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let a=0;a<this.stops.length;a++){let c=this.stops[a],f={};c._flagOffset&&(f.offset=100*c._offset+"%"),c._flagColor&&(f["stop-color"]=c._color),c._flagOpacity&&(f["stop-opacity"]=c._opacity),c._renderer.elem?ut.setAttributes(c._renderer.elem,f):c._renderer.elem=ut.createElement("stop",f),s&&this._renderer.elem.appendChild(c._renderer.elem),c.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(t,e){e||this._update();let i={};if(this._flagId&&(i.id=this._id),this._flagCenter&&(i.cx=this.center._x,i.cy=this.center._y),this._flagFocal&&(i.fx=this.focal._x,i.fy=this.focal._y),this._flagRadius&&(i.r=this._radius),this._flagSpread&&(i.spreadMethod=this._spread),this._flagUnits&&(i.gradientUnits=this._units),this._renderer.elem?ut.setAttributes(this._renderer.elem,i):(i.id=this._id,this._renderer.elem=ut.createElement("radialGradient",i)),this._renderer.elem.parentNode===null&&t.defs.appendChild(this._renderer.elem),this._flagStops){let s=this._renderer.elem.childNodes.length!==this.stops.length;if(s)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let a=0;a<this.stops.length;a++){let c=this.stops[a],f={};c._flagOffset&&(f.offset=100*c._offset+"%"),c._flagColor&&(f["stop-color"]=c._color),c._flagOpacity&&(f["stop-opacity"]=c._opacity),c._renderer.elem?ut.setAttributes(c._renderer.elem,f):c._renderer.elem=ut.createElement("stop",f),s&&this._renderer.elem.appendChild(c._renderer.elem),c.flagReset()}}return this.flagReset()}},texture:{render:function(t,e){e||this._update();let i={},s={x:0,y:0},a=this.image;if(this._flagId&&(i.id=this._id),this._flagLoaded&&this.loaded)switch(a.nodeName.toLowerCase()){case"canvas":s.href=s["xlink:href"]=a.toDataURL("image/png");break;case"img":case"image":s.href=s["xlink:href"]=this.src;break}if((this._flagOffset||this._flagLoaded||this._flagScale)&&(i.x=this._offset.x,i.y=this._offset.y,a&&(i.x-=a.width/2,i.y-=a.height/2,this._scale instanceof X?(i.x*=this._scale.x,i.y*=this._scale.y):(i.x*=this._scale,i.y*=this._scale)),i.x>0&&(i.x*=-1),i.y>0&&(i.y*=-1)),(this._flagScale||this._flagLoaded||this._flagRepeat)&&(i.width=0,i.height=0,a)){switch(s.width=i.width=a.width,s.height=i.height=a.height,this._repeat){case"no-repeat":i.width+=1,i.height+=1;break}this._scale instanceof X?(i.width*=this._scale.x,i.height*=this._scale.y):(i.width*=this._scale,i.height*=this._scale)}return(this._flagScale||this._flagLoaded)&&(this._renderer.image?ut.setAttributes(this._renderer.image,s):this._renderer.image=ut.createElement("image",s)),this._renderer.elem?Object.keys(i).length!==0&&ut.setAttributes(this._renderer.elem,i):(i.id=this._id,i.patternUnits="userSpaceOnUse",this._renderer.elem=ut.createElement("pattern",i)),this._renderer.elem.parentNode===null&&t.defs.appendChild(this._renderer.elem),this._renderer.elem&&this._renderer.image&&!this._renderer.appended&&(this._renderer.elem.appendChild(this._renderer.image),this._renderer.appended=!0),this.flagReset()}}},mo=class extends z{constructor(t){super(),this.domElement=t.domElement||ut.createElement("svg"),this.scene=new Kt,this.scene.parent=this,this.defs=ut.createElement("defs"),this.defs._flagUpdate=!1,this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"}setSize(t,e){return this.width=t,this.height=e,ut.setAttributes(this.domElement,{width:t,height:e}),this.trigger(z.Types.resize,t,e)}render(){return ut.group.render.call(this.scene,this.domElement),ut.defs.update(this.domElement),this}};m(mo,"Utils",ut);var Ce={create:function(t,e,i){let s=t.createShader(t[i]);if(t.shaderSource(s,e),t.compileShader(s),!t.getShaderParameter(s,t.COMPILE_STATUS)){let c=t.getShaderInfoLog(s);throw t.deleteShader(s),new ve("unable to compile shader "+s+": "+c)}return s},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},path:{vertex:`
      precision mediump float;
      attribute vec2 a_position;

      uniform mat3 u_matrix;
      uniform vec2 u_resolution;
      uniform vec4 u_rect;

      varying vec2 v_textureCoords;

      void main() {
        vec2 rectCoords = (a_position * (u_rect.zw - u_rect.xy)) + u_rect.xy;
        vec2 projected = (u_matrix * vec3(rectCoords, 1.0)).xy;
        vec2 normal = projected / u_resolution;
        vec2 clipspace = (normal * 2.0) - 1.0;

        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);
        v_textureCoords = a_position;
      }
    `,fragment:`
      precision mediump float;

      uniform sampler2D u_image;
      varying vec2 v_textureCoords;

      void main() {
        vec4 texel = texture2D(u_image, v_textureCoords);
        if (texel.a == 0.0) {
          discard;
        }
        gl_FragColor = texel;
      }
    `},points:{vertex:`
      precision mediump float;
      attribute vec2 a_position;

      uniform float u_size;
      uniform mat3 u_matrix;
      uniform vec2 u_resolution;

      varying vec2 v_textureCoords;

      void main() {
        vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;
        vec2 normal = projected / u_resolution;
        vec2 clipspace = (normal * 2.0) - 1.0;

        gl_PointSize = u_size;
        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);
        v_textureCoords = a_position;
      }
    `,fragment:`
      precision mediump float;

      uniform sampler2D u_image;

      void main() {
        vec4 texel = texture2D(u_image, gl_PointCoord);
        if (texel.a == 0.0) {
          discard;
        }
        gl_FragColor = texel;
      }
    `}},Pr=pi.Multiply,Ph=[1,0,0,0,1,0,0,0,1],ri=new Ue(9),Lh=ir.Utils,Kn=new Ue([0,0,1,0,0,1,0,1,1,0,1,1]),_t={precision:.9,isHidden:/(undefined|none|transparent)/i,canvas:Ut.document?Ut.document.createElement("canvas"):{getContext:function(){}},alignments:{left:"start",middle:"center",right:"end"},matrix:new pi,group:{removeChild:function(t,e){if(t.children)for(let i=0;i<t.children.length;i++)_t.group.removeChild(t.children[i],e);t._renderer.texture&&(e.deleteTexture(t._renderer.texture),delete t._renderer.texture),t._renderer.positionBuffer&&(e.deleteBuffer(t._renderer.positionBuffer),delete t._renderer.positionBuffer)},render:function(t,e){if(!this._visible)return;this._update();let i=this.parent,s=i._matrix&&i._matrix.manual||i._flagMatrix,a=this._matrix.manual||this._flagMatrix;(s||a)&&(this._renderer.matrix||(this._renderer.matrix=new Ue(9)),this._matrix.toTransformArray(!0,ri),Pr(ri,i._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof X||(this._renderer.scale=new X),this._scale instanceof X?(this._renderer.scale.x=this._scale.x,this._renderer.scale.y=this._scale.y):(this._renderer.scale.x=this._scale,this._renderer.scale.y=this._scale),/renderer/i.test(i._renderer.type)||(this._renderer.scale.x*=i._renderer.scale.x,this._renderer.scale.y*=i._renderer.scale.y),s&&(this._flagMatrix=!0)),this._mask&&(t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,0),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1),_t[this._mask._renderer.type].render.call(this._mask,t,e,this),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.colorMask(!0,!0,!0,!0)),this._flagOpacity=i._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(i&&i._renderer?i._renderer.opacity:1);let c;if(this._flagSubtractions)for(c=0;c<this.subtractions.length;c++)_t.group.removeChild(this.subtractions[c],t);for(c=0;c<this.children.length;c++){let f=this.children[c];_t[f._renderer.type].render.call(f,t,e)}return this._mask&&t.disable(t.STENCIL_TEST),this.flagReset()}},path:{updateCanvas:function(t){let e,i,s,a,c,f,p,y,_,k,S,A,v,T,I=t._renderer.vertices,R=this.canvas,M=this.ctx,P=t._renderer.scale,B=t._stroke,H=t._linewidth,q=t._fill,l=t._renderer.opacity||t._opacity,$=t._cap,Y=t._join,K=t._miter,Q=t._closed,ht=t.dashes,tt=I.length,At=tt-1;R.width=Math.max(Math.ceil(t._renderer.rect.width*P.x),1),R.height=Math.max(Math.ceil(t._renderer.rect.height*P.y),1);let yt=t._renderer.rect.centroid,$t=yt.x,Et=yt.y;M.clearRect(0,0,R.width,R.height),q&&(typeof q=="string"?M.fillStyle=q:(_t[q._renderer.type].render.call(q,M,t),M.fillStyle=q._renderer.effect)),B&&(typeof B=="string"?M.strokeStyle=B:(_t[B._renderer.type].render.call(B,M,t),M.strokeStyle=B._renderer.effect),H&&(M.lineWidth=H),K&&(M.miterLimit=K),Y&&(M.lineJoin=Y),!Q&&$&&(M.lineCap=$)),typeof l=="number"&&(M.globalAlpha=l),ht&&ht.length>0&&(M.lineDashOffset=ht.offset||0,M.setLineDash(ht));let ft,st,pt,bt,rt,jt,Zt,Nt;M.save(),M.scale(P.x,P.y),M.translate($t,Et),M.beginPath();for(let It=0;It<I.length;It++){let Ft=I[It];switch(A=Ft.x,v=Ft.y,Ft.command){case W.close:M.closePath();break;case W.arc:st=Ft.rx,pt=Ft.ry,bt=Ft.xAxisRotation,rt=Ft.largeArcFlag,jt=Ft.sweepFlag,e=Q?xe(It-1,tt):Math.max(It-1,0),i=I[e],Zt=i.x,Nt=i.y,Lh.renderSvgArcCommand(M,Zt,Nt,st,pt,rt,jt,bt,A,v);break;case W.curve:e=Q?xe(It-1,tt):Math.max(It-1,0),i=I[e],y=i.controls&&i.controls.right||X.zero,_=Ft.controls&&Ft.controls.left||X.zero,i._relative?(f=y.x+i.x,p=y.y+i.y):(f=y.x,p=y.y),Ft._relative?(a=_.x+Ft.x,c=_.y+Ft.y):(a=_.x,c=_.y),M.bezierCurveTo(f,p,a,c,A,v),It>=At&&Q&&(s=ft,k=Ft.controls&&Ft.controls.right||X.zero,S=s.controls&&s.controls.left||X.zero,Ft._relative?(f=k.x+Ft.x,p=k.y+Ft.y):(f=k.x,p=k.y),s._relative?(a=S.x+s.x,c=S.y+s.y):(a=S.x,c=S.y),A=s.x,v=s.y,M.bezierCurveTo(f,p,a,c,A,v));break;case W.line:M.lineTo(A,v);break;case W.move:ft=Ft,M.moveTo(A,v);break}}Q&&M.closePath(),_t.isHidden.test(q)||(T=q._renderer&&q._renderer.offset,T&&(M.save(),M.translate(-q._renderer.offset.x,-q._renderer.offset.y),M.scale(q._renderer.scale.x,q._renderer.scale.y)),M.fill(),T&&M.restore()),_t.isHidden.test(B)||(T=B._renderer&&B._renderer.offset,T&&(M.save(),M.translate(-B._renderer.offset.x,-B._renderer.offset.y),M.scale(B._renderer.scale.x,B._renderer.scale.y),M.lineWidth=H/B._renderer.scale.x),M.stroke(),T&&M.restore()),M.restore()},getBoundingClientRect:function(t,e,i){let s=1/0,a=-1/0,c=1/0,f=-1/0,p,y;t.forEach(function(_){let k=_.x,S=_.y,A=_.controls,v,T,I,R,M,P;c=Math.min(S,c),s=Math.min(k,s),a=Math.max(k,a),f=Math.max(S,f),_.controls&&(M=A.left,P=A.right,!(!M||!P)&&(v=_._relative?M.x+k:M.x,T=_._relative?M.y+S:M.y,I=_._relative?P.x+k:P.x,R=_._relative?P.y+S:P.y,!(!v||!T||!I||!R)&&(c=Math.min(T,R,c),s=Math.min(v,I,s),a=Math.max(v,I,a),f=Math.max(T,R,f))))}),typeof e=="number"&&(c-=e,s-=e,a+=e,f+=e),p=a-s,y=f-c,i.top=c,i.left=s,i.right=a,i.bottom=f,i.width=p,i.height=y,i.centroid||(i.centroid={}),i.centroid.x=-s,i.centroid.y=-c},render:function(t,e,i){if(!this._visible||!this._opacity)return this;this._update();let s=i||this.parent,a=e[this._renderer.type],c=s._matrix.manual||s._flagMatrix,f=this._matrix.manual||this._flagMatrix,p=this._renderer.parent!==s,y=this._flagVertices||this._flagFill||this._fill instanceof qt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Ht&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Ot&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof qt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Ht&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Ot&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||s._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((c||f||p)&&(this._renderer.matrix||(this._renderer.matrix=new Ue(9)),this._matrix.toTransformArray(!0,ri),Pr(ri,s._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof X||(this._renderer.scale=new X),this._scale instanceof X?(this._renderer.scale.x=this._scale.x*s._renderer.scale.x,this._renderer.scale.y=this._scale.y*s._renderer.scale.y):(this._renderer.scale.x=this._scale*s._renderer.scale.x,this._renderer.scale.y=this._scale*s._renderer.scale.y),p&&(this._renderer.parent=s)),this._mask&&(t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,0),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1),_t[this._mask._renderer.type].render.call(this._mask,t,e,this),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.colorMask(!0,!0,!0,!0)),y?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*s._renderer.opacity,_t.path.getBoundingClientRect(this._renderer.vertices,this._linewidth,this._renderer.rect),_t.updateTexture.call(_t,t,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!i||!this._renderer.texture)return this;e.current!==a&&(t.useProgram(a),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.position),t.vertexAttribPointer(a.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a.position),t.bufferData(t.ARRAY_BUFFER,Kn,t.STATIC_DRAW),e.resolution.flagged||t.uniform2f(t.getUniformLocation(a,"u_resolution"),e.resolution.width,e.resolution.height),e.current=a),e.resolution.flagged&&t.uniform2f(t.getUniformLocation(a,"u_resolution"),e.resolution.width,e.resolution.height),t.bindTexture(t.TEXTURE_2D,this._renderer.texture);let _=this._renderer.rect;return t.uniformMatrix3fv(a.matrix,!1,this._renderer.matrix),t.uniform4f(a.rect,_.left,_.top,_.right,_.bottom),t.drawArrays(t.TRIANGLES,0,6),this._mask&&t.disable(t.STENCIL_TEST),this.flagReset()}},points:{updateCanvas:function(t){let e,i=this.canvas,s=this.ctx,a=t._stroke,c=t._linewidth,f=t._fill,p=t._renderer.opacity||t._opacity,y=t.dashes,_=t._size,k=_;_t.isHidden.test(a)||(k+=c),i.width=Ka(k),i.height=i.width;let S=k/i.width,A=i.width/2,v=i.height/2;s.clearRect(0,0,i.width,i.height),f&&(typeof f=="string"?s.fillStyle=f:(_t[f._renderer.type].render.call(f,s,t),s.fillStyle=f._renderer.effect)),a&&(typeof a=="string"?s.strokeStyle=a:(_t[a._renderer.type].render.call(a,s,t),s.strokeStyle=a._renderer.effect),c&&(s.lineWidth=c/S)),typeof p=="number"&&(s.globalAlpha=p),y&&y.length>0&&(s.lineDashOffset=y.offset||0,s.setLineDash(y)),s.save(),s.translate(A,v),s.scale(_t.precision,_t.precision),s.beginPath(),s.arc(0,0,_/S*.5,0,le),s.restore(),closed&&s.closePath(),_t.isHidden.test(f)||(e=f._renderer&&f._renderer.offset,e&&(s.save(),s.translate(-f._renderer.offset.x,-f._renderer.offset.y),s.scale(f._renderer.scale.x,f._renderer.scale.y)),s.fill(),e&&s.restore()),_t.isHidden.test(a)||(e=a._renderer&&a._renderer.offset,e&&(s.save(),s.translate(-a._renderer.offset.x,-a._renderer.offset.y),s.scale(a._renderer.scale.x,a._renderer.scale.y),s.lineWidth=c/a._renderer.scale.x),s.stroke(),e&&s.restore())},render:function(t,e,i){if(!this._visible||!this._opacity)return this;this._update();let s=this._size,a=i||this.parent,c=e[this._renderer.type],f=this._sizeAttenuation,p=this._stroke,y=this._linewidth,_=a._matrix.manual||a._flagMatrix,k=this._matrix.manual||this._flagMatrix,S=this._renderer.parent!==a,A=this._renderer.vertices,v=this._renderer.collection.length,T=this._flagVertices,I=this._flagFill||this._fill instanceof qt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Ht&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Ot&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof qt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Ht&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Ot&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||a._flagOpacity||this._flagVisible||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((_||k||S)&&(this._renderer.matrix||(this._renderer.matrix=new Ue(9)),this._matrix.toTransformArray(!0,ri),Pr(ri,a._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof X||(this._renderer.scale=new X),this._scale instanceof X?(this._renderer.scale.x=this._scale.x*a._renderer.scale.x,this._renderer.scale.y=this._scale.y*a._renderer.scale.y):(this._renderer.scale.x=this._scale*a._renderer.scale.x,this._renderer.scale.y=this._scale*a._renderer.scale.y),S&&(this._renderer.parent=a)),T){let R=this._renderer.positionBuffer;R&&t.deleteBuffer(R),this._renderer.positionBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._renderer.positionBuffer),t.vertexAttribPointer(c.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(c.position),t.bufferData(t.ARRAY_BUFFER,A,t.STATIC_DRAW)}return I?(this._renderer.opacity=this._opacity*a._renderer.opacity,_t.updateTexture.call(_t,t,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!i||!this._renderer.texture?this:(_t.isHidden.test(p)||(s+=y),s/=_t.precision,f&&(s*=Math.max(this._renderer.scale.x,this._renderer.scale.y)),e.current!==c&&(t.useProgram(c),e.resolution.flagged||t.uniform2f(t.getUniformLocation(c,"u_resolution"),e.resolution.width,e.resolution.height),e.current=c),e.resolution.flagged&&t.uniform2f(t.getUniformLocation(c,"u_resolution"),e.resolution.width,e.resolution.height),t.bindTexture(t.TEXTURE_2D,this._renderer.texture),t.uniformMatrix3fv(c.matrix,!1,this._renderer.matrix),t.uniform1f(c.size,s*e.resolution.ratio),t.drawArrays(t.POINTS,0,v),this.flagReset())}},text:{updateCanvas:function(t){let e=this.canvas,i=this.ctx,s=t._renderer.scale,a=t._stroke,c=t._linewidth*s,f=t._fill,p=t._renderer.opacity||t._opacity,y=t.dashes,_=t._decoration;e.width=Math.max(Math.ceil(t._renderer.rect.width*s.x),1),e.height=Math.max(Math.ceil(t._renderer.rect.height*s.y),1);let k=t._renderer.rect.centroid,S=k.x,A=k.y,v,T,I,R,M,P,B,H,q,l,$,Y=f._renderer&&f._renderer.offset&&a._renderer&&a._renderer.offset;if(i.clearRect(0,0,e.width,e.height),Y||(i.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" ")),i.textAlign="center",i.textBaseline="middle",f&&(typeof f=="string"?i.fillStyle=f:(_t[f._renderer.type].render.call(f,i,t),i.fillStyle=f._renderer.effect)),a&&(typeof a=="string"?i.strokeStyle=a:(_t[a._renderer.type].render.call(a,i,t),i.strokeStyle=a._renderer.effect),c&&(i.lineWidth=c)),typeof p=="number"&&(i.globalAlpha=p),y&&y.length>0&&(i.lineDashOffset=y.offset||0,i.setLineDash(y)),i.save(),i.scale(s.x,s.y),i.translate(S,A),_t.isHidden.test(f)||(f._renderer&&f._renderer.offset?(P=f._renderer.scale.x,B=f._renderer.scale.y,i.save(),i.translate(-f._renderer.offset.x,-f._renderer.offset.y),i.scale(P,B),v=t._size/f._renderer.scale.y,T=t._leading/f._renderer.scale.y,i.font=[t._style,t._weight,v+"px/",T+"px",t._family].join(" "),I=f._renderer.offset.x/f._renderer.scale.x,R=f._renderer.offset.y/f._renderer.scale.y,i.fillText(t.value,I,R),i.restore()):i.fillText(t.value,0,0)),_t.isHidden.test(a)||(a._renderer&&a._renderer.offset?(P=a._renderer.scale.x,B=a._renderer.scale.y,i.save(),i.translate(-a._renderer.offset.x,-a._renderer.offset.y),i.scale(P,B),v=t._size/a._renderer.scale.y,T=t._leading/a._renderer.scale.y,i.font=[t._style,t._weight,v+"px/",T+"px",t._family].join(" "),I=a._renderer.offset.x/a._renderer.scale.x,R=a._renderer.offset.y/a._renderer.scale.y,M=c/a._renderer.scale.x,i.lineWidth=M,i.strokeText(t.value,I,R),i.restore()):i.strokeText(t.value,0,0)),/(underline|strikethrough)/i.test(_)){let K=i.measureText(t.value);switch(_){case"underline":q=K.actualBoundingBoxAscent,$=K.actualBoundingBoxAscent;break;case"strikethrough":q=0,$=0;break}H=-K.width/2,l=K.width/2,i.lineWidth=Math.max(Math.floor(t._size/15),1),i.strokeStyle=i.fillStyle,i.beginPath(),i.moveTo(H,q),i.lineTo(l,$),i.stroke()}i.restore()},getBoundingClientRect:function(t,e){let i=_t.ctx;i.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" "),i.textAlign="center",i.textBaseline=t._baseline;let s=i.measureText(t._value).width*1.25,a=Math.max(t._size,t._leading)*1.25;this._linewidth&&!_t.isHidden.test(this._stroke)&&(s+=this._linewidth*2,a+=this._linewidth*2);let c=s/2,f=a/2;switch(_t.alignments[t._alignment]||t._alignment){case _t.alignments.left:e.left=0,e.right=s;break;case _t.alignments.right:e.left=-s,e.right=0;break;default:e.left=-c,e.right=c}switch(t._baseline){case"bottom":e.top=-a,e.bottom=0;break;case"top":e.top=0,e.bottom=a;break;default:e.top=-f,e.bottom=f}e.width=s,e.height=a,e.centroid||(e.centroid={}),e.centroid.x=c,e.centroid.y=f},render:function(t,e,i){if(!this._visible||!this._opacity)return this;this._update();let s=i||this.parent,a=e[this._renderer.type],c=s._matrix.manual||s._flagMatrix,f=this._matrix.manual||this._flagMatrix,p=this._renderer.parent!==s,y=this._flagVertices||this._flagFill||this._fill instanceof qt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof Ht&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Ot&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof qt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof Ht&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Ot&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||s._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((c||f||p)&&(this._renderer.matrix||(this._renderer.matrix=new Ue(9)),this._matrix.toTransformArray(!0,ri),Pr(ri,s._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof X||(this._renderer.scale=new X),this._scale instanceof X?(this._renderer.scale.x=this._scale.x*s._renderer.scale.x,this._renderer.scale.y=this._scale.y*s._renderer.scale.y):(this._renderer.scale.x=this._scale*s._renderer.scale.x,this._renderer.scale.y=this._scale*s._renderer.scale.y),p&&(this._renderer.parent=s)),this._mask&&(t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,0),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1),_t[this._mask._renderer.type].render.call(this._mask,t,e,this),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.colorMask(!0,!0,!0,!0)),y?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*s._renderer.opacity,_t.text.getBoundingClientRect(this,this._renderer.rect),_t.updateTexture.call(_t,t,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!i||!this._renderer.texture)return this;e.current!==a&&(t.useProgram(a),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.position),t.vertexAttribPointer(a.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a.position),t.bufferData(t.ARRAY_BUFFER,Kn,t.STATIC_DRAW),e.resolution.flagged||t.uniform2f(t.getUniformLocation(a,"u_resolution"),e.resolution.width,e.resolution.height),e.current=a),e.resolution.flagged&&t.uniform2f(t.getUniformLocation(a,"u_resolution"),e.resolution.width,e.resolution.height),t.bindTexture(t.TEXTURE_2D,this._renderer.texture);let _=this._renderer.rect;return t.uniformMatrix3fv(a.matrix,!1,this._renderer.matrix),t.uniform4f(a.rect,_.left,_.top,_.right,_.bottom),t.drawArrays(t.TRIANGLES,0,6),this._mask&&t.disable(t.STENCIL_TEST),this.flagReset()}},"linear-gradient":{render:function(t,e){if(!(!t.canvas.getContext("2d")||!e)){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let i,s=this.left._x,a=this.left._y,c=this.right._x,f=this.right._y;/objectBoundingBox/i.test(this._units)&&(i=e.getBoundingClientRect(!0),s=(s-.5)*i.width,a=(a-.5)*i.height,c=(c-.5)*i.width,f=(f-.5)*i.height),this._renderer.effect=t.createLinearGradient(s,a,c,f);for(let p=0;p<this.stops.length;p++){let y=this.stops[p];this._renderer.effect.addColorStop(y._offset,y._color)}}return this.flagReset()}}},"radial-gradient":{render:function(t,e){if(!(!t.canvas.getContext("2d")||!e)){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let i,s=this.center._x,a=this.center._y,c=this.focal._x,f=this.focal._y,p=this._radius;/objectBoundingBox/i.test(this._units)&&(i=e.getBoundingClientRect(!0),s=s*i.width*.5,a=a*i.height*.5,c=c*i.width*.5,f=f*i.height*.5,p*=Math.min(i.width,i.height)*.5),this._renderer.effect=t.createRadialGradient(s,a,0,c,f,p);for(let y=0;y<this.stops.length;y++){let _=this.stops[y];this._renderer.effect.addColorStop(_._offset,_._color)}}return this.flagReset()}}},texture:{render:function(t,e){if(!t.canvas.getContext("2d"))return;this._update();let i=this.image;if((this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)this._renderer.effect=t.createPattern(i,this._repeat);else if(!this._renderer.effect)return this.flagReset();return(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof X||(this._renderer.offset=new X),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,i&&(this._renderer.offset.x+=i.width/2,this._renderer.offset.y+=i.height/2,this._scale instanceof X?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof X||(this._renderer.scale=new X),this._scale instanceof X?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},updateTexture:function(t,e){if(this[e._renderer.type].updateCanvas.call(_t,e),this.canvas.width<=0||this.canvas.height<=0){e._renderer.texture&&t.deleteTexture(e._renderer.texture),delete e._renderer.texture;return}e._renderer.texture||(e._renderer.texture=t.createTexture()),t.bindTexture(t.TEXTURE_2D,e._renderer.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.canvas)},program:{create:function(t,e){let i,s,a;if(i=t.createProgram(),it.each(e,function(c){t.attachShader(i,c)}),t.linkProgram(i),s=t.getProgramParameter(i,t.LINK_STATUS),!s)throw a=t.getProgramInfoLog(i),t.deleteProgram(i),new ve("unable to link program: "+a);return i}},TextureRegistry:new $r};_t.ctx=_t.canvas.getContext("2d");var yo=class extends z{constructor(t){super();let e,i,s,a;if(this.domElement=t.domElement||document.createElement("canvas"),typeof t.offscreenElement<"u"&&(_t.canvas=t.offscreenElement,_t.ctx=_t.canvas.getContext("2d")),this.scene=new Kt,this.scene.parent=this,this._renderer={type:"renderer",matrix:new Ue(Ph),scale:1,opacity:1},this._flagMatrix=!0,t=it.defaults(t||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=t.overdraw,e=this.ctx=this.domElement.getContext("webgl",t)||this.domElement.getContext("experimental-webgl",t),!this.ctx)throw new ve("unable to create a webgl context. Try using another renderer.");s=Ce.create(e,Ce.path.vertex,Ce.types.vertex),a=Ce.create(e,Ce.path.fragment,Ce.types.fragment),this.programs={current:null,buffers:{position:e.createBuffer()},resolution:{width:0,height:0,ratio:1,flagged:!1}},i=this.programs.path=_t.program.create(e,[s,a]),this.programs.text=this.programs.path,i.position=e.getAttribLocation(i,"a_position"),i.matrix=e.getUniformLocation(i,"u_matrix"),i.rect=e.getUniformLocation(i,"u_rect");let c=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,c),e.vertexAttribPointer(i.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(i.position),e.bufferData(e.ARRAY_BUFFER,Kn,e.STATIC_DRAW),s=Ce.create(e,Ce.points.vertex,Ce.types.vertex),a=Ce.create(e,Ce.points.fragment,Ce.types.fragment),i=this.programs.points=_t.program.create(e,[s,a]),i.position=e.getAttribLocation(i,"a_position"),i.matrix=e.getUniformLocation(i,"u_matrix"),i.size=e.getUniformLocation(i,"u_size"),e.enable(e.BLEND),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}setSize(t,e,i){let s,a,c=this.ctx;return this.width=t,this.height=e,this.ratio=typeof i>"u"?Jn(c):i,this.domElement.width=t*this.ratio,this.domElement.height=e*this.ratio,it.isObject(this.domElement.style)&&it.extend(this.domElement.style,{width:t+"px",height:e+"px"}),this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,s=t*this.ratio,a=e*this.ratio,c.viewport(0,0,s,a),this.programs.resolution.width=s,this.programs.resolution.height=a,this.programs.resolution.ratio=this.ratio,this.programs.resolution.flagged=!0,this.trigger(z.Types.resize,t,e,i)}render(){let t=this.ctx;return this.overdraw||t.clear(t.COLOR_BUFFER_BIT),_t.group.render.call(this.scene,t,this.programs),this._flagMatrix=!1,this.programs.resolution.flagged=!0,this}};m(yo,"Utils",_t);var Nh=it.extend({Error:ve,getRatio:Jn,read:zt,xhr:_o},it,be,Qa,$a),Ji=class{constructor(t){m(this,"_events",new z),m(this,"type",""),m(this,"renderer",null),m(this,"scene",null),m(this,"width",0),m(this,"height",0),m(this,"frameCount",0),m(this,"timeDelta",0),m(this,"playing",!1);let e=it.defaults(t||{},{fullscreen:!1,fitted:!1,width:640,height:480,type:Ji.Types.svg,autostart:!1});if(it.each(e,function(i,s){/fullscreen/i.test(s)||/autostart/i.test(s)||(this[s]=i)},this),it.isElement(e.domElement)){let i=e.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+i)||(this.type=Ji.Types[i])}this.renderer=new Ji[this.type](this),this.setPlaying(e.autostart),this.frameCount=0,e.fullscreen?(this.fit=Ih.bind(this),this.fit.domElement=window,this.fit.attached=!0,it.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),it.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),ye.bind(this.fit.domElement,"resize",this.fit),this.fit()):e.fitted?(this.fit=jh.bind(this),it.extend(this.renderer.domElement.style,{display:"block"})):it.isElement(e.domElement)||(this.renderer.setSize(e.width,e.height,this.ratio),this.width=e.width,this.height=e.height),this.renderer.bind(z.Types.resize,Dh.bind(this)),this.scene=this.renderer.scene,Ji.Instances.push(this),e.autostart&&er.init()}get _bound(){return this._events._bound}set _bound(t){this._events._bound=t}addEventListener(){return this._events.addEventListener.apply(this,arguments)}on(){return this._events.addEventListener.apply(this,arguments)}bind(){return this._events.addEventListener.apply(this,arguments)}removeEventListener(){return this._events.removeEventListener.apply(this,arguments)}off(){return this._events.removeEventListener.apply(this,arguments)}unbind(){return this._events.removeEventListener.apply(this,arguments)}dispatchEvent(){return this._events.dispatchEvent.apply(this,arguments)}trigger(){return this._events.dispatchEvent.apply(this,arguments)}listen(){return this._events.listen.apply(this,arguments)}ignore(){return this._events.ignore.apply(this,arguments)}appendTo(t){return t.appendChild(this.renderer.domElement),this.fit&&(this.fit.domElement!==window&&(this.fit.domElement=t,this.fit.attached=!1),this.update()),this}play(){return this.playing=!0,er.init(),this.trigger(z.Types.play)}pause(){return this.playing=!1,this.trigger(z.Types.pause)}setPlaying(t){this.playing=t}release(t){let e,i,s;if(!it.isObject(t))return this.release(this.scene);if(typeof t.unbind=="function"&&t.unbind(),t.vertices)for(typeof t.vertices.unbind=="function"&&t.vertices.unbind(),e=0;e<t.vertices.length;e++)i=t.vertices[e],typeof i.unbind=="function"&&i.unbind(),i.controls&&(i.controls.left&&typeof i.controls.left.unbind=="function"&&i.controls.left.unbind(),i.controls.right&&typeof i.controls.right.unbind=="function"&&i.controls.right.unbind());if(t.children){for(e=0;e<t.children.length;e++)s=t.children[e],this.release(s);typeof t.children.unbind=="function"&&t.children.unbind()}return t}update(){let t=!!this._lastFrame,e=it.performance.now();t&&(this.timeDelta=parseFloat((e-this._lastFrame).toFixed(3))),this._lastFrame=e,this.fit&&this.fit.domElement&&!this.fit.attached&&(ye.bind(this.fit.domElement,"resize",this.fit),this.fit.attached=!0,this.fit());let i=this.width,s=this.height,a=this.renderer;return(i!==a.width||s!==a.height)&&a.setSize(i,s,this.ratio),this.trigger(z.Types.update,this.frameCount,this.timeDelta),this.render()}render(){return this.renderer.render(),this.trigger(z.Types.render,this.frameCount++)}add(t){return t instanceof Array||(t=Array.prototype.slice.call(arguments)),this.scene.add(t),this}remove(t){return t instanceof Array||(t=Array.prototype.slice.call(arguments)),this.scene.remove(t),this}clear(){return this.scene.remove(this.scene.children),this}makeLine(t,e,i,s){let a=new Zn(t,e,i,s);return this.scene.add(a),a}makeArrow(t,e,i,s,a){let c=typeof a=="number"?a:10,f=Math.atan2(s-e,i-t),p=[new xt(t,e,void 0,void 0,void 0,void 0,W.move),new xt(i,s,void 0,void 0,void 0,void 0,W.line),new xt(i-c*Math.cos(f-Math.PI/4),s-c*Math.sin(f-Math.PI/4),void 0,void 0,void 0,void 0,W.line),new xt(i,s,void 0,void 0,void 0,void 0,W.move),new xt(i-c*Math.cos(f+Math.PI/4),s-c*Math.sin(f+Math.PI/4),void 0,void 0,void 0,void 0,W.line)],y=new St(p,!1,!1,!0);return y.noFill(),y.cap="round",y.join="round",this.scene.add(y),y}makeRectangle(t,e,i,s){let a=new gi(t,e,i,s);return this.scene.add(a),a}makeRoundedRectangle(t,e,i,s,a){let c=new Kr(t,e,i,s,a);return this.scene.add(c),c}makeCircle(t,e,i,s){let a=new Yr(t,e,i,s);return this.scene.add(a),a}makeEllipse(t,e,i,s,a){let c=new Gr(t,e,i,s,a);return this.scene.add(c),c}makeStar(t,e,i,s,a){let c=new rs(t,e,i,s,a);return this.scene.add(c),c}makeCurve(t){let e=arguments.length;if(!Array.isArray(t)){t=[];for(let c=0;c<e;c+=2){let f=arguments[c];if(typeof f!="number")break;let p=arguments[c+1];t.push(new xt(f,p))}}let i=arguments[e-1],s=new St(t,!(typeof i=="boolean"&&i),!0),a=s.getBoundingClientRect();return s.center().translation.set(a.left+a.width/2,a.top+a.height/2),this.scene.add(s),s}makePolygon(t,e,i,s){let a=new is(t,e,i,s);return this.scene.add(a),a}makeArcSegment(t,e,i,s,a,c,f){let p=new ts(t,e,i,s,a,c,f);return this.scene.add(p),p}makePoints(t){let e=arguments.length,i=t;if(!Array.isArray(t)){i=[];for(let a=0;a<e;a+=2){let c=arguments[a];if(typeof c!="number")break;let f=arguments[a+1];i.push(new X(c,f))}}let s=new es(i);return this.scene.add(s),s}makePath(t){let e=arguments.length,i=t;if(!Array.isArray(t)){i=[];for(let f=0;f<e;f+=2){let p=arguments[f];if(typeof p!="number")break;let y=arguments[f+1];i.push(new xt(p,y))}}let s=arguments[e-1],a=new St(i,!(typeof s=="boolean"&&s)),c=a.getBoundingClientRect();return typeof c.top=="number"&&typeof c.left=="number"&&typeof c.right=="number"&&typeof c.bottom=="number"&&a.center().translation.set(c.left+c.width/2,c.top+c.height/2),this.scene.add(a),a}makeText(t,e,i,s){let a=new Oe(t,e,i,s);return this.add(a),a}makeLinearGradient(t,e,i,s){let a=Array.prototype.slice.call(arguments,4),c=new qt(t,e,i,s,a);return this.add(c),c}makeRadialGradient(t,e,i){let s=Array.prototype.slice.call(arguments,3),a=new Ht(t,e,i,s);return this.add(a),a}makeSprite(t,e,i,s,a,c,f){let p=new Xr(t,e,i,s,a,c);return f&&p.play(),this.add(p),p}makeImageSequence(t,e,i,s,a){let c=new Qr(t,e,i,s);return a&&c.play(),this.add(c),c}makeTexture(t,e){return new Ot(t,e)}makeGroup(t){t instanceof Array||(t=Array.prototype.slice.call(arguments));let e=new Kt;return this.scene.add(e),e.add(t),e}interpret(t,e,i){let s=t.tagName.toLowerCase();if(i=typeof i<"u"?i:!0,!(s in zt))return null;let a=zt[s].call(this,t);return i?this.add(e&&a instanceof Kt?a.children:a):a.parent&&a.remove(),a}load(t,e){let i=new Kt,s,a,c,f=function(p){for(ye.temp.innerHTML=p,a=0;a<ye.temp.children.length;a++)s=ye.temp.children[a],c=this.interpret(s,!1,!1),c!==null&&i.add(c);if(typeof e=="function"){let y=ye.temp.children.length<=1?ye.temp.children[0]:ye.temp.children;e(i,y)}}.bind(this);return/\.svg$/i.test(t)?(_o(t,f),i):(f(t),i)}},G=Ji;m(G,"nextFrameID",Jt.nextFrameID);m(G,"Types",Jt.Types);m(G,"Version",Jt.Version);m(G,"PublishDate",Jt.PublishDate);m(G,"Identifier",Jt.Identifier);m(G,"Resolution",Jt.Resolution);m(G,"AutoCalculateImportedMatrices",Jt.AutoCalculateImportedMatrices);m(G,"Instances",Jt.Instances);m(G,"uniqueId",Jt.uniqueId);m(G,"Anchor",xt);m(G,"Collection",ai);m(G,"Events",z);m(G,"Group",Kt);m(G,"Matrix",pi);m(G,"Path",St);m(G,"Registry",$r);m(G,"Shape",si);m(G,"Text",Oe);m(G,"Vector",X);m(G,"Gradient",Qt);m(G,"ImageSequence",Qr);m(G,"LinearGradient",qt);m(G,"RadialGradient",Ht);m(G,"Sprite",Xr);m(G,"Stop",oi);m(G,"Texture",Ot);m(G,"ArcSegment",ts);m(G,"Circle",Yr);m(G,"Ellipse",Gr);m(G,"Line",Zn);m(G,"Points",es);m(G,"Polygon",is);m(G,"Rectangle",gi);m(G,"RoundedRectangle",Kr);m(G,"Star",rs);m(G,"CanvasRenderer",ir);m(G,"SVGRenderer",mo);m(G,"WebGLRenderer",yo);m(G,"Commands",W);m(G,"Utils",Nh);function Ih(){let t=document.body.getBoundingClientRect(),e=this.width=t.width,i=this.height=t.height;this.renderer.setSize(e,i,this.ratio)}function jh(){let t=this.renderer.domElement.parentElement;if(!t){console.warn("Two.js: Attempting to fit to parent, but no parent found.");return}let e=t.getBoundingClientRect(),i=this.width=e.width,s=this.height=e.height;this.renderer.setSize(i,s,this.ratio)}function Dh(t,e){this.width=t,this.height=e,this.trigger(z.Types.resize,t,e)}var er=ye.getRequestAnimationFrame();function bo(){for(let t=0;t<G.Instances.length;t++){let e=G.Instances[t];e.playing&&e.update()}G.nextFrameID=er(bo)}er.init=function(){bo(),er.init=function(){}};var re=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return this.None(t)},Out:function(t){return this.None(t)},InOut:function(t){return this.None(t)}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(t){var e=1.70158;return t===1?1:t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return t===0?0:--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In:function(t){return 1-re.Bounce.Out(1-t)},Out:function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375},InOut:function(t){return t<.5?re.Bounce.In(t*2)*.5:re.Bounce.Out(t*2-1)*.5+.5}}),generatePow:function(t){return t===void 0&&(t=4),t=t<Number.EPSILON?Number.EPSILON:t,t=t>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(e*2,t)/2:(1-Math.pow(2-e*2,t))/2+.5}}}}),rr=function(){return performance.now()},Bh=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(i){return e._tweens[i]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},t.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},t.prototype.update=function(e,i){e===void 0&&(e=rr()),i===void 0&&(i=!1);var s=Object.keys(this._tweens);if(s.length===0)return!1;for(;s.length>0;){this._tweensAddedDuringUpdate={};for(var a=0;a<s.length;a++){var c=this._tweens[s[a]],f=!i;c&&c.update(e,f)===!1&&!i&&delete this._tweens[s[a]]}s=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),Li={Linear:function(t,e){var i=t.length-1,s=i*e,a=Math.floor(s),c=Li.Utils.Linear;return e<0?c(t[0],t[1],s):e>1?c(t[i],t[i-1],i-s):c(t[a],t[a+1>i?i:a+1],s-a)},Bezier:function(t,e){for(var i=0,s=t.length-1,a=Math.pow,c=Li.Utils.Bernstein,f=0;f<=s;f++)i+=a(1-e,s-f)*a(e,f)*t[f]*c(s,f);return i},CatmullRom:function(t,e){var i=t.length-1,s=i*e,a=Math.floor(s),c=Li.Utils.CatmullRom;return t[0]===t[i]?(e<0&&(a=Math.floor(s=i*(1+e))),c(t[(a-1+i)%i],t[a],t[(a+1)%i],t[(a+2)%i],s-a)):e<0?t[0]-(c(t[0],t[0],t[1],t[1],-s)-t[0]):e>1?t[i]-(c(t[i],t[i],t[i-1],t[i-1],s-i)-t[i]):c(t[a?a-1:0],t[a],t[i<a+1?i:a+1],t[i<a+2?i:a+2],s-a)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=Li.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:function(){var t=[1];return function(e){var i=1;if(t[e])return t[e];for(var s=e;s>1;s--)i*=s;return t[e]=i,i}}(),CatmullRom:function(t,e,i,s,a){var c=(i-t)*.5,f=(s-e)*.5,p=a*a,y=a*p;return(2*e-2*i+c+f)*y+(-3*e+3*i-2*c-f)*p+c*a+e}}},vo=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),ns=new Bh,we=function(){function t(e,i){i===void 0&&(i=ns),this._object=e,this._group=i,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=re.Linear.None,this._interpolationFunction=Li.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=vo.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(e,i){if(i===void 0&&(i=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=i,this},t.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e,this},t.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},t.prototype.start=function(e,i){if(e===void 0&&(e=rr()),i===void 0&&(i=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var s in this._valuesStartRepeat)this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||i){if(this._propertiesAreSetUp=!0,!this._isDynamic){var a={};for(var c in this._valuesEnd)a[c]=this._valuesEnd[c];this._valuesEnd=a}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,i)}return this},t.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},t.prototype._setupProperties=function(e,i,s,a,c){for(var f in s){var p=e[f],y=Array.isArray(p),_=y?"array":typeof p,k=!y&&Array.isArray(s[f]);if(!(_==="undefined"||_==="function")){if(k){var S=s[f];if(S.length===0)continue;for(var A=[p],v=0,T=S.length;v<T;v+=1){var I=this._handleRelativeValue(p,S[v]);if(isNaN(I)){k=!1,console.warn("Found invalid interpolation list. Skipping.");break}A.push(I)}k&&(s[f]=A)}if((_==="object"||y)&&p&&!k){i[f]=y?[]:{};var R=p;for(var M in R)i[f][M]=R[M];a[f]=y?[]:{};var S=s[f];if(!this._isDynamic){var P={};for(var M in S)P[M]=S[M];s[f]=S=P}this._setupProperties(R,i[f],S,a[f],c)}else(typeof i[f]>"u"||c)&&(i[f]=p),y||(i[f]*=1),k?a[f]=s[f].slice().reverse():a[f]=i[f]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(e){return e===void 0&&(e=rr()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},t.prototype.resume=function(e){return e===void 0&&(e=rr()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var e=0,i=this._chainedTweens.length;e<i;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return e===void 0&&(e=ns),this._group=e,this},t.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},t.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},t.prototype.easing=function(e){return e===void 0&&(e=re.Linear.None),this._easingFunction=e,this},t.prototype.interpolation=function(e){return e===void 0&&(e=Li.Linear),this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,i){if(e===void 0&&(e=rr()),i===void 0&&(i=!0),this._isPaused)return!0;var s,a,c=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>c)return!1;i&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),a=(e-this._startTime)/this._duration,a=this._duration===0||a>1?1:a;var f=this._easingFunction(a);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,f),this._onUpdateCallback&&this._onUpdateCallback(this._object,a),a===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(s in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[s]=="string"&&(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(this._valuesEnd[s])),this._yoyo&&this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var p=0,y=this._chainedTweens.length;p<y;p++)this._chainedTweens[p].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,i,s,a){for(var c in s)if(i[c]!==void 0){var f=i[c]||0,p=s[c],y=Array.isArray(e[c]),_=Array.isArray(p),k=!y&&_;k?e[c]=this._interpolationFunction(p,a):typeof p=="object"&&p?this._updateProperties(e[c],f,p,a):(p=this._handleRelativeValue(f,p),typeof p=="number"&&(e[c]=f+(p-f)*a))}},t.prototype._handleRelativeValue=function(e,i){return typeof i!="string"?i:i.charAt(0)==="+"||i.charAt(0)==="-"?e+parseFloat(i):parseFloat(i)},t.prototype._swapEndStartRepeatValues=function(e){var i=this._valuesStartRepeat[e],s=this._valuesEnd[e];typeof s=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(s):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=i},t}();var Yf=vo.nextId,We=ns,Gf=We.getAll.bind(We),Kf=We.removeAll.bind(We),Qf=We.add.bind(We),Jf=We.remove.bind(We),xo=We.update.bind(We);var ot=new G({type:G.Types.canvas,fullscreen:!0,ratio:1});ot.renderer.domElement.id="stage";var nr=Math.PI*2,fe=1e3,Jr=.125,ss=new G.Vector,tc=document.querySelector("#container"),zh=url.boolean("local")||window.location.href.match(/localhost/i),Zr=zh?"assets/":"//storage.googleapis.com/cdn.patatap.com/";var ar=["background","middleground","foreground","highlight","accent","white","black"],or=[{background:{r:181,g:181,b:181},middleground:{r:141,g:164,b:170},foreground:{r:227,g:79,b:12},highlight:{r:163,g:141,b:116},accent:{r:255,g:197,b:215},white:{r:255,g:255,b:255},black:{r:0,g:0,b:0},isDark:!1},{background:{r:255,g:230,b:255},middleground:{r:151,g:41,b:164},foreground:{r:1,g:120,b:186},highlight:{r:255,g:255,b:0},accent:{r:255,g:51,b:148},white:{r:255,g:255,b:255},black:{r:255,g:255,b:255},isDark:!1},{background:{r:217,g:82,b:31},middleground:{r:143,g:74,b:45},foreground:{r:255,g:108,b:87},highlight:{r:255,g:126,b:138},accent:{r:227,g:190,b:141},white:{r:255,g:255,b:255},black:{r:0,g:0,b:0},isDark:!1},{background:{r:57,g:109,b:193},middleground:{r:186,g:60,b:223},foreground:{r:213,g:255,b:93},highlight:{r:213,g:160,b:255},accent:{r:36,g:221,b:165},white:{r:215,g:236,b:255},black:{r:0,g:0,b:0},isDark:!0},{background:{r:255,g:244,b:211},middleground:{r:207,g:145,b:79},foreground:{r:38,g:83,b:122},highlight:{r:178,g:87,b:53},accent:{r:235,g:192,b:92},white:{r:226,g:82,b:87},black:{r:0,g:0,b:0},isDark:!1},{background:{r:39,g:6,b:54},middleground:{r:69,g:26,b:87},foreground:{r:252,g:25,b:246},highlight:{r:52,g:255,b:253},accent:{r:133,g:102,b:193},white:{r:253,g:228,b:252},black:{r:255,g:255,b:255},isDark:!0}],_i=url.int("palette",0),sr=!1,os,ls,hs,lr={},tn={};ar.forEach(t=>{lr[t]={r:0,g:0,b:0},tn[t]={r:0,g:0,b:0}});wo(or[_i]);function qh(){return ar[Math.floor(Math.random()*ar.length)]}function Hh(){return or[_i]}function wo(t){amount=0;for(let e in lr){let i=lr[e],s=t[e];i.r=s.r,i.g=s.g,i.b=s.b,amount++,tn[e]=So(i)}return amount}function ko(t){let e=0;for(let i in lr){let s=lr[i],a=t[i];To(s,a)&&e++,s.r=as(s.r,a.r,Jr),s.g=as(s.g,a.g,Jr),s.b=as(s.b,a.b,Jr),tn[i]=So(s)}return e}function as(t,e,i){let s=e-t;return Math.abs(s)<=1e-4?e:t+s*i}function To(t,e,i){let s=i||.25;return Math.abs(t.r-e.r)<s&&Math.abs(t.g-e.g)<s&&Math.abs(t.b-e.b)<s}function So({r:t,g:e,b:i}){return`rgb(${Math.round(t)},${Math.round(e)},${Math.round(i)})`}function Uh(t){os=t}function Wh(t){ls=t}function Vh(t){hs=t}function $h(){if(!sr)return;let t=ko(or[_i]);ls&&ls(),t>=ar.length&&sr&&(sr=!1,hs&&hs(_i))}var Mt={keys:ar,list:or,colors:tn,get current(){return _i},set current(t){_i=t%or.length,sr=!0,os&&os(_i)},get changing(){return sr},equals:To,getRandomKey:qh,get:Hh,onStart:Uh,onUpdate:Wh,onComplete:Vh,set:wo,tween:ko,update:$h};var Mo=sa(Nn());var Ao=function(t){return t},fs;try{fs=!!AudioContext}catch{fs=!1}function Xh({context:t,uri:e,callback:i}){return new Promise(function(s,a){var c=new XMLHttpRequest;c.open("GET",e,!0),c.responseType="arraybuffer",c.onerror=a,c.onload=function(){s({context:t,data:c.response,callback:i})},c.send()})}function Eo({context:t,data:e,callback:i}){return new Promise(function(s,a){var c=function(f){s(f,e),i&&i(f,e)};t.decodeAudioData(e,c,a)})}var Ii,mi,yi,ji,ke,en,Co,hr=class{constructor(e,i,s){di(this,en);di(this,Ii,!1);di(this,mi,1);di(this,yi,1);di(this,ji,0);di(this,ke,0);Je(this,"playing",!1);Je(this,"filter",null);Je(this,"buffer",null);Je(this,"data",null);Je(this,"gain",null);Je(this,"src",null);Je(this,"ctx",null);var a=this;switch(this.ctx=e,typeof i){case"string":this.src=i,Xh({context:e,uri:i,callback:c}).then(Eo);break;case"object":Eo({context:e,data:i,callback:c});break}function c(f,p){a.buffer=f,a.data=p,a.gain=a.filter=e.createGain(),a.gain.connect(e.destination),a.gain.gain.value=Math.max(Math.min(ae(a,mi),1),0),s&&s(this)}}applyFilter(e){return this.filter&&this.filter!==this.gain&&this.filter.disconnect(this.gain),this.filter=e,this.filter.connect(this.gain),this}play(e){var i=Ar(e||{},{time:this.ctx.currentTime,loop:this._loop,offset:this._offset,duration:this.buffer.duration-this._offset});return this.ctx&&/suspended/i.test(this.ctx.state)&&this.ctx.resume(),this.source&&this.stop(),ze(this,ji,i.time),ze(this,Ii,i.loop),this.playing=!0,this.source=this.ctx.createBufferSource(),this.source.onended=aa(this,en,Co),this.source.buffer=this.buffer,this.source.loop=i.loop,this.source.playbackRate.value=ae(this,yi),this.source.connect(this.filter),this.source.start?this.source.start(i.time,i.offset):this.source.noteOn&&this.source.noteOn(i.time,i.offset),this}pause(e){if(!this.source||!this.playing)return this;var i=Ar(e||{},{time:this.ctx.currentTime});this.source.onended=Ao,this.source.stop?this.source.stop(i.time):this.source.noteOff&&this.source.noteOff(i.time),this.playing=!1;var s=this.ctx.currentTime;return i.time!="undefined"&&(s=i.time),ze(this,ke,s-ae(this,ji)+(ae(this,ke)||0)),ae(this,Ii)?ze(this,ke,Math.max(ae(this,ke),0)%this.buffer.duration):ze(this,ke,Math.min(Math.max(ae(this,ke),0),this.buffer.duration)),this}stop(e){if(!this.source||!this.playing)return this;var i=Ar(e||{},{time:this.ctx.currentTime});return this.source.onended=Ao,this.source.stop?this.source.stop(i.time):this.source.noteOff&&this.source.noteOff(i.time),this.playing=!1,ze(this,ke,0),this}get volume(){return ae(this,mi)}set volume(e){ze(this,mi,e),this.gain&&(this.gain.gain.value=Math.max(Math.min(ae(this,mi),1),0))}get speed(){return ae(this,yi)}set speed(e){ze(this,yi,e),this.playing&&this.play()}get currentTime(){return this.playing?(this.ctx.currentTime-ae(this,ji)+ae(this,ke))*ae(this,yi):ae(this,ke)}set currentTime(e){var i;!this.buffer||(ae(this,Ii)?i=Math.max(e,0)%this.buffer.duration:i=Math.min(Math.max(e,0),this.buffer.duration),ze(this,ke,i),this.playing&&this.play())}get millis(){return Math.floor(this.currentTime*1e3)}get duration(){return this.buffer?this.buffer.duration:0}};Ii=new WeakMap,mi=new WeakMap,yi=new WeakMap,ji=new WeakMap,ke=new WeakMap,en=new WeakSet,Co=function(){this.playing=!1},Je(hr,"has",fs);var cs,us={},fr=[],Yh=["start","update","clear","resize","playing","hash","name"],et=new G.Vector(ot.width/2,ot.height/2),Ro=ot.renderer.domElement,Fo=Math.min(ot.width,ot.height);Ro.style.background=Mt.colors.background;ot.bind("resize",()=>{et.x=ot.width/2,et.y=ot.height/2,Fo=Math.min(ot.width,ot.height),fr.forEach(t=>t.resize())});Mt.onStart(Oo);Mt.onUpdate(()=>{fr.forEach(({update:t})=>t()),Ro.style.background=Mt.colors.background});function ce(t,e){let i=e.name||t;if(t in us){let s=`Animation ${i} already exists.`;throw new Error(s)}Yh.forEach(s=>{if(!(s in e)){let a=`Animation ${i}, does not have "${s}"`;throw new Error(a)}}),us[t]=e,fr.push(e)}function Oo(){let t=Mt.current,e=["A","B","C","D","E","F"],i=".mp3",s=fr.filter(({sounds:k})=>Array.isArray(k));var a=e[t],c=(0,Mo.default)("#lobby"),f=c.find("#loaded").html(0),p=c.find("#total-assets");let y=la(function(){f.index=0,f.html(f.index),p.html(s.length),c.fadeIn()});return new Promise(k=>{let S=()=>{_(),A()},A=ha(s.length,function(){k(),c.fadeOut()});s.forEach(v=>{cs||(cs=new AudioContext);let T=v.sounds[t];if(!T){y();let I=`${Zr}${a}/${v.name}${i}`;T=new hr(cs,I,S),v.sounds.push(T)}v.sound=T})});function _(){f.index++,f.html(f.index)}}var ds={updateAudio:Oo,map:us,get min_dimension(){return Fo},list:fr};var Gh="change-colors",Po="3,",Lo=!1;function Kh(){Mt.current=Mt.current+1,Lo=!0}function Qh(){}function Jh(){}function Zh(){}var No={start:Kh,update:Qh,clear:Zh,resize:Jh,get playing(){return Lo},hash:Po,name:Gh};oe(8).forEach(t=>{ce(`${Po}${t}`,No)});ce("2,7",No);var gs=!1,nn,rn,cr=[new G.Anchor(-et.x,-et.y),new G.Anchor(et.x,-et.y),new G.Anchor(et.x,et.y),new G.Anchor(-et.x,et.y)],Ve=ot.makePath(cr);Ve.closed=!0;Ve.fill=Mt.colors.middleground;Ve.noStroke();var Io={x:et.x},ps={x:ot.width*1.5};_s();function tf(t){gs=!0,Ve.visible=!0,nn.start(),!t&&sn.sound&&sn.sound.stop().play()}function ef(){Ve.fill=Mt.colors.middleground}function rf(){cr[0].set(-et.x,-et.y),cr[1].set(et.x,-et.y),cr[2].set(et.x,et.y),cr[3].set(-et.x,et.y)}function _s(){nn&&nn.stop(),rn&&rn.stop(),Ve.visible=!1,gs=!1,Math.random()>.5?(Ve.translation.set(-et.x,et.y),ps.x=ot.width*1.5):(Ve.translation.set(ot.width*1.5,et.y),ps.x=-et.x),Io.x=et.x,nn=new we(Ve.translation).to(Io,fe*.5).easing(re.Exponential.Out).onComplete(()=>rn.start()),rn=new we(Ve.translation).to(ps,fe*.5).easing(re.Exponential.In).onComplete(_s)}var sn={start:tf,update:ef,resize:rf,clear:_s,get playing(){return gs},hash:"2,1",name:"wipe",sounds:[]};ce(sn.hash,sn);var ys=!1,on,an,ur=[new G.Anchor(-et.x,-et.y),new G.Anchor(et.x,-et.y),new G.Anchor(et.x,et.y),new G.Anchor(-et.x,et.y)],$e=ot.makePath(ur);$e.closed=!0;$e.fill=Mt.colors.highlight;$e.noStroke();var jo={y:et.y},ms={y:0};Do();function nf(t){ys=!0,$e.visible=!0,on.start(),!t&&ln.sound&&ln.sound.stop().play()}function sf(){$e.fill=Mt.colors.highlight}function af(){ur[0].set(-et.x,-et.y),ur[1].set(et.x,-et.y),ur[2].set(et.x,et.y),ur[3].set(-et.x,et.y)}function Do(){on&&on.stop(),an&&an.stop(),$e.visible=!1,ys=!1,Math.random()>.5?($e.translation.set(et.x,-et.y),ms.y=ot.height*1.5):($e.translation.set(et.x,ot.height*1.5),ms.y=-et.y),jo.y=et.y,on=new we($e.translation).to(jo,fe*.5).easing(re.Exponential.Out).onComplete(()=>an.start()),an=new we($e.translation).to(ms,fe*.5).easing(re.Exponential.In)}var ln={start:nf,update:sf,resize:af,clear:Do,get playing(){return ys},hash:"1,1",name:"veil",sounds:[]};ce(ln.hash,ln);var Fc=oe(3).map(t=>{let e=Math.floor(t*1.5)+3,i=10,s,a=100,c=2,f=!1,p=[],y=oe(e).map(M=>{var P=M/e,B=nr*P,H=a*Math.cos(B),q=a*Math.sin(B),l=ot.makeCircle(H,q,c);return l.fill=Mt.colors.black,l.noStroke(),p.push(l),new G.Anchor(H,q)}),_=ot.makePath(y);_.closed=!0,_.stroke=Mt.colors.black,_.noFill(),_.linewidth=.5;let k=ot.makeGroup(_).add(p);k.translation.copy(et);let S={ending:0};I();function A(M){f=!0,k.visible=!0,s.start(),!M&&R.sound&&R.sound.stop().play()}function v(){_.stroke=Mt.colors.black;for(let M=0;M<p.length;M++){let P=p[M];P.fill=Mt.colors.black}}function T(){k.translation.copy(et)}function I(){s&&s.stop(),k.visible=!1,S.ending=k.scale=0,f=!1,s=new we(k).to({scale:i},fe*.75).easing(re.Circular.In).onComplete(I)}let R={start:A,update:v,clear:I,resize:T,get playing(){return f},hash:`${t},6`,name:`prism-${t+1}`,sounds:[]};return ce(R.hash,R),R});var hn,xs=!1,dr=Math.floor(Math.random())*8+8,bs=new G.Vector,Di=ot.height,ws=[],ks=oe(dr).map(t=>{let e=t/dr,i=nr*e,s=Di*Math.sin(i),a=Di*Math.cos(i);return ws.push(new G.Vector(s,a)),new G.Anchor(s,a)}),bi=ot.makeCurve(ks);bi.fill=Mt.colors.middleground;bi.closed=!0;bi.noStroke();var vs={ending:0},of={ending:1};Ts();function lf(t){bi.visible=!0,xs=!0,hn.start(),!t&&fn.sound&&fn.sound.stop().play()}function hf(){bi.fill=Mt.colors.middleground}function ff(){}function Ts(){hn&&hn.stop();let t=Math.floor(Math.random()*8),e,i;switch(bi.visible=!1,bs.set(Math.random()*ot.width,Math.random()*ot.height),t){case 7:e=et.x,i=0;break;case 6:e=0,i=0;break;case 5:e=0,i=et.y;break;case 4:e=0,i=ot.height;break;case 3:e=et.x,i=ot.height;break;case 2:e=ot.width,i=ot.height;break;case 1:e=ot.width,i=et.y;break;default:e=ot.width,i=0}bi.position.set(e,i),vs.ending=0,Di=ot.height;for(let s=0;s<dr;s++){let a=ks[s],f=s/dr*nr;a.set(Di*Math.cos(f),Di*Math.sin(f));let p=G.Vector.angleBetween(a,bs)-f,y=a.distanceTo(bs),_=10*Di/Math.sqrt(y),k=_*Math.cos(p)+a.x,S=_*Math.sin(p)+a.y;ws[s].set(k,S)}xs=!1,hn=new we(vs).to(of,fe*.75).easing(re.Circular.In).onUpdate(cf).onComplete(Ts)}function cf(){let t=vs.ending;for(let e=0;e<dr;e++){let i=ks[e],s=ws[e];i.lerp(s,t)}}var fn={start:lf,update:hf,clear:Ts,resize:ff,get playing(){return xs},hash:"0,1",name:"clay",sounds:[]};ce(fn.hash,fn);var Wc=oe(3).map(t=>{let e=!1,i,s,a=t*4+1,c=ot.width*.75,f=et.y,p,y,_=ot.makeGroup();_.translation.copy(et);let k=oe(a).map($=>{let Y=f/a-f/(a*3),K=0,Q=-f/2+($+1)*(f/(a+1)),ht=T(K,Q,c,Y);return ht.fill=Mt.colors.white,ht.noStroke(),_.add(ht),ht}),S={ending:0,beginning:0},A={ending:1},v={beginning:1};B();function T($,Y,K,Q){let ht=[new G.Anchor(-K/2,-Q/2),new G.Anchor(K/2,-Q/2),new G.Anchor(K/2,Q/2),new G.Anchor(-K/2,Q/2)],tt=new G.Path(ht,!0);return tt.position.set($,Y),tt}function I($){$.visible=!0}function R($){e=!0,k.forEach(I),i.start(),!$&&l.sound&&l.sound.stop().play()}function M(){_.fill=Mt.colors.white}function P(){_.translation.copy(et)}function B(){let $=ot.width*.75;i&&i.stop(),s&&s.stop(),S.beginning=S.ending=0,Math.random()>.5?(p=-$/2,y=$/2):(p=$/2,y=-$/2);for(let K=0;K<a;K++){let Q=k[K];Q.visible=!1;for(let ht=0;ht<Q.vertices.length;ht++){let tt=Q.vertices[ht];tt.x=p}}i=new we(S).to(A,fe*.125).easing(re.Sinusoidal.Out).onUpdate(H).onComplete(()=>s.start()),s=new we(S).to(v,fe*.125).easing(re.Sinusoidal.Out).onUpdate(q).onComplete(B),e=!1}function H(){for(let $=0;$<a;$++){let K=k[$].vertices;K[0].x=K[3].x=y*S.ending}}function q(){for(let $=0;$<a;$++){let K=k[$].vertices;K[1].x=K[2].x=y*S.beginning}}let l={start:R,update:M,clear:B,resize:P,get playing(){return e},hash:`${t},3`,name:`piston-${t+1}`,sounds:[]};return ce(l.hash,l),l});var Kc=oe(3).map(t=>{let e=!1,i,s=ot.makeRectangle(et.x,et.y,ot.width,ot.height);s.noStroke(),s.visible=!1,c(),p();function a(k){typeof i<"u"&&clearTimeout(i),e=!0,!k&&_.sound&&_.sound.stop().play(),ot.bind("update",y),setTimeout(p,fe*.25)}function c(){let k=Mt.keys.length-1-t%Mt.keys.length,S=Mt.keys[k];s.fill=Mt.colors[S]}function f(){s.width=ot.width,s.height=ot.height,s.translation.copy(et)}function p(){e=!1,s.visible=!1,ot.unbind("update",y)}function y(){e&&(s.visible=Math.random()>.5)}let _={start:a,update:c,clear:p,resize:f,get playing(){return e},hash:`${t},0`,name:`flash-${t+1}`,sounds:[]};ce(_.hash,_)});(0,ue.default)(()=>{let t=(0,ue.default)("#content"),e=(0,ue.default)("#hint"),i=(0,ue.default)("#credits"),s=(0,ue.default)("#embed"),a=(0,ue.default)("#merchandise"),c=(0,ue.default)(window),f,p,y,_,k,S=!1,A=!1,v=!1,T=jn(function(){if(S){T();return}e.fadeIn()},2e4),I=jn(function(){if(ss.y>_-64){I();return}t.css("top",0)},1e3),R=document.createElement("audio");R.addEventListener("canplay",M,!1),R.src=`${Zr}silent.mp3`,R.preload="auto",R.load();function M(){c.bind("click",P).bind("visibilitychange",B),R.removeEventListener("canplay",M,!1),H()}function P(){A=!0,R.play(),c.unbind("click",P)}function B(){/hidden/i.test(document.visibilityState)&&A&&(A=!1,c.unbind("click",P).bind("click",P))}function H(){ot.appendTo(t[0]),ds.updateAudio(),(0,ue.default)("#embed-button").click(st=>{st.preventDefault(),e.fadeOut(),a.fadeOut(),s.fadeIn(l)});let ft=!0;(0,ue.default)("#merchandise-button").click(st=>{st.preventDefault(),ft&&(a.css({opacity:1,display:"none",zIndex:0}),ft=!1),e.fadeOut(),s.fadeOut(),a.fadeIn(()=>{S=!0,v=!0})}),(0,ue.default)("#close-merchandise").click(st=>{st.preventDefault(),S=!1,v=!1,a.fadeOut()}),c.bind("resize",function(st){y=c.width(),_=c.height()}).bind("mousemove",function(st){S||url.boolean("kiosk")||(ss.set(st.clientX,st.clientY),Et())}).bind("keydown",function(st,pt){if(st.metaKey||st.ctrlKey)return;st.preventDefault();let bt=st.which||pt,rt;switch(bt){case 81:rt="0,0";break;case 87:rt="0,1";break;case 69:rt="0,2";break;case 82:rt="0,3";break;case 84:rt="0,4";break;case 89:rt="0,5";break;case 85:rt="0,6";break;case 73:rt="0,7";break;case 79:rt="0,8";break;case 80:rt="0,9";break;case 65:rt="1,0";break;case 83:rt="1,1";break;case 68:rt="1,2";break;case 70:rt="1,3";break;case 71:rt="1,4";break;case 72:rt="1,5";break;case 74:rt="1,6";break;case 75:rt="1,7";break;case 76:rt="1,8";break;case 90:rt="2,0";break;case 88:rt="2,1";break;case 67:rt="2,2";break;case 86:rt="2,3";break;case 66:rt="2,4";break;case 78:rt="2,5";break;case 77:rt="2,6";break;case 32:rt="3,0";break}yt(rt),$t()}),navigator.maxTouchPoints>0?(e.find(".message").html("Press anywhere on the screen and turn up speakers"),At(),$()):(i.css("display","block"),e.find(".message").html("Press any key, A to Z or spacebar, and turn up speakers")),ot.bind("update",function(){if(xo(),Mt.update(),!!f)for(let st in p.needsUpdate){let pt=p.needsUpdate[st];pt&&Y(pt)}}).play(),c.trigger("resize"),navigator.requestMIDIAccess&&navigator.requestMIDIAccess().then(Q,ht),setTimeout(()=>{if((0,ue.default)("#lobby").fadeOut(K),url.boolean("kiosk")){(0,ue.default)(document.body).addClass("kiosk"),$t(),e.fadeIn();return}else if(/merchandise/ig.test(url.hash)){(0,ue.default)("#merchandise-button").trigger("click");return}e.fadeIn()},1e3)}function q(ft){s.has(ft.target).length||(s.fadeOut(function(){S=!1}),c.unbind("click",q))}function l(){S=!0,s.find("textarea").select(),c.bind("click",q)}function $(){if(!f)return;y=c.width(),_=c.height(),k=y>=_;let ft=p.length;p.forEach((st,pt)=>{let bt=st.length,rt,jt,Zt,Nt;k?(rt=y/bt,jt=_/ft):(rt=y/ft,jt=_/bt),st.width=rt,st.height=jt,st.forEach((It,Ft)=>{k?(Zt=y*(Ft+.5)/bt,Nt=_*(pt+.5)/ft):(Zt=y*(pt+.5)/ft,Nt=_*(Ft+.5)/bt),It.width=rt,It.height=jt,It.translation.set(Zt,Nt),It.visible=!0})})}function Y(ft){ft.opacity+=-ft.opacity*.2,ft.opacity<=.1&&(ft.opacity=0,delete p.needsUpdate[ft.id])}function K(){window.localStorage&&window.localStorage.getItem("visited")||(yt("0,9"),yt("2,6"),yt("1,7"),yt("2,1"),window.localStorage&&window.localStorage.setItem("visited",!0))}function Q(ft){let st=[],pt=[],bt=[],rt=(0,ue.default)(".midi-connections"),jt={21:"2,0",23:"2,1",24:"2,2",26:"2,3",28:"2,4",29:"2,5",31:"2,6",33:"1,0",35:"1,1",36:"1,2",38:"1,3",40:"1,4",41:"1,5",43:"1,6",45:"1,7",47:"1,8",48:"0,0",50:"0,1",52:"0,2",53:"0,3",55:"0,4",57:"0,5",59:"0,6",60:"0,7",62:"0,8",64:"0,9",65:"2,0",67:"2,1",69:"2,2",71:"2,3",72:"2,4",74:"2,5",76:"2,6",77:"1,0",79:"1,1",81:"1,2",83:"1,3",84:"1,4",86:"1,5",88:"1,6",89:"1,7",91:"1,8",93:"0,0",95:"0,1",96:"0,2",98:"0,3",100:"0,4",101:"0,5",103:"0,6",105:"0,7",107:"0,8",108:"0,9",22:"3,0",106:"3,0"},Zt={};for(let Yt in jt){let Dt=jt[Yt];Zt[Dt]=Yt}window.onmidistatechange=Nt,window.onmidimessage=It,ft.addEventListener("statechange",Nt),Nt({target:ft}),Q.dispatch=function(Yt){let Bt=Zt[Yt],ct=100;if(!Bt)return;let Gt=[144,Bt,ct],Xe=[128,Bt,0];for(let Ze=0;Ze<pt.length;Ze++){let vi=pt[Ze];vi.send(Gt),vi.send(Xe,Date.now()+100)}window.webkit&&(window.webkit.messageHandlers.midi.postMessage(Gt),setTimeout(function(){window.webkit.messageHandlers.midi.postMessage(Xe)},100))};function Nt(Yt){let Dt=Yt.target,Bt;st.length=bt.length=0;for(let ct of Dt.inputs.values())tt(st,ct)||(st.push(ct),bt.push(ct.name)),ct.onmidimessage=It;for(let ct of Dt.outputs.values())tt(pt,ct)||pt.push(ct);if(bt.length<=0){rt.html("Disconnected from all MIDI devices");return}else if(bt.length<=1)Bt=bt[0];else if(bt.length<=2)Bt=bt[0]+" and "+bt[1];else{let ct=bt.pop();Bt=`${bt.join(", ")}, and ${ct}`,bt.push(ct)}rt.html(`Connected to these MIDI devices:, ${Bt}`),show()}function It(Yt){let Dt=Yt.data[0],Bt=Yt.data[1],ct=Yt.data.length>2?Yt.data[2]:0;switch(Dt){case 144:ct>0&&Ft(Bt,ct);break}}function Ft(Yt){let Dt=jt[Yt];Dt&&(Q.receiving=!0,yt(Dt),$t(),Q.receiving=!1)}}function ht(){window.console&&window.console.log&&window.console.log("Unable to connect to MIDI")}function tt(ft,st){for(let pt=0;pt<ft.length;pt++)if(ft[pt].id===st.id)return!0;return!1}function At(){f=ot.makeGroup(),p=new Array(3),p.width=p.height=32,p.needsUpdate={},p.map={},p[0]=oe(10).map(It),p[1]=oe(9).map(It),p[2]=oe(8).map(It);let ft=[],st,pt,bt,rt,jt,Zt,Nt;t.bind("touchstart",function(ct){st=ct.originalEvent,In(st.touches,Yt)}).bind("touchmove",function(ct){st=ct.originalEvent,In(st.touches,Dt)}).bind("touchstart touchmove touchend touchcancel",function(ct){if(A&&!(v||t.hasClass("ios-app-store")))return ct.preventDefault(),!1}),p.forEach((ct,Gt)=>{ct.forEach(function(Xe,Ze){let vi=`${Gt},${Ze}`;p.map[vi]=Xe})});function It(){let ct=new G.Rectangle(0,0,p.width,p.height);return ct.noFill().noStroke(),ct.opacity=0,ct.visible=!1,f.add(ct),ct}function Ft(ct,Gt){return rt=p.length,k?(jt=Gi(Math.floor(rt*Gt/_),0,rt-1),rt=p[jt].length,Zt=Gi(Math.floor(rt*ct/y),0,rt-1)):(jt=Gi(Math.floor(rt*ct/y),0,rt-1),rt=p[jt].length,Zt=Gi(Math.floor(rt*Gt/_),0,rt-1)),`${jt},${Zt}`}function Yt(ct){pt=ct.clientX,bt=ct.clientY,Nt=Ft(pt,bt,pt,bt),ft[ct.identifier]={id:Nt,x:pt,y:bt},Bt(Nt,p.map[Nt])}function Dt(ct){pt=ct.clientX,bt=ct.clientY,Nt=Ft(pt,bt,ft[ct.identifier].x,ft[ct.identifier].y),ft[ct.identifier]&&ft[ct.identifier].id!==Nt&&(Bt(Nt,p.map[Nt]),ft[ct.identifier].id=Nt),ft[ct.identifier].x=pt,ft[ct.identifier].y=bt}function Bt(ct,Gt){yt(ct),$t(),Mt.get().isDark?Gt.fill="rgba(255, 255, 255, 0.3)":Gt.fill="rgba(0, 0, 0, 0.3)",Gt.opacity=1,p.needsUpdate[Gt.id]=Gt}}function yt(ft,st){let pt=ds.map[ft];pt&&(pt.playing&&pt.clear(),pt.start(st),window.gtag&&window.gtag("event","animation",{trigger:ft})),!Q.receiving&&Q.dispatch&&Q.dispatch(ft)}function $t(){e.fadeOut(),T()}function Et(){t.css("top",`${-64}px`),I()}});window.console&&window.console.log&&window.console.log("Check out the code at http://github.com/jonobr1/Patatap");})();
/*!
 * jQuery JavaScript Library v3.7.0
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-05-11T18:29Z
 */
