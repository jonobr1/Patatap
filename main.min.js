(()=>{var vl=Object.create;var An=Object.defineProperty;var xl=Object.getOwnPropertyDescriptor;var wl=Object.getOwnPropertyNames;var kl=Object.getPrototypeOf,Tl=Object.prototype.hasOwnProperty;var Sl=(t,e,r)=>e in t?An(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Al=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var El=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of wl(e))!Tl.call(t,a)&&a!==r&&An(t,a,{get:()=>e[a],enumerable:!(s=xl(e,a))||s.enumerable});return t};var Ws=(t,e,r)=>(r=t!=null?vl(kl(t)):{},El(e||!t||!t.__esModule?An(r,"default",{value:t,enumerable:!0}):r,t));var Ye=(t,e,r)=>(Sl(t,typeof e!="symbol"?e+"":e,r),r),En=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var ae=(t,e,r)=>(En(t,e,"read from private field"),r?r.call(t):e.get(t)),hi=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},je=(t,e,r,s)=>(En(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r);var $s=(t,e,r)=>(En(t,e,"access private method"),r);var Cn=Al((Xs,xr)=>{(function(t,e){"use strict";typeof xr=="object"&&typeof xr.exports=="object"?xr.exports=t.document?e(t,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return e(r)}:e(t)})(typeof window<"u"?window:Xs,function(t,e){"use strict";var r=[],s=Object.getPrototypeOf,a=r.slice,c=r.flat?function(i){return r.flat.call(i)}:function(i){return r.concat.apply([],i)},f=r.push,p=r.indexOf,y={},_=y.toString,T=y.hasOwnProperty,E=T.toString,A=E.call(Object),x={},k=function(n){return typeof n=="function"&&typeof n.nodeType!="number"&&typeof n.item!="function"},N=function(n){return n!=null&&n===n.window},M=t.document,R={type:!0,src:!0,nonce:!0,noModule:!0};function L(i,n,o){o=o||M;var h,u,d=o.createElement("script");if(d.text=i,n)for(h in R)u=n[h]||n.getAttribute&&n.getAttribute(h),u&&d.setAttribute(h,u);o.head.appendChild(d).parentNode.removeChild(d)}function q(i){return i==null?i+"":typeof i=="object"||typeof i=="function"?y[_.call(i)]||"object":typeof i}var z="3.7.0",H=/HTML$/i,l=function(i,n){return new l.fn.init(i,n)};l.fn=l.prototype={jquery:z,constructor:l,length:0,toArray:function(){return a.call(this)},get:function(i){return i==null?a.call(this):i<0?this[i+this.length]:this[i]},pushStack:function(i){var n=l.merge(this.constructor(),i);return n.prevObject=this,n},each:function(i){return l.each(this,i)},map:function(i){return this.pushStack(l.map(this,function(n,o){return i.call(n,o,n)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(l.grep(this,function(i,n){return(n+1)%2}))},odd:function(){return this.pushStack(l.grep(this,function(i,n){return n%2}))},eq:function(i){var n=this.length,o=+i+(i<0?n:0);return this.pushStack(o>=0&&o<n?[this[o]]:[])},end:function(){return this.prevObject||this.constructor()},push:f,sort:r.sort,splice:r.splice},l.extend=l.fn.extend=function(){var i,n,o,h,u,d,g=arguments[0]||{},w=1,v=arguments.length,C=!1;for(typeof g=="boolean"&&(C=g,g=arguments[w]||{},w++),typeof g!="object"&&!k(g)&&(g={}),w===v&&(g=this,w--);w<v;w++)if((i=arguments[w])!=null)for(n in i)h=i[n],!(n==="__proto__"||g===h)&&(C&&h&&(l.isPlainObject(h)||(u=Array.isArray(h)))?(o=g[n],u&&!Array.isArray(o)?d=[]:!u&&!l.isPlainObject(o)?d={}:d=o,u=!1,g[n]=l.extend(C,d,h)):h!==void 0&&(g[n]=h));return g},l.extend({expando:"jQuery"+(z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(i){throw new Error(i)},noop:function(){},isPlainObject:function(i){var n,o;return!i||_.call(i)!=="[object Object]"?!1:(n=s(i),n?(o=T.call(n,"constructor")&&n.constructor,typeof o=="function"&&E.call(o)===A):!0)},isEmptyObject:function(i){var n;for(n in i)return!1;return!0},globalEval:function(i,n,o){L(i,{nonce:n&&n.nonce},o)},each:function(i,n){var o,h=0;if(tt(i))for(o=i.length;h<o&&n.call(i[h],h,i[h])!==!1;h++);else for(h in i)if(n.call(i[h],h,i[h])===!1)break;return i},text:function(i){var n,o="",h=0,u=i.nodeType;if(u){if(u===1||u===9||u===11)return i.textContent;if(u===3||u===4)return i.nodeValue}else for(;n=i[h++];)o+=l.text(n);return o},makeArray:function(i,n){var o=n||[];return i!=null&&(tt(Object(i))?l.merge(o,typeof i=="string"?[i]:i):f.call(o,i)),o},inArray:function(i,n,o){return n==null?-1:p.call(n,i,o)},isXMLDoc:function(i){var n=i&&i.namespaceURI,o=i&&(i.ownerDocument||i).documentElement;return!H.test(n||o&&o.nodeName||"HTML")},merge:function(i,n){for(var o=+n.length,h=0,u=i.length;h<o;h++)i[u++]=n[h];return i.length=u,i},grep:function(i,n,o){for(var h,u=[],d=0,g=i.length,w=!o;d<g;d++)h=!n(i[d],d),h!==w&&u.push(i[d]);return u},map:function(i,n,o){var h,u,d=0,g=[];if(tt(i))for(h=i.length;d<h;d++)u=n(i[d],d,o),u!=null&&g.push(u);else for(d in i)u=n(i[d],d,o),u!=null&&g.push(u);return c(g)},guid:1,support:x}),typeof Symbol=="function"&&(l.fn[Symbol.iterator]=r[Symbol.iterator]),l.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(i,n){y["[object "+n+"]"]=n.toLowerCase()});function tt(i){var n=!!i&&"length"in i&&i.length,o=q(i);return k(i)||N(i)?!1:o==="array"||n===0||typeof n=="number"&&n>0&&n-1 in i}function G(i,n){return i.nodeName&&i.nodeName.toLowerCase()===n.toLowerCase()}var st=r.pop,J=r.sort,mt=r.splice,Q="[\\x20\\t\\r\\n\\f]",St=new RegExp("^"+Q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Q+"+$","g");l.contains=function(i,n){var o=n&&n.parentNode;return i===o||!!(o&&o.nodeType===1&&(i.contains?i.contains(o):i.compareDocumentPosition&&i.compareDocumentPosition(o)&16))};var gt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Wt(i,n){return n?i==="\0"?"\uFFFD":i.slice(0,-1)+"\\"+i.charCodeAt(i.length-1).toString(16)+" ":"\\"+i}l.escapeSelector=function(i){return(i+"").replace(gt,Wt)};var At=M,ot=f;(function(){var i,n,o,h,u,d=ot,g,w,v,C,I,D=l.expando,O=0,U=0,ut=_r(),Et=_r(),bt=_r(),re=_r(),Zt=function(b,S){return b===S&&(u=!0),0},Oe="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Pe="(?:\\\\[\\da-fA-F]{1,6}"+Q+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",kt="\\["+Q+"*("+Pe+")(?:"+Q+"*([*^$|!~]?=)"+Q+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Pe+"))|)"+Q+"*\\]",oi=":("+Pe+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+kt+")*)|.*)\\)|)",Ct=new RegExp(Q+"+","g"),Ut=new RegExp("^"+Q+"*,"+Q+"*"),$i=new RegExp("^"+Q+"*([>+~]|"+Q+")"+Q+"*"),bn=new RegExp(Q+"|>"),Le=new RegExp(oi),Xi=new RegExp("^"+Pe+"$"),Ie={ID:new RegExp("^#("+Pe+")"),CLASS:new RegExp("^\\.("+Pe+")"),TAG:new RegExp("^("+Pe+"|[*])"),ATTR:new RegExp("^"+kt),PSEUDO:new RegExp("^"+oi),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Q+"*(even|odd|(([+-]|)(\\d*)n|)"+Q+"*(?:([+-]|)"+Q+"*(\\d+)|))"+Q+"*\\)|)","i"),bool:new RegExp("^(?:"+Oe+")$","i"),needsContext:new RegExp("^"+Q+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Q+"*((?:-\\d)?\\d*)"+Q+"*\\)|)(?=[^-]|$)","i")},Ke=/^(?:input|select|textarea|button)$/i,Qe=/^h\d$/i,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vn=/[+~]/,$e=new RegExp("\\\\[\\da-fA-F]{1,6}"+Q+"?|\\\\([^\\r\\n\\f])","g"),Xe=function(b,S){var F="0x"+b.slice(1)-65536;return S||(F<0?String.fromCharCode(F+65536):String.fromCharCode(F>>10|55296,F&1023|56320))},dl=function(){Je()},pl=br(function(b){return b.disabled===!0&&G(b,"fieldset")},{dir:"parentNode",next:"legend"});function gl(){try{return g.activeElement}catch{}}try{d.apply(r=a.call(At.childNodes),At.childNodes),r[At.childNodes.length].nodeType}catch{d={apply:function(S,F){ot.apply(S,a.call(F))},call:function(S){ot.apply(S,a.call(arguments,1))}}}function Ot(b,S,F,P){var j,W,X,et,Y,xt,ft,pt=S&&S.ownerDocument,wt=S?S.nodeType:9;if(F=F||[],typeof b!="string"||!b||wt!==1&&wt!==9&&wt!==11)return F;if(!P&&(Je(S),S=S||g,v)){if(wt!==11&&(Y=ve.exec(b)))if(j=Y[1]){if(wt===9)if(X=S.getElementById(j)){if(X.id===j)return d.call(F,X),F}else return F;else if(pt&&(X=pt.getElementById(j))&&Ot.contains(S,X)&&X.id===j)return d.call(F,X),F}else{if(Y[2])return d.apply(F,S.getElementsByTagName(b)),F;if((j=Y[3])&&S.getElementsByClassName)return d.apply(F,S.getElementsByClassName(j)),F}if(!re[b+" "]&&(!C||!C.test(b))){if(ft=b,pt=S,wt===1&&(bn.test(b)||$i.test(b))){for(pt=vn.test(b)&&xn(S.parentNode)||S,(pt!=S||!x.scope)&&((et=S.getAttribute("id"))?et=l.escapeSelector(et):S.setAttribute("id",et=D)),xt=mr(b),W=xt.length;W--;)xt[W]=(et?"#"+et:":scope")+" "+yr(xt[W]);ft=xt.join(",")}try{return d.apply(F,pt.querySelectorAll(ft)),F}catch{re(b,!0)}finally{et===D&&S.removeAttribute("id")}}}return Vs(b.replace(St,"$1"),S,F,P)}function _r(){var b=[];function S(F,P){return b.push(F+" ")>n.cacheLength&&delete S[b.shift()],S[F+" "]=P}return S}function Ee(b){return b[D]=!0,b}function Si(b){var S=g.createElement("fieldset");try{return!!b(S)}catch{return!1}finally{S.parentNode&&S.parentNode.removeChild(S),S=null}}function _l(b){return function(S){return G(S,"input")&&S.type===b}}function ml(b){return function(S){return(G(S,"input")||G(S,"button"))&&S.type===b}}function zs(b){return function(S){return"form"in S?S.parentNode&&S.disabled===!1?"label"in S?"label"in S.parentNode?S.parentNode.disabled===b:S.disabled===b:S.isDisabled===b||S.isDisabled!==!b&&pl(S)===b:S.disabled===b:"label"in S?S.disabled===b:!1}}function li(b){return Ee(function(S){return S=+S,Ee(function(F,P){for(var j,W=b([],F.length,S),X=W.length;X--;)F[j=W[X]]&&(F[j]=!(P[j]=F[j]))})})}function xn(b){return b&&typeof b.getElementsByTagName<"u"&&b}function Je(b){var S,F=b?b.ownerDocument||b:At;return F==g||F.nodeType!==9||!F.documentElement||(g=F,w=g.documentElement,v=!l.isXMLDoc(g),I=w.matches||w.webkitMatchesSelector||w.msMatchesSelector,At!=g&&(S=g.defaultView)&&S.top!==S&&S.addEventListener("unload",dl),x.getById=Si(function(P){return w.appendChild(P).id=l.expando,!g.getElementsByName||!g.getElementsByName(l.expando).length}),x.disconnectedMatch=Si(function(P){return I.call(P,"*")}),x.scope=Si(function(){return g.querySelectorAll(":scope")}),x.cssHas=Si(function(){try{return g.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),x.getById?(n.filter.ID=function(P){var j=P.replace($e,Xe);return function(W){return W.getAttribute("id")===j}},n.find.ID=function(P,j){if(typeof j.getElementById<"u"&&v){var W=j.getElementById(P);return W?[W]:[]}}):(n.filter.ID=function(P){var j=P.replace($e,Xe);return function(W){var X=typeof W.getAttributeNode<"u"&&W.getAttributeNode("id");return X&&X.value===j}},n.find.ID=function(P,j){if(typeof j.getElementById<"u"&&v){var W,X,et,Y=j.getElementById(P);if(Y){if(W=Y.getAttributeNode("id"),W&&W.value===P)return[Y];for(et=j.getElementsByName(P),X=0;Y=et[X++];)if(W=Y.getAttributeNode("id"),W&&W.value===P)return[Y]}return[]}}),n.find.TAG=function(P,j){return typeof j.getElementsByTagName<"u"?j.getElementsByTagName(P):j.querySelectorAll(P)},n.find.CLASS=function(P,j){if(typeof j.getElementsByClassName<"u"&&v)return j.getElementsByClassName(P)},C=[],Si(function(P){var j;w.appendChild(P).innerHTML="<a id='"+D+"' href='' disabled='disabled'></a><select id='"+D+"-\r\\' disabled='disabled'><option selected=''></option></select>",P.querySelectorAll("[selected]").length||C.push("\\["+Q+"*(?:value|"+Oe+")"),P.querySelectorAll("[id~="+D+"-]").length||C.push("~="),P.querySelectorAll("a#"+D+"+*").length||C.push(".#.+[+~]"),P.querySelectorAll(":checked").length||C.push(":checked"),j=g.createElement("input"),j.setAttribute("type","hidden"),P.appendChild(j).setAttribute("name","D"),w.appendChild(P).disabled=!0,P.querySelectorAll(":disabled").length!==2&&C.push(":enabled",":disabled"),j=g.createElement("input"),j.setAttribute("name",""),P.appendChild(j),P.querySelectorAll("[name='']").length||C.push("\\["+Q+"*name"+Q+"*="+Q+`*(?:''|"")`)}),x.cssHas||C.push(":has"),C=C.length&&new RegExp(C.join("|")),Zt=function(P,j){if(P===j)return u=!0,0;var W=!P.compareDocumentPosition-!j.compareDocumentPosition;return W||(W=(P.ownerDocument||P)==(j.ownerDocument||j)?P.compareDocumentPosition(j):1,W&1||!x.sortDetached&&j.compareDocumentPosition(P)===W?P===g||P.ownerDocument==At&&Ot.contains(At,P)?-1:j===g||j.ownerDocument==At&&Ot.contains(At,j)?1:h?p.call(h,P)-p.call(h,j):0:W&4?-1:1)}),g}Ot.matches=function(b,S){return Ot(b,null,null,S)},Ot.matchesSelector=function(b,S){if(Je(b),v&&!re[S+" "]&&(!C||!C.test(S)))try{var F=I.call(b,S);if(F||x.disconnectedMatch||b.document&&b.document.nodeType!==11)return F}catch{re(S,!0)}return Ot(S,g,null,[b]).length>0},Ot.contains=function(b,S){return(b.ownerDocument||b)!=g&&Je(b),l.contains(b,S)},Ot.attr=function(b,S){(b.ownerDocument||b)!=g&&Je(b);var F=n.attrHandle[S.toLowerCase()],P=F&&T.call(n.attrHandle,S.toLowerCase())?F(b,S,!v):void 0;return P!==void 0?P:b.getAttribute(S)},Ot.error=function(b){throw new Error("Syntax error, unrecognized expression: "+b)},l.uniqueSort=function(b){var S,F=[],P=0,j=0;if(u=!x.sortStable,h=!x.sortStable&&a.call(b,0),J.call(b,Zt),u){for(;S=b[j++];)S===b[j]&&(P=F.push(j));for(;P--;)mt.call(b,F[P],1)}return h=null,b},l.fn.uniqueSort=function(){return this.pushStack(l.uniqueSort(a.apply(this)))},n=l.expr={cacheLength:50,createPseudo:Ee,match:Ie,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace($e,Xe),b[3]=(b[3]||b[4]||b[5]||"").replace($e,Xe),b[2]==="~="&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),b[1].slice(0,3)==="nth"?(b[3]||Ot.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*(b[3]==="even"||b[3]==="odd")),b[5]=+(b[7]+b[8]||b[3]==="odd")):b[3]&&Ot.error(b[0]),b},PSEUDO:function(b){var S,F=!b[6]&&b[2];return Ie.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":F&&Le.test(F)&&(S=mr(F,!0))&&(S=F.indexOf(")",F.length-S)-F.length)&&(b[0]=b[0].slice(0,S),b[2]=F.slice(0,S)),b.slice(0,3))}},filter:{TAG:function(b){var S=b.replace($e,Xe).toLowerCase();return b==="*"?function(){return!0}:function(F){return G(F,S)}},CLASS:function(b){var S=ut[b+" "];return S||(S=new RegExp("(^|"+Q+")"+b+"("+Q+"|$)"))&&ut(b,function(F){return S.test(typeof F.className=="string"&&F.className||typeof F.getAttribute<"u"&&F.getAttribute("class")||"")})},ATTR:function(b,S,F){return function(P){var j=Ot.attr(P,b);return j==null?S==="!=":S?(j+="",S==="="?j===F:S==="!="?j!==F:S==="^="?F&&j.indexOf(F)===0:S==="*="?F&&j.indexOf(F)>-1:S==="$="?F&&j.slice(-F.length)===F:S==="~="?(" "+j.replace(Ct," ")+" ").indexOf(F)>-1:S==="|="?j===F||j.slice(0,F.length+1)===F+"-":!1):!0}},CHILD:function(b,S,F,P,j){var W=b.slice(0,3)!=="nth",X=b.slice(-4)!=="last",et=S==="of-type";return P===1&&j===0?function(Y){return!!Y.parentNode}:function(Y,xt,ft){var pt,wt,at,Pt,ue,se=W!==X?"nextSibling":"previousSibling",xe=Y.parentNode,Ne=et&&Y.nodeName.toLowerCase(),Ai=!ft&&!et,le=!1;if(xe){if(W){for(;se;){for(at=Y;at=at[se];)if(et?G(at,Ne):at.nodeType===1)return!1;ue=se=b==="only"&&!ue&&"nextSibling"}return!0}if(ue=[X?xe.firstChild:xe.lastChild],X&&Ai){for(wt=xe[D]||(xe[D]={}),pt=wt[b]||[],Pt=pt[0]===O&&pt[1],le=Pt&&pt[2],at=Pt&&xe.childNodes[Pt];at=++Pt&&at&&at[se]||(le=Pt=0)||ue.pop();)if(at.nodeType===1&&++le&&at===Y){wt[b]=[O,Pt,le];break}}else if(Ai&&(wt=Y[D]||(Y[D]={}),pt=wt[b]||[],Pt=pt[0]===O&&pt[1],le=Pt),le===!1)for(;(at=++Pt&&at&&at[se]||(le=Pt=0)||ue.pop())&&!((et?G(at,Ne):at.nodeType===1)&&++le&&(Ai&&(wt=at[D]||(at[D]={}),wt[b]=[O,le]),at===Y)););return le-=j,le===P||le%P===0&&le/P>=0}}},PSEUDO:function(b,S){var F,P=n.pseudos[b]||n.setFilters[b.toLowerCase()]||Ot.error("unsupported pseudo: "+b);return P[D]?P(S):P.length>1?(F=[b,b,"",S],n.setFilters.hasOwnProperty(b.toLowerCase())?Ee(function(j,W){for(var X,et=P(j,S),Y=et.length;Y--;)X=p.call(j,et[Y]),j[X]=!(W[X]=et[Y])}):function(j){return P(j,0,F)}):P}},pseudos:{not:Ee(function(b){var S=[],F=[],P=Sn(b.replace(St,"$1"));return P[D]?Ee(function(j,W,X,et){for(var Y,xt=P(j,null,et,[]),ft=j.length;ft--;)(Y=xt[ft])&&(j[ft]=!(W[ft]=Y))}):function(j,W,X){return S[0]=j,P(S,null,X,F),S[0]=null,!F.pop()}}),has:Ee(function(b){return function(S){return Ot(b,S).length>0}}),contains:Ee(function(b){return b=b.replace($e,Xe),function(S){return(S.textContent||l.text(S)).indexOf(b)>-1}}),lang:Ee(function(b){return Xi.test(b||"")||Ot.error("unsupported lang: "+b),b=b.replace($e,Xe).toLowerCase(),function(S){var F;do if(F=v?S.lang:S.getAttribute("xml:lang")||S.getAttribute("lang"))return F=F.toLowerCase(),F===b||F.indexOf(b+"-")===0;while((S=S.parentNode)&&S.nodeType===1);return!1}}),target:function(b){var S=t.location&&t.location.hash;return S&&S.slice(1)===b.id},root:function(b){return b===w},focus:function(b){return b===gl()&&g.hasFocus()&&!!(b.type||b.href||~b.tabIndex)},enabled:zs(!1),disabled:zs(!0),checked:function(b){return G(b,"input")&&!!b.checked||G(b,"option")&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,b.selected===!0},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if(b.nodeType<6)return!1;return!0},parent:function(b){return!n.pseudos.empty(b)},header:function(b){return Qe.test(b.nodeName)},input:function(b){return Ke.test(b.nodeName)},button:function(b){return G(b,"input")&&b.type==="button"||G(b,"button")},text:function(b){var S;return G(b,"input")&&b.type==="text"&&((S=b.getAttribute("type"))==null||S.toLowerCase()==="text")},first:li(function(){return[0]}),last:li(function(b,S){return[S-1]}),eq:li(function(b,S,F){return[F<0?F+S:F]}),even:li(function(b,S){for(var F=0;F<S;F+=2)b.push(F);return b}),odd:li(function(b,S){for(var F=1;F<S;F+=2)b.push(F);return b}),lt:li(function(b,S,F){var P;for(F<0?P=F+S:F>S?P=S:P=F;--P>=0;)b.push(P);return b}),gt:li(function(b,S,F){for(var P=F<0?F+S:F;++P<S;)b.push(P);return b})}},n.pseudos.nth=n.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[i]=_l(i);for(i in{submit:!0,reset:!0})n.pseudos[i]=ml(i);function Us(){}Us.prototype=n.filters=n.pseudos,n.setFilters=new Us;function mr(b,S){var F,P,j,W,X,et,Y,xt=Et[b+" "];if(xt)return S?0:xt.slice(0);for(X=b,et=[],Y=n.preFilter;X;){(!F||(P=Ut.exec(X)))&&(P&&(X=X.slice(P[0].length)||X),et.push(j=[])),F=!1,(P=$i.exec(X))&&(F=P.shift(),j.push({value:F,type:P[0].replace(St," ")}),X=X.slice(F.length));for(W in n.filter)(P=Ie[W].exec(X))&&(!Y[W]||(P=Y[W](P)))&&(F=P.shift(),j.push({value:F,type:W,matches:P}),X=X.slice(F.length));if(!F)break}return S?X.length:X?Ot.error(b):Et(b,et).slice(0)}function yr(b){for(var S=0,F=b.length,P="";S<F;S++)P+=b[S].value;return P}function br(b,S,F){var P=S.dir,j=S.next,W=j||P,X=F&&W==="parentNode",et=U++;return S.first?function(Y,xt,ft){for(;Y=Y[P];)if(Y.nodeType===1||X)return b(Y,xt,ft);return!1}:function(Y,xt,ft){var pt,wt,at=[O,et];if(ft){for(;Y=Y[P];)if((Y.nodeType===1||X)&&b(Y,xt,ft))return!0}else for(;Y=Y[P];)if(Y.nodeType===1||X)if(wt=Y[D]||(Y[D]={}),j&&G(Y,j))Y=Y[P]||Y;else{if((pt=wt[W])&&pt[0]===O&&pt[1]===et)return at[2]=pt[2];if(wt[W]=at,at[2]=b(Y,xt,ft))return!0}return!1}}function wn(b){return b.length>1?function(S,F,P){for(var j=b.length;j--;)if(!b[j](S,F,P))return!1;return!0}:b[0]}function yl(b,S,F){for(var P=0,j=S.length;P<j;P++)Ot(b,S[P],F);return F}function vr(b,S,F,P,j){for(var W,X=[],et=0,Y=b.length,xt=S!=null;et<Y;et++)(W=b[et])&&(!F||F(W,P,j))&&(X.push(W),xt&&S.push(et));return X}function kn(b,S,F,P,j,W){return P&&!P[D]&&(P=kn(P)),j&&!j[D]&&(j=kn(j,W)),Ee(function(X,et,Y,xt){var ft,pt,wt,at,Pt=[],ue=[],se=et.length,xe=X||yl(S||"*",Y.nodeType?[Y]:Y,[]),Ne=b&&(X||!S)?vr(xe,Pt,b,Y,xt):xe;if(F?(at=j||(X?b:se||P)?[]:et,F(Ne,at,Y,xt)):at=Ne,P)for(ft=vr(at,ue),P(ft,[],Y,xt),pt=ft.length;pt--;)(wt=ft[pt])&&(at[ue[pt]]=!(Ne[ue[pt]]=wt));if(X){if(j||b){if(j){for(ft=[],pt=at.length;pt--;)(wt=at[pt])&&ft.push(Ne[pt]=wt);j(null,at=[],ft,xt)}for(pt=at.length;pt--;)(wt=at[pt])&&(ft=j?p.call(X,wt):Pt[pt])>-1&&(X[ft]=!(et[ft]=wt))}}else at=vr(at===et?at.splice(se,at.length):at),j?j(null,et,at,xt):d.apply(et,at)})}function Tn(b){for(var S,F,P,j=b.length,W=n.relative[b[0].type],X=W||n.relative[" "],et=W?1:0,Y=br(function(pt){return pt===S},X,!0),xt=br(function(pt){return p.call(S,pt)>-1},X,!0),ft=[function(pt,wt,at){var Pt=!W&&(at||wt!=o)||((S=wt).nodeType?Y(pt,wt,at):xt(pt,wt,at));return S=null,Pt}];et<j;et++)if(F=n.relative[b[et].type])ft=[br(wn(ft),F)];else{if(F=n.filter[b[et].type].apply(null,b[et].matches),F[D]){for(P=++et;P<j&&!n.relative[b[P].type];P++);return kn(et>1&&wn(ft),et>1&&yr(b.slice(0,et-1).concat({value:b[et-2].type===" "?"*":""})).replace(St,"$1"),F,et<P&&Tn(b.slice(et,P)),P<j&&Tn(b=b.slice(P)),P<j&&yr(b))}ft.push(F)}return wn(ft)}function bl(b,S){var F=S.length>0,P=b.length>0,j=function(W,X,et,Y,xt){var ft,pt,wt,at=0,Pt="0",ue=W&&[],se=[],xe=o,Ne=W||P&&n.find.TAG("*",xt),Ai=O+=xe==null?1:Math.random()||.1,le=Ne.length;for(xt&&(o=X==g||X||xt);Pt!==le&&(ft=Ne[Pt])!=null;Pt++){if(P&&ft){for(pt=0,!X&&ft.ownerDocument!=g&&(Je(ft),et=!v);wt=b[pt++];)if(wt(ft,X||g,et)){d.call(Y,ft);break}xt&&(O=Ai)}F&&((ft=!wt&&ft)&&at--,W&&ue.push(ft))}if(at+=Pt,F&&Pt!==at){for(pt=0;wt=S[pt++];)wt(ue,se,X,et);if(W){if(at>0)for(;Pt--;)ue[Pt]||se[Pt]||(se[Pt]=st.call(Y));se=vr(se)}d.apply(Y,se),xt&&!W&&se.length>0&&at+S.length>1&&l.uniqueSort(Y)}return xt&&(O=Ai,o=xe),ue};return F?Ee(j):j}function Sn(b,S){var F,P=[],j=[],W=bt[b+" "];if(!W){for(S||(S=mr(b)),F=S.length;F--;)W=Tn(S[F]),W[D]?P.push(W):j.push(W);W=bt(b,bl(j,P)),W.selector=b}return W}function Vs(b,S,F,P){var j,W,X,et,Y,xt=typeof b=="function"&&b,ft=!P&&mr(b=xt.selector||b);if(F=F||[],ft.length===1){if(W=ft[0]=ft[0].slice(0),W.length>2&&(X=W[0]).type==="ID"&&S.nodeType===9&&v&&n.relative[W[1].type]){if(S=(n.find.ID(X.matches[0].replace($e,Xe),S)||[])[0],S)xt&&(S=S.parentNode);else return F;b=b.slice(W.shift().value.length)}for(j=Ie.needsContext.test(b)?0:W.length;j--&&(X=W[j],!n.relative[et=X.type]);)if((Y=n.find[et])&&(P=Y(X.matches[0].replace($e,Xe),vn.test(W[0].type)&&xn(S.parentNode)||S))){if(W.splice(j,1),b=P.length&&yr(W),!b)return d.apply(F,P),F;break}}return(xt||Sn(b,ft))(P,S,!v,F,!S||vn.test(b)&&xn(S.parentNode)||S),F}x.sortStable=D.split("").sort(Zt).join("")===D,Je(),x.sortDetached=Si(function(b){return b.compareDocumentPosition(g.createElement("fieldset"))&1}),l.find=Ot,l.expr[":"]=l.expr.pseudos,l.unique=l.uniqueSort,Ot.compile=Sn,Ot.select=Vs,Ot.setDocument=Je,Ot.escape=l.escapeSelector,Ot.getText=l.text,Ot.isXML=l.isXMLDoc,Ot.selectors=l.expr,Ot.support=l.support,Ot.uniqueSort=l.uniqueSort})();var rt=function(i,n,o){for(var h=[],u=o!==void 0;(i=i[n])&&i.nodeType!==9;)if(i.nodeType===1){if(u&&l(i).is(o))break;h.push(i)}return h},_t=function(i,n){for(var o=[];i;i=i.nextSibling)i.nodeType===1&&i!==n&&o.push(i);return o},yt=l.expr.match.needsContext,K=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ft(i,n,o){return k(n)?l.grep(i,function(h,u){return!!n.call(h,u,h)!==o}):n.nodeType?l.grep(i,function(h){return h===n!==o}):typeof n!="string"?l.grep(i,function(h){return p.call(n,h)>-1!==o}):l.filter(n,i,o)}l.filter=function(i,n,o){var h=n[0];return o&&(i=":not("+i+")"),n.length===1&&h.nodeType===1?l.find.matchesSelector(h,i)?[h]:[]:l.find.matches(i,l.grep(n,function(u){return u.nodeType===1}))},l.fn.extend({find:function(i){var n,o,h=this.length,u=this;if(typeof i!="string")return this.pushStack(l(i).filter(function(){for(n=0;n<h;n++)if(l.contains(u[n],this))return!0}));for(o=this.pushStack([]),n=0;n<h;n++)l.find(i,u[n],o);return h>1?l.uniqueSort(o):o},filter:function(i){return this.pushStack(Ft(this,i||[],!1))},not:function(i){return this.pushStack(Ft(this,i||[],!0))},is:function(i){return!!Ft(this,typeof i=="string"&&yt.test(i)?l(i):i||[],!1).length}});var Jt,$t=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,It=l.fn.init=function(i,n,o){var h,u;if(!i)return this;if(o=o||Jt,typeof i=="string")if(i[0]==="<"&&i[i.length-1]===">"&&i.length>=3?h=[null,i,null]:h=$t.exec(i),h&&(h[1]||!n))if(h[1]){if(n=n instanceof l?n[0]:n,l.merge(this,l.parseHTML(h[1],n&&n.nodeType?n.ownerDocument||n:M,!0)),K.test(h[1])&&l.isPlainObject(n))for(h in n)k(this[h])?this[h](n[h]):this.attr(h,n[h]);return this}else return u=M.getElementById(h[2]),u&&(this[0]=u,this.length=1),this;else return!n||n.jquery?(n||o).find(i):this.constructor(n).find(i);else{if(i.nodeType)return this[0]=i,this.length=1,this;if(k(i))return o.ready!==void 0?o.ready(i):i(l)}return l.makeArray(i,this)};It.prototype=l.fn,Jt=l(M);var Rt=/^(?:parents|prev(?:Until|All))/,Lt={children:!0,contents:!0,next:!0,prev:!0};l.fn.extend({has:function(i){var n=l(i,this),o=n.length;return this.filter(function(){for(var h=0;h<o;h++)if(l.contains(this,n[h]))return!0})},closest:function(i,n){var o,h=0,u=this.length,d=[],g=typeof i!="string"&&l(i);if(!yt.test(i)){for(;h<u;h++)for(o=this[h];o&&o!==n;o=o.parentNode)if(o.nodeType<11&&(g?g.index(o)>-1:o.nodeType===1&&l.find.matchesSelector(o,i))){d.push(o);break}}return this.pushStack(d.length>1?l.uniqueSort(d):d)},index:function(i){return i?typeof i=="string"?p.call(l(i),this[0]):p.call(this,i.jquery?i[0]:i):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(i,n){return this.pushStack(l.uniqueSort(l.merge(this.get(),l(i,n))))},addBack:function(i){return this.add(i==null?this.prevObject:this.prevObject.filter(i))}});function Nt(i,n){for(;(i=i[n])&&i.nodeType!==1;);return i}l.each({parent:function(i){var n=i.parentNode;return n&&n.nodeType!==11?n:null},parents:function(i){return rt(i,"parentNode")},parentsUntil:function(i,n,o){return rt(i,"parentNode",o)},next:function(i){return Nt(i,"nextSibling")},prev:function(i){return Nt(i,"previousSibling")},nextAll:function(i){return rt(i,"nextSibling")},prevAll:function(i){return rt(i,"previousSibling")},nextUntil:function(i,n,o){return rt(i,"nextSibling",o)},prevUntil:function(i,n,o){return rt(i,"previousSibling",o)},siblings:function(i){return _t((i.parentNode||{}).firstChild,i)},children:function(i){return _t(i.firstChild)},contents:function(i){return i.contentDocument!=null&&s(i.contentDocument)?i.contentDocument:(G(i,"template")&&(i=i.content||i),l.merge([],i.childNodes))}},function(i,n){l.fn[i]=function(o,h){var u=l.map(this,n,o);return i.slice(-5)!=="Until"&&(h=o),h&&typeof h=="string"&&(u=l.filter(h,u)),this.length>1&&(Lt[i]||l.uniqueSort(u),Rt.test(i)&&u.reverse()),this.pushStack(u)}});var jt=/[^\x20\t\r\n\f]+/g;function lt(i){var n={};return l.each(i.match(jt)||[],function(o,h){n[h]=!0}),n}l.Callbacks=function(i){i=typeof i=="string"?lt(i):l.extend({},i);var n,o,h,u,d=[],g=[],w=-1,v=function(){for(u=u||i.once,h=n=!0;g.length;w=-1)for(o=g.shift();++w<d.length;)d[w].apply(o[0],o[1])===!1&&i.stopOnFalse&&(w=d.length,o=!1);i.memory||(o=!1),n=!1,u&&(o?d=[]:d="")},C={add:function(){return d&&(o&&!n&&(w=d.length-1,g.push(o)),function I(D){l.each(D,function(O,U){k(U)?(!i.unique||!C.has(U))&&d.push(U):U&&U.length&&q(U)!=="string"&&I(U)})}(arguments),o&&!n&&v()),this},remove:function(){return l.each(arguments,function(I,D){for(var O;(O=l.inArray(D,d,O))>-1;)d.splice(O,1),O<=w&&w--}),this},has:function(I){return I?l.inArray(I,d)>-1:d.length>0},empty:function(){return d&&(d=[]),this},disable:function(){return u=g=[],d=o="",this},disabled:function(){return!d},lock:function(){return u=g=[],!o&&!n&&(d=o=""),this},locked:function(){return!!u},fireWith:function(I,D){return u||(D=D||[],D=[I,D.slice?D.slice():D],g.push(D),n||v()),this},fire:function(){return C.fireWith(this,arguments),this},fired:function(){return!!h}};return C};function Yt(i){return i}function Se(i){throw i}function Ge(i,n,o,h){var u;try{i&&k(u=i.promise)?u.call(i).done(n).fail(o):i&&k(u=i.then)?u.call(i,n,o):n.apply(void 0,[i].slice(h))}catch(d){o.apply(void 0,[d])}}l.extend({Deferred:function(i){var n=[["notify","progress",l.Callbacks("memory"),l.Callbacks("memory"),2],["resolve","done",l.Callbacks("once memory"),l.Callbacks("once memory"),0,"resolved"],["reject","fail",l.Callbacks("once memory"),l.Callbacks("once memory"),1,"rejected"]],o="pending",h={state:function(){return o},always:function(){return u.done(arguments).fail(arguments),this},catch:function(d){return h.then(null,d)},pipe:function(){var d=arguments;return l.Deferred(function(g){l.each(n,function(w,v){var C=k(d[v[4]])&&d[v[4]];u[v[1]](function(){var I=C&&C.apply(this,arguments);I&&k(I.promise)?I.promise().progress(g.notify).done(g.resolve).fail(g.reject):g[v[0]+"With"](this,C?[I]:arguments)})}),d=null}).promise()},then:function(d,g,w){var v=0;function C(I,D,O,U){return function(){var ut=this,Et=arguments,bt=function(){var Zt,Oe;if(!(I<v)){if(Zt=O.apply(ut,Et),Zt===D.promise())throw new TypeError("Thenable self-resolution");Oe=Zt&&(typeof Zt=="object"||typeof Zt=="function")&&Zt.then,k(Oe)?U?Oe.call(Zt,C(v,D,Yt,U),C(v,D,Se,U)):(v++,Oe.call(Zt,C(v,D,Yt,U),C(v,D,Se,U),C(v,D,Yt,D.notifyWith))):(O!==Yt&&(ut=void 0,Et=[Zt]),(U||D.resolveWith)(ut,Et))}},re=U?bt:function(){try{bt()}catch(Zt){l.Deferred.exceptionHook&&l.Deferred.exceptionHook(Zt,re.error),I+1>=v&&(O!==Se&&(ut=void 0,Et=[Zt]),D.rejectWith(ut,Et))}};I?re():(l.Deferred.getErrorHook?re.error=l.Deferred.getErrorHook():l.Deferred.getStackHook&&(re.error=l.Deferred.getStackHook()),t.setTimeout(re))}}return l.Deferred(function(I){n[0][3].add(C(0,I,k(w)?w:Yt,I.notifyWith)),n[1][3].add(C(0,I,k(d)?d:Yt)),n[2][3].add(C(0,I,k(g)?g:Se))}).promise()},promise:function(d){return d!=null?l.extend(d,h):h}},u={};return l.each(n,function(d,g){var w=g[2],v=g[5];h[g[1]]=w.add,v&&w.add(function(){o=v},n[3-d][2].disable,n[3-d][3].disable,n[0][2].lock,n[0][3].lock),w.add(g[3].fire),u[g[0]]=function(){return u[g[0]+"With"](this===u?void 0:this,arguments),this},u[g[0]+"With"]=w.fireWith}),h.promise(u),i&&i.call(u,u),u},when:function(i){var n=arguments.length,o=n,h=Array(o),u=a.call(arguments),d=l.Deferred(),g=function(w){return function(v){h[w]=this,u[w]=arguments.length>1?a.call(arguments):v,--n||d.resolveWith(h,u)}};if(n<=1&&(Ge(i,d.done(g(o)).resolve,d.reject,!n),d.state()==="pending"||k(u[o]&&u[o].then)))return d.then();for(;o--;)Ge(u[o],g(o),d.reject);return d.promise()}});var _i=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;l.Deferred.exceptionHook=function(i,n){t.console&&t.console.warn&&i&&_i.test(i.name)&&t.console.warn("jQuery.Deferred exception: "+i.message,i.stack,n)},l.readyException=function(i){t.setTimeout(function(){throw i})};var mi=l.Deferred();l.fn.ready=function(i){return mi.then(i).catch(function(n){l.readyException(n)}),this},l.extend({isReady:!1,readyWait:1,ready:function(i){(i===!0?--l.readyWait:l.isReady)||(l.isReady=!0,!(i!==!0&&--l.readyWait>0)&&mi.resolveWith(M,[l]))}}),l.ready.then=mi.then;function yi(){M.removeEventListener("DOMContentLoaded",yi),t.removeEventListener("load",yi),l.ready()}M.readyState==="complete"||M.readyState!=="loading"&&!M.documentElement.doScroll?t.setTimeout(l.ready):(M.addEventListener("DOMContentLoaded",yi),t.addEventListener("load",yi));var Ve=function(i,n,o,h,u,d,g){var w=0,v=i.length,C=o==null;if(q(o)==="object"){u=!0;for(w in o)Ve(i,n,w,o[w],!0,d,g)}else if(h!==void 0&&(u=!0,k(h)||(g=!0),C&&(g?(n.call(i,h),n=null):(C=n,n=function(I,D,O){return C.call(l(I),O)})),n))for(;w<v;w++)n(i[w],o,g?h:h.call(i[w],w,n(i[w],o)));return u?i:C?n.call(i):v?n(i[0],o):d},So=/^-ms-/,Ao=/-([a-z])/g;function Eo(i,n){return n.toUpperCase()}function Fe(i){return i.replace(So,"ms-").replace(Ao,Eo)}var Di=function(i){return i.nodeType===1||i.nodeType===9||!+i.nodeType};function Bi(){this.expando=l.expando+Bi.uid++}Bi.uid=1,Bi.prototype={cache:function(i){var n=i[this.expando];return n||(n={},Di(i)&&(i.nodeType?i[this.expando]=n:Object.defineProperty(i,this.expando,{value:n,configurable:!0}))),n},set:function(i,n,o){var h,u=this.cache(i);if(typeof n=="string")u[Fe(n)]=o;else for(h in n)u[Fe(h)]=n[h];return u},get:function(i,n){return n===void 0?this.cache(i):i[this.expando]&&i[this.expando][Fe(n)]},access:function(i,n,o){return n===void 0||n&&typeof n=="string"&&o===void 0?this.get(i,n):(this.set(i,n,o),o!==void 0?o:n)},remove:function(i,n){var o,h=i[this.expando];if(h!==void 0){if(n!==void 0)for(Array.isArray(n)?n=n.map(Fe):(n=Fe(n),n=n in h?[n]:n.match(jt)||[]),o=n.length;o--;)delete h[n[o]];(n===void 0||l.isEmptyObject(h))&&(i.nodeType?i[this.expando]=void 0:delete i[this.expando])}},hasData:function(i){var n=i[this.expando];return n!==void 0&&!l.isEmptyObject(n)}};var nt=new Bi,he=new Bi,Co=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ro=/[A-Z]/g;function Mo(i){return i==="true"?!0:i==="false"?!1:i==="null"?null:i===+i+""?+i:Co.test(i)?JSON.parse(i):i}function cs(i,n,o){var h;if(o===void 0&&i.nodeType===1)if(h="data-"+n.replace(Ro,"-$&").toLowerCase(),o=i.getAttribute(h),typeof o=="string"){try{o=Mo(o)}catch{}he.set(i,n,o)}else o=void 0;return o}l.extend({hasData:function(i){return he.hasData(i)||nt.hasData(i)},data:function(i,n,o){return he.access(i,n,o)},removeData:function(i,n){he.remove(i,n)},_data:function(i,n,o){return nt.access(i,n,o)},_removeData:function(i,n){nt.remove(i,n)}}),l.fn.extend({data:function(i,n){var o,h,u,d=this[0],g=d&&d.attributes;if(i===void 0){if(this.length&&(u=he.get(d),d.nodeType===1&&!nt.get(d,"hasDataAttrs"))){for(o=g.length;o--;)g[o]&&(h=g[o].name,h.indexOf("data-")===0&&(h=Fe(h.slice(5)),cs(d,h,u[h])));nt.set(d,"hasDataAttrs",!0)}return u}return typeof i=="object"?this.each(function(){he.set(this,i)}):Ve(this,function(w){var v;if(d&&w===void 0)return v=he.get(d,i),v!==void 0||(v=cs(d,i),v!==void 0)?v:void 0;this.each(function(){he.set(this,i,w)})},null,n,arguments.length>1,null,!0)},removeData:function(i){return this.each(function(){he.remove(this,i)})}}),l.extend({queue:function(i,n,o){var h;if(i)return n=(n||"fx")+"queue",h=nt.get(i,n),o&&(!h||Array.isArray(o)?h=nt.access(i,n,l.makeArray(o)):h.push(o)),h||[]},dequeue:function(i,n){n=n||"fx";var o=l.queue(i,n),h=o.length,u=o.shift(),d=l._queueHooks(i,n),g=function(){l.dequeue(i,n)};u==="inprogress"&&(u=o.shift(),h--),u&&(n==="fx"&&o.unshift("inprogress"),delete d.stop,u.call(i,g,d)),!h&&d&&d.empty.fire()},_queueHooks:function(i,n){var o=n+"queueHooks";return nt.get(i,o)||nt.access(i,o,{empty:l.Callbacks("once memory").add(function(){nt.remove(i,[n+"queue",o])})})}}),l.fn.extend({queue:function(i,n){var o=2;return typeof i!="string"&&(n=i,i="fx",o--),arguments.length<o?l.queue(this[0],i):n===void 0?this:this.each(function(){var h=l.queue(this,i,n);l._queueHooks(this,i),i==="fx"&&h[0]!=="inprogress"&&l.dequeue(this,i)})},dequeue:function(i){return this.each(function(){l.dequeue(this,i)})},clearQueue:function(i){return this.queue(i||"fx",[])},promise:function(i,n){var o,h=1,u=l.Deferred(),d=this,g=this.length,w=function(){--h||u.resolveWith(d,[d])};for(typeof i!="string"&&(n=i,i=void 0),i=i||"fx";g--;)o=nt.get(d[g],i+"queueHooks"),o&&o.empty&&(h++,o.empty.add(w));return w(),u.promise(n)}});var us=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,qi=new RegExp("^(?:([+-])=|)("+us+")([a-z%]*)$","i"),We=["Top","Right","Bottom","Left"],ni=M.documentElement,bi=function(i){return l.contains(i.ownerDocument,i)},Fo={composed:!0};ni.getRootNode&&(bi=function(i){return l.contains(i.ownerDocument,i)||i.getRootNode(Fo)===i.ownerDocument});var cr=function(i,n){return i=n||i,i.style.display==="none"||i.style.display===""&&bi(i)&&l.css(i,"display")==="none"};function ds(i,n,o,h){var u,d,g=20,w=h?function(){return h.cur()}:function(){return l.css(i,n,"")},v=w(),C=o&&o[3]||(l.cssNumber[n]?"":"px"),I=i.nodeType&&(l.cssNumber[n]||C!=="px"&&+v)&&qi.exec(l.css(i,n));if(I&&I[3]!==C){for(v=v/2,C=C||I[3],I=+v||1;g--;)l.style(i,n,I+C),(1-d)*(1-(d=w()/v||.5))<=0&&(g=0),I=I/d;I=I*2,l.style(i,n,I+C),o=o||[]}return o&&(I=+I||+v||0,u=o[1]?I+(o[1]+1)*o[2]:+o[2],h&&(h.unit=C,h.start=I,h.end=u)),u}var ps={};function Oo(i){var n,o=i.ownerDocument,h=i.nodeName,u=ps[h];return u||(n=o.body.appendChild(o.createElement(h)),u=l.css(n,"display"),n.parentNode.removeChild(n),u==="none"&&(u="block"),ps[h]=u,u)}function vi(i,n){for(var o,h,u=[],d=0,g=i.length;d<g;d++)h=i[d],h.style&&(o=h.style.display,n?(o==="none"&&(u[d]=nt.get(h,"display")||null,u[d]||(h.style.display="")),h.style.display===""&&cr(h)&&(u[d]=Oo(h))):o!=="none"&&(u[d]="none",nt.set(h,"display",o)));for(d=0;d<g;d++)u[d]!=null&&(i[d].style.display=u[d]);return i}l.fn.extend({show:function(){return vi(this,!0)},hide:function(){return vi(this)},toggle:function(i){return typeof i=="boolean"?i?this.show():this.hide():this.each(function(){cr(this)?l(this).show():l(this).hide()})}});var Hi=/^(?:checkbox|radio)$/i,gs=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,_s=/^$|^module$|\/(?:java|ecma)script/i;(function(){var i=M.createDocumentFragment(),n=i.appendChild(M.createElement("div")),o=M.createElement("input");o.setAttribute("type","radio"),o.setAttribute("checked","checked"),o.setAttribute("name","t"),n.appendChild(o),x.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,n.innerHTML="<textarea>x</textarea>",x.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue,n.innerHTML="<option></option>",x.option=!!n.lastChild})();var be={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};be.tbody=be.tfoot=be.colgroup=be.caption=be.thead,be.th=be.td,x.option||(be.optgroup=be.option=[1,"<select multiple='multiple'>","</select>"]);function fe(i,n){var o;return typeof i.getElementsByTagName<"u"?o=i.getElementsByTagName(n||"*"):typeof i.querySelectorAll<"u"?o=i.querySelectorAll(n||"*"):o=[],n===void 0||n&&G(i,n)?l.merge([i],o):o}function sn(i,n){for(var o=0,h=i.length;o<h;o++)nt.set(i[o],"globalEval",!n||nt.get(n[o],"globalEval"))}var Po=/<|&#?\w+;/;function ms(i,n,o,h,u){for(var d,g,w,v,C,I,D=n.createDocumentFragment(),O=[],U=0,ut=i.length;U<ut;U++)if(d=i[U],d||d===0)if(q(d)==="object")l.merge(O,d.nodeType?[d]:d);else if(!Po.test(d))O.push(n.createTextNode(d));else{for(g=g||D.appendChild(n.createElement("div")),w=(gs.exec(d)||["",""])[1].toLowerCase(),v=be[w]||be._default,g.innerHTML=v[1]+l.htmlPrefilter(d)+v[2],I=v[0];I--;)g=g.lastChild;l.merge(O,g.childNodes),g=D.firstChild,g.textContent=""}for(D.textContent="",U=0;d=O[U++];){if(h&&l.inArray(d,h)>-1){u&&u.push(d);continue}if(C=bi(d),g=fe(D.appendChild(d),"script"),C&&sn(g),o)for(I=0;d=g[I++];)_s.test(d.type||"")&&o.push(d)}return D}var ys=/^([^.]*)(?:\.(.+)|)/;function xi(){return!0}function wi(){return!1}function an(i,n,o,h,u,d){var g,w;if(typeof n=="object"){typeof o!="string"&&(h=h||o,o=void 0);for(w in n)an(i,w,o,h,n[w],d);return i}if(h==null&&u==null?(u=o,h=o=void 0):u==null&&(typeof o=="string"?(u=h,h=void 0):(u=h,h=o,o=void 0)),u===!1)u=wi;else if(!u)return i;return d===1&&(g=u,u=function(v){return l().off(v),g.apply(this,arguments)},u.guid=g.guid||(g.guid=l.guid++)),i.each(function(){l.event.add(this,n,u,h,o)})}l.event={global:{},add:function(i,n,o,h,u){var d,g,w,v,C,I,D,O,U,ut,Et,bt=nt.get(i);if(!!Di(i))for(o.handler&&(d=o,o=d.handler,u=d.selector),u&&l.find.matchesSelector(ni,u),o.guid||(o.guid=l.guid++),(v=bt.events)||(v=bt.events=Object.create(null)),(g=bt.handle)||(g=bt.handle=function(re){return typeof l<"u"&&l.event.triggered!==re.type?l.event.dispatch.apply(i,arguments):void 0}),n=(n||"").match(jt)||[""],C=n.length;C--;)w=ys.exec(n[C])||[],U=Et=w[1],ut=(w[2]||"").split(".").sort(),U&&(D=l.event.special[U]||{},U=(u?D.delegateType:D.bindType)||U,D=l.event.special[U]||{},I=l.extend({type:U,origType:Et,data:h,handler:o,guid:o.guid,selector:u,needsContext:u&&l.expr.match.needsContext.test(u),namespace:ut.join(".")},d),(O=v[U])||(O=v[U]=[],O.delegateCount=0,(!D.setup||D.setup.call(i,h,ut,g)===!1)&&i.addEventListener&&i.addEventListener(U,g)),D.add&&(D.add.call(i,I),I.handler.guid||(I.handler.guid=o.guid)),u?O.splice(O.delegateCount++,0,I):O.push(I),l.event.global[U]=!0)},remove:function(i,n,o,h,u){var d,g,w,v,C,I,D,O,U,ut,Et,bt=nt.hasData(i)&&nt.get(i);if(!(!bt||!(v=bt.events))){for(n=(n||"").match(jt)||[""],C=n.length;C--;){if(w=ys.exec(n[C])||[],U=Et=w[1],ut=(w[2]||"").split(".").sort(),!U){for(U in v)l.event.remove(i,U+n[C],o,h,!0);continue}for(D=l.event.special[U]||{},U=(h?D.delegateType:D.bindType)||U,O=v[U]||[],w=w[2]&&new RegExp("(^|\\.)"+ut.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=d=O.length;d--;)I=O[d],(u||Et===I.origType)&&(!o||o.guid===I.guid)&&(!w||w.test(I.namespace))&&(!h||h===I.selector||h==="**"&&I.selector)&&(O.splice(d,1),I.selector&&O.delegateCount--,D.remove&&D.remove.call(i,I));g&&!O.length&&((!D.teardown||D.teardown.call(i,ut,bt.handle)===!1)&&l.removeEvent(i,U,bt.handle),delete v[U])}l.isEmptyObject(v)&&nt.remove(i,"handle events")}},dispatch:function(i){var n,o,h,u,d,g,w=new Array(arguments.length),v=l.event.fix(i),C=(nt.get(this,"events")||Object.create(null))[v.type]||[],I=l.event.special[v.type]||{};for(w[0]=v,n=1;n<arguments.length;n++)w[n]=arguments[n];if(v.delegateTarget=this,!(I.preDispatch&&I.preDispatch.call(this,v)===!1)){for(g=l.event.handlers.call(this,v,C),n=0;(u=g[n++])&&!v.isPropagationStopped();)for(v.currentTarget=u.elem,o=0;(d=u.handlers[o++])&&!v.isImmediatePropagationStopped();)(!v.rnamespace||d.namespace===!1||v.rnamespace.test(d.namespace))&&(v.handleObj=d,v.data=d.data,h=((l.event.special[d.origType]||{}).handle||d.handler).apply(u.elem,w),h!==void 0&&(v.result=h)===!1&&(v.preventDefault(),v.stopPropagation()));return I.postDispatch&&I.postDispatch.call(this,v),v.result}},handlers:function(i,n){var o,h,u,d,g,w=[],v=n.delegateCount,C=i.target;if(v&&C.nodeType&&!(i.type==="click"&&i.button>=1)){for(;C!==this;C=C.parentNode||this)if(C.nodeType===1&&!(i.type==="click"&&C.disabled===!0)){for(d=[],g={},o=0;o<v;o++)h=n[o],u=h.selector+" ",g[u]===void 0&&(g[u]=h.needsContext?l(u,this).index(C)>-1:l.find(u,this,null,[C]).length),g[u]&&d.push(h);d.length&&w.push({elem:C,handlers:d})}}return C=this,v<n.length&&w.push({elem:C,handlers:n.slice(v)}),w},addProp:function(i,n){Object.defineProperty(l.Event.prototype,i,{enumerable:!0,configurable:!0,get:k(n)?function(){if(this.originalEvent)return n(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[i]},set:function(o){Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:o})}})},fix:function(i){return i[l.expando]?i:new l.Event(i)},special:{load:{noBubble:!0},click:{setup:function(i){var n=this||i;return Hi.test(n.type)&&n.click&&G(n,"input")&&ur(n,"click",!0),!1},trigger:function(i){var n=this||i;return Hi.test(n.type)&&n.click&&G(n,"input")&&ur(n,"click"),!0},_default:function(i){var n=i.target;return Hi.test(n.type)&&n.click&&G(n,"input")&&nt.get(n,"click")||G(n,"a")}},beforeunload:{postDispatch:function(i){i.result!==void 0&&i.originalEvent&&(i.originalEvent.returnValue=i.result)}}}};function ur(i,n,o){if(!o){nt.get(i,n)===void 0&&l.event.add(i,n,xi);return}nt.set(i,n,!1),l.event.add(i,n,{namespace:!1,handler:function(h){var u,d=nt.get(this,n);if(h.isTrigger&1&&this[n]){if(d)(l.event.special[n]||{}).delegateType&&h.stopPropagation();else if(d=a.call(arguments),nt.set(this,n,d),this[n](),u=nt.get(this,n),nt.set(this,n,!1),d!==u)return h.stopImmediatePropagation(),h.preventDefault(),u}else d&&(nt.set(this,n,l.event.trigger(d[0],d.slice(1),this)),h.stopPropagation(),h.isImmediatePropagationStopped=xi)}})}l.removeEvent=function(i,n,o){i.removeEventListener&&i.removeEventListener(n,o)},l.Event=function(i,n){if(!(this instanceof l.Event))return new l.Event(i,n);i&&i.type?(this.originalEvent=i,this.type=i.type,this.isDefaultPrevented=i.defaultPrevented||i.defaultPrevented===void 0&&i.returnValue===!1?xi:wi,this.target=i.target&&i.target.nodeType===3?i.target.parentNode:i.target,this.currentTarget=i.currentTarget,this.relatedTarget=i.relatedTarget):this.type=i,n&&l.extend(this,n),this.timeStamp=i&&i.timeStamp||Date.now(),this[l.expando]=!0},l.Event.prototype={constructor:l.Event,isDefaultPrevented:wi,isPropagationStopped:wi,isImmediatePropagationStopped:wi,isSimulated:!1,preventDefault:function(){var i=this.originalEvent;this.isDefaultPrevented=xi,i&&!this.isSimulated&&i.preventDefault()},stopPropagation:function(){var i=this.originalEvent;this.isPropagationStopped=xi,i&&!this.isSimulated&&i.stopPropagation()},stopImmediatePropagation:function(){var i=this.originalEvent;this.isImmediatePropagationStopped=xi,i&&!this.isSimulated&&i.stopImmediatePropagation(),this.stopPropagation()}},l.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},l.event.addProp),l.each({focus:"focusin",blur:"focusout"},function(i,n){function o(h){if(M.documentMode){var u=nt.get(this,"handle"),d=l.event.fix(h);d.type=h.type==="focusin"?"focus":"blur",d.isSimulated=!0,u(h),d.target===d.currentTarget&&u(d)}else l.event.simulate(n,h.target,l.event.fix(h))}l.event.special[i]={setup:function(){var h;if(ur(this,i,!0),M.documentMode)h=nt.get(this,n),h||this.addEventListener(n,o),nt.set(this,n,(h||0)+1);else return!1},trigger:function(){return ur(this,i),!0},teardown:function(){var h;if(M.documentMode)h=nt.get(this,n)-1,h?nt.set(this,n,h):(this.removeEventListener(n,o),nt.remove(this,n));else return!1},_default:function(h){return nt.get(h.target,i)},delegateType:n},l.event.special[n]={setup:function(){var h=this.ownerDocument||this.document||this,u=M.documentMode?this:h,d=nt.get(u,n);d||(M.documentMode?this.addEventListener(n,o):h.addEventListener(i,o,!0)),nt.set(u,n,(d||0)+1)},teardown:function(){var h=this.ownerDocument||this.document||this,u=M.documentMode?this:h,d=nt.get(u,n)-1;d?nt.set(u,n,d):(M.documentMode?this.removeEventListener(n,o):h.removeEventListener(i,o,!0),nt.remove(u,n))}}}),l.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(i,n){l.event.special[i]={delegateType:n,bindType:n,handle:function(o){var h,u=this,d=o.relatedTarget,g=o.handleObj;return(!d||d!==u&&!l.contains(u,d))&&(o.type=g.origType,h=g.handler.apply(this,arguments),o.type=n),h}}}),l.fn.extend({on:function(i,n,o,h){return an(this,i,n,o,h)},one:function(i,n,o,h){return an(this,i,n,o,h,1)},off:function(i,n,o){var h,u;if(i&&i.preventDefault&&i.handleObj)return h=i.handleObj,l(i.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if(typeof i=="object"){for(u in i)this.off(u,n,i[u]);return this}return(n===!1||typeof n=="function")&&(o=n,n=void 0),o===!1&&(o=wi),this.each(function(){l.event.remove(this,i,o,n)})}});var Lo=/<script|<style|<link/i,Io=/checked\s*(?:[^=]|=\s*.checked.)/i,No=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function bs(i,n){return G(i,"table")&&G(n.nodeType!==11?n:n.firstChild,"tr")&&l(i).children("tbody")[0]||i}function jo(i){return i.type=(i.getAttribute("type")!==null)+"/"+i.type,i}function Do(i){return(i.type||"").slice(0,5)==="true/"?i.type=i.type.slice(5):i.removeAttribute("type"),i}function vs(i,n){var o,h,u,d,g,w,v;if(n.nodeType===1){if(nt.hasData(i)&&(d=nt.get(i),v=d.events,v)){nt.remove(n,"handle events");for(u in v)for(o=0,h=v[u].length;o<h;o++)l.event.add(n,u,v[u][o])}he.hasData(i)&&(g=he.access(i),w=l.extend({},g),he.set(n,w))}}function Bo(i,n){var o=n.nodeName.toLowerCase();o==="input"&&Hi.test(i.type)?n.checked=i.checked:(o==="input"||o==="textarea")&&(n.defaultValue=i.defaultValue)}function ki(i,n,o,h){n=c(n);var u,d,g,w,v,C,I=0,D=i.length,O=D-1,U=n[0],ut=k(U);if(ut||D>1&&typeof U=="string"&&!x.checkClone&&Io.test(U))return i.each(function(Et){var bt=i.eq(Et);ut&&(n[0]=U.call(this,Et,bt.html())),ki(bt,n,o,h)});if(D&&(u=ms(n,i[0].ownerDocument,!1,i,h),d=u.firstChild,u.childNodes.length===1&&(u=d),d||h)){for(g=l.map(fe(u,"script"),jo),w=g.length;I<D;I++)v=u,I!==O&&(v=l.clone(v,!0,!0),w&&l.merge(g,fe(v,"script"))),o.call(i[I],v,I);if(w)for(C=g[g.length-1].ownerDocument,l.map(g,Do),I=0;I<w;I++)v=g[I],_s.test(v.type||"")&&!nt.access(v,"globalEval")&&l.contains(C,v)&&(v.src&&(v.type||"").toLowerCase()!=="module"?l._evalUrl&&!v.noModule&&l._evalUrl(v.src,{nonce:v.nonce||v.getAttribute("nonce")},C):L(v.textContent.replace(No,""),v,C))}return i}function xs(i,n,o){for(var h,u=n?l.filter(n,i):i,d=0;(h=u[d])!=null;d++)!o&&h.nodeType===1&&l.cleanData(fe(h)),h.parentNode&&(o&&bi(h)&&sn(fe(h,"script")),h.parentNode.removeChild(h));return i}l.extend({htmlPrefilter:function(i){return i},clone:function(i,n,o){var h,u,d,g,w=i.cloneNode(!0),v=bi(i);if(!x.noCloneChecked&&(i.nodeType===1||i.nodeType===11)&&!l.isXMLDoc(i))for(g=fe(w),d=fe(i),h=0,u=d.length;h<u;h++)Bo(d[h],g[h]);if(n)if(o)for(d=d||fe(i),g=g||fe(w),h=0,u=d.length;h<u;h++)vs(d[h],g[h]);else vs(i,w);return g=fe(w,"script"),g.length>0&&sn(g,!v&&fe(i,"script")),w},cleanData:function(i){for(var n,o,h,u=l.event.special,d=0;(o=i[d])!==void 0;d++)if(Di(o)){if(n=o[nt.expando]){if(n.events)for(h in n.events)u[h]?l.event.remove(o,h):l.removeEvent(o,h,n.handle);o[nt.expando]=void 0}o[he.expando]&&(o[he.expando]=void 0)}}}),l.fn.extend({detach:function(i){return xs(this,i,!0)},remove:function(i){return xs(this,i)},text:function(i){return Ve(this,function(n){return n===void 0?l.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=n)})},null,i,arguments.length)},append:function(){return ki(this,arguments,function(i){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var n=bs(this,i);n.appendChild(i)}})},prepend:function(){return ki(this,arguments,function(i){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var n=bs(this,i);n.insertBefore(i,n.firstChild)}})},before:function(){return ki(this,arguments,function(i){this.parentNode&&this.parentNode.insertBefore(i,this)})},after:function(){return ki(this,arguments,function(i){this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling)})},empty:function(){for(var i,n=0;(i=this[n])!=null;n++)i.nodeType===1&&(l.cleanData(fe(i,!1)),i.textContent="");return this},clone:function(i,n){return i=i??!1,n=n??i,this.map(function(){return l.clone(this,i,n)})},html:function(i){return Ve(this,function(n){var o=this[0]||{},h=0,u=this.length;if(n===void 0&&o.nodeType===1)return o.innerHTML;if(typeof n=="string"&&!Lo.test(n)&&!be[(gs.exec(n)||["",""])[1].toLowerCase()]){n=l.htmlPrefilter(n);try{for(;h<u;h++)o=this[h]||{},o.nodeType===1&&(l.cleanData(fe(o,!1)),o.innerHTML=n);o=0}catch{}}o&&this.empty().append(n)},null,i,arguments.length)},replaceWith:function(){var i=[];return ki(this,arguments,function(n){var o=this.parentNode;l.inArray(this,i)<0&&(l.cleanData(fe(this)),o&&o.replaceChild(n,this))},i)}}),l.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(i,n){l.fn[i]=function(o){for(var h,u=[],d=l(o),g=d.length-1,w=0;w<=g;w++)h=w===g?this:this.clone(!0),l(d[w])[n](h),f.apply(u,h.get());return this.pushStack(u)}});var on=new RegExp("^("+us+")(?!px)[a-z%]+$","i"),ln=/^--/,dr=function(i){var n=i.ownerDocument.defaultView;return(!n||!n.opener)&&(n=t),n.getComputedStyle(i)},ws=function(i,n,o){var h,u,d={};for(u in n)d[u]=i.style[u],i.style[u]=n[u];h=o.call(i);for(u in n)i.style[u]=d[u];return h},qo=new RegExp(We.join("|"),"i");(function(){function i(){if(!!C){v.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",C.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ni.appendChild(v).appendChild(C);var I=t.getComputedStyle(C);o=I.top!=="1%",w=n(I.marginLeft)===12,C.style.right="60%",d=n(I.right)===36,h=n(I.width)===36,C.style.position="absolute",u=n(C.offsetWidth/3)===12,ni.removeChild(v),C=null}}function n(I){return Math.round(parseFloat(I))}var o,h,u,d,g,w,v=M.createElement("div"),C=M.createElement("div");!C.style||(C.style.backgroundClip="content-box",C.cloneNode(!0).style.backgroundClip="",x.clearCloneStyle=C.style.backgroundClip==="content-box",l.extend(x,{boxSizingReliable:function(){return i(),h},pixelBoxStyles:function(){return i(),d},pixelPosition:function(){return i(),o},reliableMarginLeft:function(){return i(),w},scrollboxSize:function(){return i(),u},reliableTrDimensions:function(){var I,D,O,U;return g==null&&(I=M.createElement("table"),D=M.createElement("tr"),O=M.createElement("div"),I.style.cssText="position:absolute;left:-11111px;border-collapse:separate",D.style.cssText="border:1px solid",D.style.height="1px",O.style.height="9px",O.style.display="block",ni.appendChild(I).appendChild(D).appendChild(O),U=t.getComputedStyle(D),g=parseInt(U.height,10)+parseInt(U.borderTopWidth,10)+parseInt(U.borderBottomWidth,10)===D.offsetHeight,ni.removeChild(I)),g}}))})();function zi(i,n,o){var h,u,d,g,w=ln.test(n),v=i.style;return o=o||dr(i),o&&(g=o.getPropertyValue(n)||o[n],w&&g&&(g=g.replace(St,"$1")||void 0),g===""&&!bi(i)&&(g=l.style(i,n)),!x.pixelBoxStyles()&&on.test(g)&&qo.test(n)&&(h=v.width,u=v.minWidth,d=v.maxWidth,v.minWidth=v.maxWidth=v.width=g,g=o.width,v.width=h,v.minWidth=u,v.maxWidth=d)),g!==void 0?g+"":g}function ks(i,n){return{get:function(){if(i()){delete this.get;return}return(this.get=n).apply(this,arguments)}}}var Ts=["Webkit","Moz","ms"],Ss=M.createElement("div").style,As={};function Ho(i){for(var n=i[0].toUpperCase()+i.slice(1),o=Ts.length;o--;)if(i=Ts[o]+n,i in Ss)return i}function hn(i){var n=l.cssProps[i]||As[i];return n||(i in Ss?i:As[i]=Ho(i)||i)}var zo=/^(none|table(?!-c[ea]).+)/,Uo={position:"absolute",visibility:"hidden",display:"block"},Es={letterSpacing:"0",fontWeight:"400"};function Cs(i,n,o){var h=qi.exec(n);return h?Math.max(0,h[2]-(o||0))+(h[3]||"px"):n}function fn(i,n,o,h,u,d){var g=n==="width"?1:0,w=0,v=0,C=0;if(o===(h?"border":"content"))return 0;for(;g<4;g+=2)o==="margin"&&(C+=l.css(i,o+We[g],!0,u)),h?(o==="content"&&(v-=l.css(i,"padding"+We[g],!0,u)),o!=="margin"&&(v-=l.css(i,"border"+We[g]+"Width",!0,u))):(v+=l.css(i,"padding"+We[g],!0,u),o!=="padding"?v+=l.css(i,"border"+We[g]+"Width",!0,u):w+=l.css(i,"border"+We[g]+"Width",!0,u));return!h&&d>=0&&(v+=Math.max(0,Math.ceil(i["offset"+n[0].toUpperCase()+n.slice(1)]-d-v-w-.5))||0),v+C}function Rs(i,n,o){var h=dr(i),u=!x.boxSizingReliable()||o,d=u&&l.css(i,"boxSizing",!1,h)==="border-box",g=d,w=zi(i,n,h),v="offset"+n[0].toUpperCase()+n.slice(1);if(on.test(w)){if(!o)return w;w="auto"}return(!x.boxSizingReliable()&&d||!x.reliableTrDimensions()&&G(i,"tr")||w==="auto"||!parseFloat(w)&&l.css(i,"display",!1,h)==="inline")&&i.getClientRects().length&&(d=l.css(i,"boxSizing",!1,h)==="border-box",g=v in i,g&&(w=i[v])),w=parseFloat(w)||0,w+fn(i,n,o||(d?"border":"content"),g,h,w)+"px"}l.extend({cssHooks:{opacity:{get:function(i,n){if(n){var o=zi(i,"opacity");return o===""?"1":o}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(i,n,o,h){if(!(!i||i.nodeType===3||i.nodeType===8||!i.style)){var u,d,g,w=Fe(n),v=ln.test(n),C=i.style;if(v||(n=hn(w)),g=l.cssHooks[n]||l.cssHooks[w],o!==void 0){if(d=typeof o,d==="string"&&(u=qi.exec(o))&&u[1]&&(o=ds(i,n,u),d="number"),o==null||o!==o)return;d==="number"&&!v&&(o+=u&&u[3]||(l.cssNumber[w]?"":"px")),!x.clearCloneStyle&&o===""&&n.indexOf("background")===0&&(C[n]="inherit"),(!g||!("set"in g)||(o=g.set(i,o,h))!==void 0)&&(v?C.setProperty(n,o):C[n]=o)}else return g&&"get"in g&&(u=g.get(i,!1,h))!==void 0?u:C[n]}},css:function(i,n,o,h){var u,d,g,w=Fe(n),v=ln.test(n);return v||(n=hn(w)),g=l.cssHooks[n]||l.cssHooks[w],g&&"get"in g&&(u=g.get(i,!0,o)),u===void 0&&(u=zi(i,n,h)),u==="normal"&&n in Es&&(u=Es[n]),o===""||o?(d=parseFloat(u),o===!0||isFinite(d)?d||0:u):u}}),l.each(["height","width"],function(i,n){l.cssHooks[n]={get:function(o,h,u){if(h)return zo.test(l.css(o,"display"))&&(!o.getClientRects().length||!o.getBoundingClientRect().width)?ws(o,Uo,function(){return Rs(o,n,u)}):Rs(o,n,u)},set:function(o,h,u){var d,g=dr(o),w=!x.scrollboxSize()&&g.position==="absolute",v=w||u,C=v&&l.css(o,"boxSizing",!1,g)==="border-box",I=u?fn(o,n,u,C,g):0;return C&&w&&(I-=Math.ceil(o["offset"+n[0].toUpperCase()+n.slice(1)]-parseFloat(g[n])-fn(o,n,"border",!1,g)-.5)),I&&(d=qi.exec(h))&&(d[3]||"px")!=="px"&&(o.style[n]=h,h=l.css(o,n)),Cs(o,h,I)}}}),l.cssHooks.marginLeft=ks(x.reliableMarginLeft,function(i,n){if(n)return(parseFloat(zi(i,"marginLeft"))||i.getBoundingClientRect().left-ws(i,{marginLeft:0},function(){return i.getBoundingClientRect().left}))+"px"}),l.each({margin:"",padding:"",border:"Width"},function(i,n){l.cssHooks[i+n]={expand:function(o){for(var h=0,u={},d=typeof o=="string"?o.split(" "):[o];h<4;h++)u[i+We[h]+n]=d[h]||d[h-2]||d[0];return u}},i!=="margin"&&(l.cssHooks[i+n].set=Cs)}),l.fn.extend({css:function(i,n){return Ve(this,function(o,h,u){var d,g,w={},v=0;if(Array.isArray(h)){for(d=dr(o),g=h.length;v<g;v++)w[h[v]]=l.css(o,h[v],!1,d);return w}return u!==void 0?l.style(o,h,u):l.css(o,h)},i,n,arguments.length>1)}});function ce(i,n,o,h,u){return new ce.prototype.init(i,n,o,h,u)}l.Tween=ce,ce.prototype={constructor:ce,init:function(i,n,o,h,u,d){this.elem=i,this.prop=o,this.easing=u||l.easing._default,this.options=n,this.start=this.now=this.cur(),this.end=h,this.unit=d||(l.cssNumber[o]?"":"px")},cur:function(){var i=ce.propHooks[this.prop];return i&&i.get?i.get(this):ce.propHooks._default.get(this)},run:function(i){var n,o=ce.propHooks[this.prop];return this.options.duration?this.pos=n=l.easing[this.easing](i,this.options.duration*i,0,1,this.options.duration):this.pos=n=i,this.now=(this.end-this.start)*n+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),o&&o.set?o.set(this):ce.propHooks._default.set(this),this}},ce.prototype.init.prototype=ce.prototype,ce.propHooks={_default:{get:function(i){var n;return i.elem.nodeType!==1||i.elem[i.prop]!=null&&i.elem.style[i.prop]==null?i.elem[i.prop]:(n=l.css(i.elem,i.prop,""),!n||n==="auto"?0:n)},set:function(i){l.fx.step[i.prop]?l.fx.step[i.prop](i):i.elem.nodeType===1&&(l.cssHooks[i.prop]||i.elem.style[hn(i.prop)]!=null)?l.style(i.elem,i.prop,i.now+i.unit):i.elem[i.prop]=i.now}}},ce.propHooks.scrollTop=ce.propHooks.scrollLeft={set:function(i){i.elem.nodeType&&i.elem.parentNode&&(i.elem[i.prop]=i.now)}},l.easing={linear:function(i){return i},swing:function(i){return .5-Math.cos(i*Math.PI)/2},_default:"swing"},l.fx=ce.prototype.init,l.fx.step={};var Ti,pr,Vo=/^(?:toggle|show|hide)$/,Wo=/queueHooks$/;function cn(){pr&&(M.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(cn):t.setTimeout(cn,l.fx.interval),l.fx.tick())}function Ms(){return t.setTimeout(function(){Ti=void 0}),Ti=Date.now()}function gr(i,n){var o,h=0,u={height:i};for(n=n?1:0;h<4;h+=2-n)o=We[h],u["margin"+o]=u["padding"+o]=i;return n&&(u.opacity=u.width=i),u}function Fs(i,n,o){for(var h,u=(Ae.tweeners[n]||[]).concat(Ae.tweeners["*"]),d=0,g=u.length;d<g;d++)if(h=u[d].call(o,n,i))return h}function $o(i,n,o){var h,u,d,g,w,v,C,I,D="width"in n||"height"in n,O=this,U={},ut=i.style,Et=i.nodeType&&cr(i),bt=nt.get(i,"fxshow");o.queue||(g=l._queueHooks(i,"fx"),g.unqueued==null&&(g.unqueued=0,w=g.empty.fire,g.empty.fire=function(){g.unqueued||w()}),g.unqueued++,O.always(function(){O.always(function(){g.unqueued--,l.queue(i,"fx").length||g.empty.fire()})}));for(h in n)if(u=n[h],Vo.test(u)){if(delete n[h],d=d||u==="toggle",u===(Et?"hide":"show"))if(u==="show"&&bt&&bt[h]!==void 0)Et=!0;else continue;U[h]=bt&&bt[h]||l.style(i,h)}if(v=!l.isEmptyObject(n),!(!v&&l.isEmptyObject(U))){D&&i.nodeType===1&&(o.overflow=[ut.overflow,ut.overflowX,ut.overflowY],C=bt&&bt.display,C==null&&(C=nt.get(i,"display")),I=l.css(i,"display"),I==="none"&&(C?I=C:(vi([i],!0),C=i.style.display||C,I=l.css(i,"display"),vi([i]))),(I==="inline"||I==="inline-block"&&C!=null)&&l.css(i,"float")==="none"&&(v||(O.done(function(){ut.display=C}),C==null&&(I=ut.display,C=I==="none"?"":I)),ut.display="inline-block")),o.overflow&&(ut.overflow="hidden",O.always(function(){ut.overflow=o.overflow[0],ut.overflowX=o.overflow[1],ut.overflowY=o.overflow[2]})),v=!1;for(h in U)v||(bt?"hidden"in bt&&(Et=bt.hidden):bt=nt.access(i,"fxshow",{display:C}),d&&(bt.hidden=!Et),Et&&vi([i],!0),O.done(function(){Et||vi([i]),nt.remove(i,"fxshow");for(h in U)l.style(i,h,U[h])})),v=Fs(Et?bt[h]:0,h,O),h in bt||(bt[h]=v.start,Et&&(v.end=v.start,v.start=0))}}function Xo(i,n){var o,h,u,d,g;for(o in i)if(h=Fe(o),u=n[h],d=i[o],Array.isArray(d)&&(u=d[1],d=i[o]=d[0]),o!==h&&(i[h]=d,delete i[o]),g=l.cssHooks[h],g&&"expand"in g){d=g.expand(d),delete i[h];for(o in d)o in i||(i[o]=d[o],n[o]=u)}else n[h]=u}function Ae(i,n,o){var h,u,d=0,g=Ae.prefilters.length,w=l.Deferred().always(function(){delete v.elem}),v=function(){if(u)return!1;for(var D=Ti||Ms(),O=Math.max(0,C.startTime+C.duration-D),U=O/C.duration||0,ut=1-U,Et=0,bt=C.tweens.length;Et<bt;Et++)C.tweens[Et].run(ut);return w.notifyWith(i,[C,ut,O]),ut<1&&bt?O:(bt||w.notifyWith(i,[C,1,0]),w.resolveWith(i,[C]),!1)},C=w.promise({elem:i,props:l.extend({},n),opts:l.extend(!0,{specialEasing:{},easing:l.easing._default},o),originalProperties:n,originalOptions:o,startTime:Ti||Ms(),duration:o.duration,tweens:[],createTween:function(D,O){var U=l.Tween(i,C.opts,D,O,C.opts.specialEasing[D]||C.opts.easing);return C.tweens.push(U),U},stop:function(D){var O=0,U=D?C.tweens.length:0;if(u)return this;for(u=!0;O<U;O++)C.tweens[O].run(1);return D?(w.notifyWith(i,[C,1,0]),w.resolveWith(i,[C,D])):w.rejectWith(i,[C,D]),this}}),I=C.props;for(Xo(I,C.opts.specialEasing);d<g;d++)if(h=Ae.prefilters[d].call(C,i,I,C.opts),h)return k(h.stop)&&(l._queueHooks(C.elem,C.opts.queue).stop=h.stop.bind(h)),h;return l.map(I,Fs,C),k(C.opts.start)&&C.opts.start.call(i,C),C.progress(C.opts.progress).done(C.opts.done,C.opts.complete).fail(C.opts.fail).always(C.opts.always),l.fx.timer(l.extend(v,{elem:i,anim:C,queue:C.opts.queue})),C}l.Animation=l.extend(Ae,{tweeners:{"*":[function(i,n){var o=this.createTween(i,n);return ds(o.elem,i,qi.exec(n),o),o}]},tweener:function(i,n){k(i)?(n=i,i=["*"]):i=i.match(jt);for(var o,h=0,u=i.length;h<u;h++)o=i[h],Ae.tweeners[o]=Ae.tweeners[o]||[],Ae.tweeners[o].unshift(n)},prefilters:[$o],prefilter:function(i,n){n?Ae.prefilters.unshift(i):Ae.prefilters.push(i)}}),l.speed=function(i,n,o){var h=i&&typeof i=="object"?l.extend({},i):{complete:o||!o&&n||k(i)&&i,duration:i,easing:o&&n||n&&!k(n)&&n};return l.fx.off?h.duration=0:typeof h.duration!="number"&&(h.duration in l.fx.speeds?h.duration=l.fx.speeds[h.duration]:h.duration=l.fx.speeds._default),(h.queue==null||h.queue===!0)&&(h.queue="fx"),h.old=h.complete,h.complete=function(){k(h.old)&&h.old.call(this),h.queue&&l.dequeue(this,h.queue)},h},l.fn.extend({fadeTo:function(i,n,o,h){return this.filter(cr).css("opacity",0).show().end().animate({opacity:n},i,o,h)},animate:function(i,n,o,h){var u=l.isEmptyObject(i),d=l.speed(n,o,h),g=function(){var w=Ae(this,l.extend({},i),d);(u||nt.get(this,"finish"))&&w.stop(!0)};return g.finish=g,u||d.queue===!1?this.each(g):this.queue(d.queue,g)},stop:function(i,n,o){var h=function(u){var d=u.stop;delete u.stop,d(o)};return typeof i!="string"&&(o=n,n=i,i=void 0),n&&this.queue(i||"fx",[]),this.each(function(){var u=!0,d=i!=null&&i+"queueHooks",g=l.timers,w=nt.get(this);if(d)w[d]&&w[d].stop&&h(w[d]);else for(d in w)w[d]&&w[d].stop&&Wo.test(d)&&h(w[d]);for(d=g.length;d--;)g[d].elem===this&&(i==null||g[d].queue===i)&&(g[d].anim.stop(o),u=!1,g.splice(d,1));(u||!o)&&l.dequeue(this,i)})},finish:function(i){return i!==!1&&(i=i||"fx"),this.each(function(){var n,o=nt.get(this),h=o[i+"queue"],u=o[i+"queueHooks"],d=l.timers,g=h?h.length:0;for(o.finish=!0,l.queue(this,i,[]),u&&u.stop&&u.stop.call(this,!0),n=d.length;n--;)d[n].elem===this&&d[n].queue===i&&(d[n].anim.stop(!0),d.splice(n,1));for(n=0;n<g;n++)h[n]&&h[n].finish&&h[n].finish.call(this);delete o.finish})}}),l.each(["toggle","show","hide"],function(i,n){var o=l.fn[n];l.fn[n]=function(h,u,d){return h==null||typeof h=="boolean"?o.apply(this,arguments):this.animate(gr(n,!0),h,u,d)}}),l.each({slideDown:gr("show"),slideUp:gr("hide"),slideToggle:gr("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(i,n){l.fn[i]=function(o,h,u){return this.animate(n,o,h,u)}}),l.timers=[],l.fx.tick=function(){var i,n=0,o=l.timers;for(Ti=Date.now();n<o.length;n++)i=o[n],!i()&&o[n]===i&&o.splice(n--,1);o.length||l.fx.stop(),Ti=void 0},l.fx.timer=function(i){l.timers.push(i),l.fx.start()},l.fx.interval=13,l.fx.start=function(){pr||(pr=!0,cn())},l.fx.stop=function(){pr=null},l.fx.speeds={slow:600,fast:200,_default:400},l.fn.delay=function(i,n){return i=l.fx&&l.fx.speeds[i]||i,n=n||"fx",this.queue(n,function(o,h){var u=t.setTimeout(o,i);h.stop=function(){t.clearTimeout(u)}})},function(){var i=M.createElement("input"),n=M.createElement("select"),o=n.appendChild(M.createElement("option"));i.type="checkbox",x.checkOn=i.value!=="",x.optSelected=o.selected,i=M.createElement("input"),i.value="t",i.type="radio",x.radioValue=i.value==="t"}();var Os,Ui=l.expr.attrHandle;l.fn.extend({attr:function(i,n){return Ve(this,l.attr,i,n,arguments.length>1)},removeAttr:function(i){return this.each(function(){l.removeAttr(this,i)})}}),l.extend({attr:function(i,n,o){var h,u,d=i.nodeType;if(!(d===3||d===8||d===2)){if(typeof i.getAttribute>"u")return l.prop(i,n,o);if((d!==1||!l.isXMLDoc(i))&&(u=l.attrHooks[n.toLowerCase()]||(l.expr.match.bool.test(n)?Os:void 0)),o!==void 0){if(o===null){l.removeAttr(i,n);return}return u&&"set"in u&&(h=u.set(i,o,n))!==void 0?h:(i.setAttribute(n,o+""),o)}return u&&"get"in u&&(h=u.get(i,n))!==null?h:(h=l.find.attr(i,n),h??void 0)}},attrHooks:{type:{set:function(i,n){if(!x.radioValue&&n==="radio"&&G(i,"input")){var o=i.value;return i.setAttribute("type",n),o&&(i.value=o),n}}}},removeAttr:function(i,n){var o,h=0,u=n&&n.match(jt);if(u&&i.nodeType===1)for(;o=u[h++];)i.removeAttribute(o)}}),Os={set:function(i,n,o){return n===!1?l.removeAttr(i,o):i.setAttribute(o,o),o}},l.each(l.expr.match.bool.source.match(/\w+/g),function(i,n){var o=Ui[n]||l.find.attr;Ui[n]=function(h,u,d){var g,w,v=u.toLowerCase();return d||(w=Ui[v],Ui[v]=g,g=o(h,u,d)!=null?v:null,Ui[v]=w),g}});var Yo=/^(?:input|select|textarea|button)$/i,Go=/^(?:a|area)$/i;l.fn.extend({prop:function(i,n){return Ve(this,l.prop,i,n,arguments.length>1)},removeProp:function(i){return this.each(function(){delete this[l.propFix[i]||i]})}}),l.extend({prop:function(i,n,o){var h,u,d=i.nodeType;if(!(d===3||d===8||d===2))return(d!==1||!l.isXMLDoc(i))&&(n=l.propFix[n]||n,u=l.propHooks[n]),o!==void 0?u&&"set"in u&&(h=u.set(i,o,n))!==void 0?h:i[n]=o:u&&"get"in u&&(h=u.get(i,n))!==null?h:i[n]},propHooks:{tabIndex:{get:function(i){var n=l.find.attr(i,"tabindex");return n?parseInt(n,10):Yo.test(i.nodeName)||Go.test(i.nodeName)&&i.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),x.optSelected||(l.propHooks.selected={get:function(i){var n=i.parentNode;return n&&n.parentNode&&n.parentNode.selectedIndex,null},set:function(i){var n=i.parentNode;n&&(n.selectedIndex,n.parentNode&&n.parentNode.selectedIndex)}}),l.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){l.propFix[this.toLowerCase()]=this});function si(i){var n=i.match(jt)||[];return n.join(" ")}function ai(i){return i.getAttribute&&i.getAttribute("class")||""}function un(i){return Array.isArray(i)?i:typeof i=="string"?i.match(jt)||[]:[]}l.fn.extend({addClass:function(i){var n,o,h,u,d,g;return k(i)?this.each(function(w){l(this).addClass(i.call(this,w,ai(this)))}):(n=un(i),n.length?this.each(function(){if(h=ai(this),o=this.nodeType===1&&" "+si(h)+" ",o){for(d=0;d<n.length;d++)u=n[d],o.indexOf(" "+u+" ")<0&&(o+=u+" ");g=si(o),h!==g&&this.setAttribute("class",g)}}):this)},removeClass:function(i){var n,o,h,u,d,g;return k(i)?this.each(function(w){l(this).removeClass(i.call(this,w,ai(this)))}):arguments.length?(n=un(i),n.length?this.each(function(){if(h=ai(this),o=this.nodeType===1&&" "+si(h)+" ",o){for(d=0;d<n.length;d++)for(u=n[d];o.indexOf(" "+u+" ")>-1;)o=o.replace(" "+u+" "," ");g=si(o),h!==g&&this.setAttribute("class",g)}}):this):this.attr("class","")},toggleClass:function(i,n){var o,h,u,d,g=typeof i,w=g==="string"||Array.isArray(i);return k(i)?this.each(function(v){l(this).toggleClass(i.call(this,v,ai(this),n),n)}):typeof n=="boolean"&&w?n?this.addClass(i):this.removeClass(i):(o=un(i),this.each(function(){if(w)for(d=l(this),u=0;u<o.length;u++)h=o[u],d.hasClass(h)?d.removeClass(h):d.addClass(h);else(i===void 0||g==="boolean")&&(h=ai(this),h&&nt.set(this,"__className__",h),this.setAttribute&&this.setAttribute("class",h||i===!1?"":nt.get(this,"__className__")||""))}))},hasClass:function(i){var n,o,h=0;for(n=" "+i+" ";o=this[h++];)if(o.nodeType===1&&(" "+si(ai(o))+" ").indexOf(n)>-1)return!0;return!1}});var Ko=/\r/g;l.fn.extend({val:function(i){var n,o,h,u=this[0];return arguments.length?(h=k(i),this.each(function(d){var g;this.nodeType===1&&(h?g=i.call(this,d,l(this).val()):g=i,g==null?g="":typeof g=="number"?g+="":Array.isArray(g)&&(g=l.map(g,function(w){return w==null?"":w+""})),n=l.valHooks[this.type]||l.valHooks[this.nodeName.toLowerCase()],(!n||!("set"in n)||n.set(this,g,"value")===void 0)&&(this.value=g))})):u?(n=l.valHooks[u.type]||l.valHooks[u.nodeName.toLowerCase()],n&&"get"in n&&(o=n.get(u,"value"))!==void 0?o:(o=u.value,typeof o=="string"?o.replace(Ko,""):o??"")):void 0}}),l.extend({valHooks:{option:{get:function(i){var n=l.find.attr(i,"value");return n??si(l.text(i))}},select:{get:function(i){var n,o,h,u=i.options,d=i.selectedIndex,g=i.type==="select-one",w=g?null:[],v=g?d+1:u.length;for(d<0?h=v:h=g?d:0;h<v;h++)if(o=u[h],(o.selected||h===d)&&!o.disabled&&(!o.parentNode.disabled||!G(o.parentNode,"optgroup"))){if(n=l(o).val(),g)return n;w.push(n)}return w},set:function(i,n){for(var o,h,u=i.options,d=l.makeArray(n),g=u.length;g--;)h=u[g],(h.selected=l.inArray(l.valHooks.option.get(h),d)>-1)&&(o=!0);return o||(i.selectedIndex=-1),d}}}}),l.each(["radio","checkbox"],function(){l.valHooks[this]={set:function(i,n){if(Array.isArray(n))return i.checked=l.inArray(l(i).val(),n)>-1}},x.checkOn||(l.valHooks[this].get=function(i){return i.getAttribute("value")===null?"on":i.value})});var Vi=t.location,Ps={guid:Date.now()},dn=/\?/;l.parseXML=function(i){var n,o;if(!i||typeof i!="string")return null;try{n=new t.DOMParser().parseFromString(i,"text/xml")}catch{}return o=n&&n.getElementsByTagName("parsererror")[0],(!n||o)&&l.error("Invalid XML: "+(o?l.map(o.childNodes,function(h){return h.textContent}).join(`
`):i)),n};var Ls=/^(?:focusinfocus|focusoutblur)$/,Is=function(i){i.stopPropagation()};l.extend(l.event,{trigger:function(i,n,o,h){var u,d,g,w,v,C,I,D,O=[o||M],U=T.call(i,"type")?i.type:i,ut=T.call(i,"namespace")?i.namespace.split("."):[];if(d=D=g=o=o||M,!(o.nodeType===3||o.nodeType===8)&&!Ls.test(U+l.event.triggered)&&(U.indexOf(".")>-1&&(ut=U.split("."),U=ut.shift(),ut.sort()),v=U.indexOf(":")<0&&"on"+U,i=i[l.expando]?i:new l.Event(U,typeof i=="object"&&i),i.isTrigger=h?2:3,i.namespace=ut.join("."),i.rnamespace=i.namespace?new RegExp("(^|\\.)"+ut.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=void 0,i.target||(i.target=o),n=n==null?[i]:l.makeArray(n,[i]),I=l.event.special[U]||{},!(!h&&I.trigger&&I.trigger.apply(o,n)===!1))){if(!h&&!I.noBubble&&!N(o)){for(w=I.delegateType||U,Ls.test(w+U)||(d=d.parentNode);d;d=d.parentNode)O.push(d),g=d;g===(o.ownerDocument||M)&&O.push(g.defaultView||g.parentWindow||t)}for(u=0;(d=O[u++])&&!i.isPropagationStopped();)D=d,i.type=u>1?w:I.bindType||U,C=(nt.get(d,"events")||Object.create(null))[i.type]&&nt.get(d,"handle"),C&&C.apply(d,n),C=v&&d[v],C&&C.apply&&Di(d)&&(i.result=C.apply(d,n),i.result===!1&&i.preventDefault());return i.type=U,!h&&!i.isDefaultPrevented()&&(!I._default||I._default.apply(O.pop(),n)===!1)&&Di(o)&&v&&k(o[U])&&!N(o)&&(g=o[v],g&&(o[v]=null),l.event.triggered=U,i.isPropagationStopped()&&D.addEventListener(U,Is),o[U](),i.isPropagationStopped()&&D.removeEventListener(U,Is),l.event.triggered=void 0,g&&(o[v]=g)),i.result}},simulate:function(i,n,o){var h=l.extend(new l.Event,o,{type:i,isSimulated:!0});l.event.trigger(h,null,n)}}),l.fn.extend({trigger:function(i,n){return this.each(function(){l.event.trigger(i,n,this)})},triggerHandler:function(i,n){var o=this[0];if(o)return l.event.trigger(i,n,o,!0)}});var Qo=/\[\]$/,Ns=/\r?\n/g,Jo=/^(?:submit|button|image|reset|file)$/i,Zo=/^(?:input|select|textarea|keygen)/i;function pn(i,n,o,h){var u;if(Array.isArray(n))l.each(n,function(d,g){o||Qo.test(i)?h(i,g):pn(i+"["+(typeof g=="object"&&g!=null?d:"")+"]",g,o,h)});else if(!o&&q(n)==="object")for(u in n)pn(i+"["+u+"]",n[u],o,h);else h(i,n)}l.param=function(i,n){var o,h=[],u=function(d,g){var w=k(g)?g():g;h[h.length]=encodeURIComponent(d)+"="+encodeURIComponent(w??"")};if(i==null)return"";if(Array.isArray(i)||i.jquery&&!l.isPlainObject(i))l.each(i,function(){u(this.name,this.value)});else for(o in i)pn(o,i[o],n,u);return h.join("&")},l.fn.extend({serialize:function(){return l.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var i=l.prop(this,"elements");return i?l.makeArray(i):this}).filter(function(){var i=this.type;return this.name&&!l(this).is(":disabled")&&Zo.test(this.nodeName)&&!Jo.test(i)&&(this.checked||!Hi.test(i))}).map(function(i,n){var o=l(this).val();return o==null?null:Array.isArray(o)?l.map(o,function(h){return{name:n.name,value:h.replace(Ns,`\r
`)}}):{name:n.name,value:o.replace(Ns,`\r
`)}}).get()}});var tl=/%20/g,el=/#.*$/,il=/([?&])_=[^&]*/,rl=/^(.*?):[ \t]*([^\r\n]*)$/mg,nl=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,sl=/^(?:GET|HEAD)$/,al=/^\/\//,js={},gn={},Ds="*/".concat("*"),_n=M.createElement("a");_n.href=Vi.href;function Bs(i){return function(n,o){typeof n!="string"&&(o=n,n="*");var h,u=0,d=n.toLowerCase().match(jt)||[];if(k(o))for(;h=d[u++];)h[0]==="+"?(h=h.slice(1)||"*",(i[h]=i[h]||[]).unshift(o)):(i[h]=i[h]||[]).push(o)}}function qs(i,n,o,h){var u={},d=i===gn;function g(w){var v;return u[w]=!0,l.each(i[w]||[],function(C,I){var D=I(n,o,h);if(typeof D=="string"&&!d&&!u[D])return n.dataTypes.unshift(D),g(D),!1;if(d)return!(v=D)}),v}return g(n.dataTypes[0])||!u["*"]&&g("*")}function mn(i,n){var o,h,u=l.ajaxSettings.flatOptions||{};for(o in n)n[o]!==void 0&&((u[o]?i:h||(h={}))[o]=n[o]);return h&&l.extend(!0,i,h),i}function ol(i,n,o){for(var h,u,d,g,w=i.contents,v=i.dataTypes;v[0]==="*";)v.shift(),h===void 0&&(h=i.mimeType||n.getResponseHeader("Content-Type"));if(h){for(u in w)if(w[u]&&w[u].test(h)){v.unshift(u);break}}if(v[0]in o)d=v[0];else{for(u in o){if(!v[0]||i.converters[u+" "+v[0]]){d=u;break}g||(g=u)}d=d||g}if(d)return d!==v[0]&&v.unshift(d),o[d]}function ll(i,n,o,h){var u,d,g,w,v,C={},I=i.dataTypes.slice();if(I[1])for(g in i.converters)C[g.toLowerCase()]=i.converters[g];for(d=I.shift();d;)if(i.responseFields[d]&&(o[i.responseFields[d]]=n),!v&&h&&i.dataFilter&&(n=i.dataFilter(n,i.dataType)),v=d,d=I.shift(),d){if(d==="*")d=v;else if(v!=="*"&&v!==d){if(g=C[v+" "+d]||C["* "+d],!g){for(u in C)if(w=u.split(" "),w[1]===d&&(g=C[v+" "+w[0]]||C["* "+w[0]],g)){g===!0?g=C[u]:C[u]!==!0&&(d=w[0],I.unshift(w[1]));break}}if(g!==!0)if(g&&i.throws)n=g(n);else try{n=g(n)}catch(D){return{state:"parsererror",error:g?D:"No conversion from "+v+" to "+d}}}}return{state:"success",data:n}}l.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Vi.href,type:"GET",isLocal:nl.test(Vi.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ds,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":l.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(i,n){return n?mn(mn(i,l.ajaxSettings),n):mn(l.ajaxSettings,i)},ajaxPrefilter:Bs(js),ajaxTransport:Bs(gn),ajax:function(i,n){typeof i=="object"&&(n=i,i=void 0),n=n||{};var o,h,u,d,g,w,v,C,I,D,O=l.ajaxSetup({},n),U=O.context||O,ut=O.context&&(U.nodeType||U.jquery)?l(U):l.event,Et=l.Deferred(),bt=l.Callbacks("once memory"),re=O.statusCode||{},Zt={},Oe={},Pe="canceled",kt={readyState:0,getResponseHeader:function(Ct){var Ut;if(v){if(!d)for(d={};Ut=rl.exec(u);)d[Ut[1].toLowerCase()+" "]=(d[Ut[1].toLowerCase()+" "]||[]).concat(Ut[2]);Ut=d[Ct.toLowerCase()+" "]}return Ut==null?null:Ut.join(", ")},getAllResponseHeaders:function(){return v?u:null},setRequestHeader:function(Ct,Ut){return v==null&&(Ct=Oe[Ct.toLowerCase()]=Oe[Ct.toLowerCase()]||Ct,Zt[Ct]=Ut),this},overrideMimeType:function(Ct){return v==null&&(O.mimeType=Ct),this},statusCode:function(Ct){var Ut;if(Ct)if(v)kt.always(Ct[kt.status]);else for(Ut in Ct)re[Ut]=[re[Ut],Ct[Ut]];return this},abort:function(Ct){var Ut=Ct||Pe;return o&&o.abort(Ut),oi(0,Ut),this}};if(Et.promise(kt),O.url=((i||O.url||Vi.href)+"").replace(al,Vi.protocol+"//"),O.type=n.method||n.type||O.method||O.type,O.dataTypes=(O.dataType||"*").toLowerCase().match(jt)||[""],O.crossDomain==null){w=M.createElement("a");try{w.href=O.url,w.href=w.href,O.crossDomain=_n.protocol+"//"+_n.host!=w.protocol+"//"+w.host}catch{O.crossDomain=!0}}if(O.data&&O.processData&&typeof O.data!="string"&&(O.data=l.param(O.data,O.traditional)),qs(js,O,n,kt),v)return kt;C=l.event&&O.global,C&&l.active++===0&&l.event.trigger("ajaxStart"),O.type=O.type.toUpperCase(),O.hasContent=!sl.test(O.type),h=O.url.replace(el,""),O.hasContent?O.data&&O.processData&&(O.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(O.data=O.data.replace(tl,"+")):(D=O.url.slice(h.length),O.data&&(O.processData||typeof O.data=="string")&&(h+=(dn.test(h)?"&":"?")+O.data,delete O.data),O.cache===!1&&(h=h.replace(il,"$1"),D=(dn.test(h)?"&":"?")+"_="+Ps.guid+++D),O.url=h+D),O.ifModified&&(l.lastModified[h]&&kt.setRequestHeader("If-Modified-Since",l.lastModified[h]),l.etag[h]&&kt.setRequestHeader("If-None-Match",l.etag[h])),(O.data&&O.hasContent&&O.contentType!==!1||n.contentType)&&kt.setRequestHeader("Content-Type",O.contentType),kt.setRequestHeader("Accept",O.dataTypes[0]&&O.accepts[O.dataTypes[0]]?O.accepts[O.dataTypes[0]]+(O.dataTypes[0]!=="*"?", "+Ds+"; q=0.01":""):O.accepts["*"]);for(I in O.headers)kt.setRequestHeader(I,O.headers[I]);if(O.beforeSend&&(O.beforeSend.call(U,kt,O)===!1||v))return kt.abort();if(Pe="abort",bt.add(O.complete),kt.done(O.success),kt.fail(O.error),o=qs(gn,O,n,kt),!o)oi(-1,"No Transport");else{if(kt.readyState=1,C&&ut.trigger("ajaxSend",[kt,O]),v)return kt;O.async&&O.timeout>0&&(g=t.setTimeout(function(){kt.abort("timeout")},O.timeout));try{v=!1,o.send(Zt,oi)}catch(Ct){if(v)throw Ct;oi(-1,Ct)}}function oi(Ct,Ut,$i,bn){var Le,Xi,Ie,Ke,Qe,ve=Ut;v||(v=!0,g&&t.clearTimeout(g),o=void 0,u=bn||"",kt.readyState=Ct>0?4:0,Le=Ct>=200&&Ct<300||Ct===304,$i&&(Ke=ol(O,kt,$i)),!Le&&l.inArray("script",O.dataTypes)>-1&&l.inArray("json",O.dataTypes)<0&&(O.converters["text script"]=function(){}),Ke=ll(O,Ke,kt,Le),Le?(O.ifModified&&(Qe=kt.getResponseHeader("Last-Modified"),Qe&&(l.lastModified[h]=Qe),Qe=kt.getResponseHeader("etag"),Qe&&(l.etag[h]=Qe)),Ct===204||O.type==="HEAD"?ve="nocontent":Ct===304?ve="notmodified":(ve=Ke.state,Xi=Ke.data,Ie=Ke.error,Le=!Ie)):(Ie=ve,(Ct||!ve)&&(ve="error",Ct<0&&(Ct=0))),kt.status=Ct,kt.statusText=(Ut||ve)+"",Le?Et.resolveWith(U,[Xi,ve,kt]):Et.rejectWith(U,[kt,ve,Ie]),kt.statusCode(re),re=void 0,C&&ut.trigger(Le?"ajaxSuccess":"ajaxError",[kt,O,Le?Xi:Ie]),bt.fireWith(U,[kt,ve]),C&&(ut.trigger("ajaxComplete",[kt,O]),--l.active||l.event.trigger("ajaxStop")))}return kt},getJSON:function(i,n,o){return l.get(i,n,o,"json")},getScript:function(i,n){return l.get(i,void 0,n,"script")}}),l.each(["get","post"],function(i,n){l[n]=function(o,h,u,d){return k(h)&&(d=d||u,u=h,h=void 0),l.ajax(l.extend({url:o,type:n,dataType:d,data:h,success:u},l.isPlainObject(o)&&o))}}),l.ajaxPrefilter(function(i){var n;for(n in i.headers)n.toLowerCase()==="content-type"&&(i.contentType=i.headers[n]||"")}),l._evalUrl=function(i,n,o){return l.ajax({url:i,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(h){l.globalEval(h,n,o)}})},l.fn.extend({wrapAll:function(i){var n;return this[0]&&(k(i)&&(i=i.call(this[0])),n=l(i,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&n.insertBefore(this[0]),n.map(function(){for(var o=this;o.firstElementChild;)o=o.firstElementChild;return o}).append(this)),this},wrapInner:function(i){return k(i)?this.each(function(n){l(this).wrapInner(i.call(this,n))}):this.each(function(){var n=l(this),o=n.contents();o.length?o.wrapAll(i):n.append(i)})},wrap:function(i){var n=k(i);return this.each(function(o){l(this).wrapAll(n?i.call(this,o):i)})},unwrap:function(i){return this.parent(i).not("body").each(function(){l(this).replaceWith(this.childNodes)}),this}}),l.expr.pseudos.hidden=function(i){return!l.expr.pseudos.visible(i)},l.expr.pseudos.visible=function(i){return!!(i.offsetWidth||i.offsetHeight||i.getClientRects().length)},l.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var hl={0:200,1223:204},Wi=l.ajaxSettings.xhr();x.cors=!!Wi&&"withCredentials"in Wi,x.ajax=Wi=!!Wi,l.ajaxTransport(function(i){var n,o;if(x.cors||Wi&&!i.crossDomain)return{send:function(h,u){var d,g=i.xhr();if(g.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(d in i.xhrFields)g[d]=i.xhrFields[d];i.mimeType&&g.overrideMimeType&&g.overrideMimeType(i.mimeType),!i.crossDomain&&!h["X-Requested-With"]&&(h["X-Requested-With"]="XMLHttpRequest");for(d in h)g.setRequestHeader(d,h[d]);n=function(w){return function(){n&&(n=o=g.onload=g.onerror=g.onabort=g.ontimeout=g.onreadystatechange=null,w==="abort"?g.abort():w==="error"?typeof g.status!="number"?u(0,"error"):u(g.status,g.statusText):u(hl[g.status]||g.status,g.statusText,(g.responseType||"text")!=="text"||typeof g.responseText!="string"?{binary:g.response}:{text:g.responseText},g.getAllResponseHeaders()))}},g.onload=n(),o=g.onerror=g.ontimeout=n("error"),g.onabort!==void 0?g.onabort=o:g.onreadystatechange=function(){g.readyState===4&&t.setTimeout(function(){n&&o()})},n=n("abort");try{g.send(i.hasContent&&i.data||null)}catch(w){if(n)throw w}},abort:function(){n&&n()}}}),l.ajaxPrefilter(function(i){i.crossDomain&&(i.contents.script=!1)}),l.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(i){return l.globalEval(i),i}}}),l.ajaxPrefilter("script",function(i){i.cache===void 0&&(i.cache=!1),i.crossDomain&&(i.type="GET")}),l.ajaxTransport("script",function(i){if(i.crossDomain||i.scriptAttrs){var n,o;return{send:function(h,u){n=l("<script>").attr(i.scriptAttrs||{}).prop({charset:i.scriptCharset,src:i.url}).on("load error",o=function(d){n.remove(),o=null,d&&u(d.type==="error"?404:200,d.type)}),M.head.appendChild(n[0])},abort:function(){o&&o()}}}});var Hs=[],yn=/(=)\?(?=&|$)|\?\?/;l.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var i=Hs.pop()||l.expando+"_"+Ps.guid++;return this[i]=!0,i}}),l.ajaxPrefilter("json jsonp",function(i,n,o){var h,u,d,g=i.jsonp!==!1&&(yn.test(i.url)?"url":typeof i.data=="string"&&(i.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&yn.test(i.data)&&"data");if(g||i.dataTypes[0]==="jsonp")return h=i.jsonpCallback=k(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,g?i[g]=i[g].replace(yn,"$1"+h):i.jsonp!==!1&&(i.url+=(dn.test(i.url)?"&":"?")+i.jsonp+"="+h),i.converters["script json"]=function(){return d||l.error(h+" was not called"),d[0]},i.dataTypes[0]="json",u=t[h],t[h]=function(){d=arguments},o.always(function(){u===void 0?l(t).removeProp(h):t[h]=u,i[h]&&(i.jsonpCallback=n.jsonpCallback,Hs.push(h)),d&&k(u)&&u(d[0]),d=u=void 0}),"script"}),x.createHTMLDocument=function(){var i=M.implementation.createHTMLDocument("").body;return i.innerHTML="<form></form><form></form>",i.childNodes.length===2}(),l.parseHTML=function(i,n,o){if(typeof i!="string")return[];typeof n=="boolean"&&(o=n,n=!1);var h,u,d;return n||(x.createHTMLDocument?(n=M.implementation.createHTMLDocument(""),h=n.createElement("base"),h.href=M.location.href,n.head.appendChild(h)):n=M),u=K.exec(i),d=!o&&[],u?[n.createElement(u[1])]:(u=ms([i],n,d),d&&d.length&&l(d).remove(),l.merge([],u.childNodes))},l.fn.load=function(i,n,o){var h,u,d,g=this,w=i.indexOf(" ");return w>-1&&(h=si(i.slice(w)),i=i.slice(0,w)),k(n)?(o=n,n=void 0):n&&typeof n=="object"&&(u="POST"),g.length>0&&l.ajax({url:i,type:u||"GET",dataType:"html",data:n}).done(function(v){d=arguments,g.html(h?l("<div>").append(l.parseHTML(v)).find(h):v)}).always(o&&function(v,C){g.each(function(){o.apply(this,d||[v.responseText,C,v])})}),this},l.expr.pseudos.animated=function(i){return l.grep(l.timers,function(n){return i===n.elem}).length},l.offset={setOffset:function(i,n,o){var h,u,d,g,w,v,C,I=l.css(i,"position"),D=l(i),O={};I==="static"&&(i.style.position="relative"),w=D.offset(),d=l.css(i,"top"),v=l.css(i,"left"),C=(I==="absolute"||I==="fixed")&&(d+v).indexOf("auto")>-1,C?(h=D.position(),g=h.top,u=h.left):(g=parseFloat(d)||0,u=parseFloat(v)||0),k(n)&&(n=n.call(i,o,l.extend({},w))),n.top!=null&&(O.top=n.top-w.top+g),n.left!=null&&(O.left=n.left-w.left+u),"using"in n?n.using.call(i,O):D.css(O)}},l.fn.extend({offset:function(i){if(arguments.length)return i===void 0?this:this.each(function(u){l.offset.setOffset(this,i,u)});var n,o,h=this[0];if(!!h)return h.getClientRects().length?(n=h.getBoundingClientRect(),o=h.ownerDocument.defaultView,{top:n.top+o.pageYOffset,left:n.left+o.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var i,n,o,h=this[0],u={top:0,left:0};if(l.css(h,"position")==="fixed")n=h.getBoundingClientRect();else{for(n=this.offset(),o=h.ownerDocument,i=h.offsetParent||o.documentElement;i&&(i===o.body||i===o.documentElement)&&l.css(i,"position")==="static";)i=i.parentNode;i&&i!==h&&i.nodeType===1&&(u=l(i).offset(),u.top+=l.css(i,"borderTopWidth",!0),u.left+=l.css(i,"borderLeftWidth",!0))}return{top:n.top-u.top-l.css(h,"marginTop",!0),left:n.left-u.left-l.css(h,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var i=this.offsetParent;i&&l.css(i,"position")==="static";)i=i.offsetParent;return i||ni})}}),l.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(i,n){var o=n==="pageYOffset";l.fn[i]=function(h){return Ve(this,function(u,d,g){var w;if(N(u)?w=u:u.nodeType===9&&(w=u.defaultView),g===void 0)return w?w[n]:u[d];w?w.scrollTo(o?w.pageXOffset:g,o?g:w.pageYOffset):u[d]=g},i,h,arguments.length)}}),l.each(["top","left"],function(i,n){l.cssHooks[n]=ks(x.pixelPosition,function(o,h){if(h)return h=zi(o,n),on.test(h)?l(o).position()[n]+"px":h})}),l.each({Height:"height",Width:"width"},function(i,n){l.each({padding:"inner"+i,content:n,"":"outer"+i},function(o,h){l.fn[h]=function(u,d){var g=arguments.length&&(o||typeof u!="boolean"),w=o||(u===!0||d===!0?"margin":"border");return Ve(this,function(v,C,I){var D;return N(v)?h.indexOf("outer")===0?v["inner"+i]:v.document.documentElement["client"+i]:v.nodeType===9?(D=v.documentElement,Math.max(v.body["scroll"+i],D["scroll"+i],v.body["offset"+i],D["offset"+i],D["client"+i])):I===void 0?l.css(v,C,w):l.style(v,C,I,w)},n,g?u:void 0,g)}})}),l.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,n){l.fn[n]=function(o){return this.on(n,o)}}),l.fn.extend({bind:function(i,n,o){return this.on(i,null,n,o)},unbind:function(i,n){return this.off(i,null,n)},delegate:function(i,n,o,h){return this.on(n,i,o,h)},undelegate:function(i,n,o){return arguments.length===1?this.off(i,"**"):this.off(n,i||"**",o)},hover:function(i,n){return this.mouseenter(i).mouseleave(n||i)}}),l.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(i,n){l.fn[n]=function(o,h){return arguments.length>0?this.on(n,null,o,h):this.trigger(n)}});var fl=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;l.proxy=function(i,n){var o,h,u;if(typeof n=="string"&&(o=i[n],n=i,i=o),!!k(i))return h=a.call(arguments,2),u=function(){return i.apply(n||this,h.concat(a.call(arguments)))},u.guid=i.guid=i.guid||l.guid++,u},l.holdReady=function(i){i?l.readyWait++:l.ready(!0)},l.isArray=Array.isArray,l.parseJSON=JSON.parse,l.nodeName=G,l.isFunction=k,l.isWindow=N,l.camelCase=Fe,l.type=q,l.now=Date.now,l.isNumeric=function(i){var n=l.type(i);return(n==="number"||n==="string")&&!isNaN(i-parseFloat(i))},l.trim=function(i){return i==null?"":(i+"").replace(fl,"$1")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return l});var cl=t.jQuery,ul=t.$;return l.noConflict=function(i){return t.$===l&&(t.$=ul),i&&t.jQuery===l&&(t.jQuery=cl),l},typeof e>"u"&&(t.jQuery=t.$=l),l})});var ne=Ws(Cn());function Yi(t,e,r){return Math.min(Math.max(t,e),r)}function Ei(t){return[...Array(t).keys()]}function wr(t){if(arguments.length<2)return t;for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)typeof t[s]>"u"&&(t[s]=r[s])}return t}function Rn(t,e){var r;return function(){r&&clearTimeout(r);var s=this,a=arguments;r=setTimeout(function(){r=null,t.apply(s,a)},e)}}function Ys(t){let e=!1;return function(){e||(t.apply(this,arguments),e=!0)}}function Gs(t,e){let r=0;return function(){r++<=t-1&&e.apply(this,arguments)}}var Ce=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return this.None(t)},Out:function(t){return this.None(t)},InOut:function(t){return this.None(t)}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(t){var e=1.70158;return t===1?1:t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return t===0?0:--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In:function(t){return 1-Ce.Bounce.Out(1-t)},Out:function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375},InOut:function(t){return t<.5?Ce.Bounce.In(t*2)*.5:Ce.Bounce.Out(t*2-1)*.5+.5}}),generatePow:function(t){return t===void 0&&(t=4),t=t<Number.EPSILON?Number.EPSILON:t,t=t>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(e*2,t)/2:(1-Math.pow(2-e*2,t))/2+.5}}}}),Gi=function(){return performance.now()},Cl=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},t.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},t.prototype.update=function(e,r){e===void 0&&(e=Gi()),r===void 0&&(r=!1);var s=Object.keys(this._tweens);if(s.length===0)return!1;for(;s.length>0;){this._tweensAddedDuringUpdate={};for(var a=0;a<s.length;a++){var c=this._tweens[s[a]],f=!r;c&&c.update(e,f)===!1&&!r&&delete this._tweens[s[a]]}s=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),Ci={Linear:function(t,e){var r=t.length-1,s=r*e,a=Math.floor(s),c=Ci.Utils.Linear;return e<0?c(t[0],t[1],s):e>1?c(t[r],t[r-1],r-s):c(t[a],t[a+1>r?r:a+1],s-a)},Bezier:function(t,e){for(var r=0,s=t.length-1,a=Math.pow,c=Ci.Utils.Bernstein,f=0;f<=s;f++)r+=a(1-e,s-f)*a(e,f)*t[f]*c(s,f);return r},CatmullRom:function(t,e){var r=t.length-1,s=r*e,a=Math.floor(s),c=Ci.Utils.CatmullRom;return t[0]===t[r]?(e<0&&(a=Math.floor(s=r*(1+e))),c(t[(a-1+r)%r],t[a],t[(a+1)%r],t[(a+2)%r],s-a)):e<0?t[0]-(c(t[0],t[0],t[1],t[1],-s)-t[0]):e>1?t[r]-(c(t[r],t[r],t[r-1],t[r-1],s-r)-t[r]):c(t[a?a-1:0],t[a],t[r<a+1?r:a+1],t[r<a+2?r:a+2],s-a)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var r=Ci.Utils.Factorial;return r(t)/r(e)/r(t-e)},Factorial:function(){var t=[1];return function(e){var r=1;if(t[e])return t[e];for(var s=e;s>1;s--)r*=s;return t[e]=r,r}}(),CatmullRom:function(t,e,r,s,a){var c=(r-t)*.5,f=(s-e)*.5,p=a*a,y=a*p;return(2*e-2*r+c+f)*y+(-3*e+3*r-2*c-f)*p+c*a+e}}},Ks=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),Mn=new Cl,Ri=function(){function t(e,r){r===void 0&&(r=Mn),this._object=e,this._group=r,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Ce.Linear.None,this._interpolationFunction=Ci.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Ks.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(e,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=r,this},t.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e,this},t.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},t.prototype.start=function(e,r){if(e===void 0&&(e=Gi()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var s in this._valuesStartRepeat)this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var a={};for(var c in this._valuesEnd)a[c]=this._valuesEnd[c];this._valuesEnd=a}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},t.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},t.prototype._setupProperties=function(e,r,s,a,c){for(var f in s){var p=e[f],y=Array.isArray(p),_=y?"array":typeof p,T=!y&&Array.isArray(s[f]);if(!(_==="undefined"||_==="function")){if(T){var E=s[f];if(E.length===0)continue;for(var A=[p],x=0,k=E.length;x<k;x+=1){var N=this._handleRelativeValue(p,E[x]);if(isNaN(N)){T=!1,console.warn("Found invalid interpolation list. Skipping.");break}A.push(N)}T&&(s[f]=A)}if((_==="object"||y)&&p&&!T){r[f]=y?[]:{};var M=p;for(var R in M)r[f][R]=M[R];a[f]=y?[]:{};var E=s[f];if(!this._isDynamic){var L={};for(var R in E)L[R]=E[R];s[f]=E=L}this._setupProperties(M,r[f],E,a[f],c)}else(typeof r[f]>"u"||c)&&(r[f]=p),y||(r[f]*=1),T?a[f]=s[f].slice().reverse():a[f]=r[f]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(e){return e===void 0&&(e=Gi()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},t.prototype.resume=function(e){return e===void 0&&(e=Gi()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},t.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return e===void 0&&(e=Mn),this._group=e,this},t.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},t.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},t.prototype.easing=function(e){return e===void 0&&(e=Ce.Linear.None),this._easingFunction=e,this},t.prototype.interpolation=function(e){return e===void 0&&(e=Ci.Linear),this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,r){if(e===void 0&&(e=Gi()),r===void 0&&(r=!0),this._isPaused)return!0;var s,a,c=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>c)return!1;r&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),a=(e-this._startTime)/this._duration,a=this._duration===0||a>1?1:a;var f=this._easingFunction(a);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,f),this._onUpdateCallback&&this._onUpdateCallback(this._object,a),a===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(s in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[s]=="string"&&(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(this._valuesEnd[s])),this._yoyo&&this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var p=0,y=this._chainedTweens.length;p<y;p++)this._chainedTweens[p].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,r,s,a){for(var c in s)if(r[c]!==void 0){var f=r[c]||0,p=s[c],y=Array.isArray(e[c]),_=Array.isArray(p),T=!y&&_;T?e[c]=this._interpolationFunction(p,a):typeof p=="object"&&p?this._updateProperties(e[c],f,p,a):(p=this._handleRelativeValue(f,p),typeof p=="number"&&(e[c]=f+(p-f)*a))}},t.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},t.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],s=this._valuesEnd[e];typeof s=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(s):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},t}();var Gh=Ks.nextId,De=Mn,Kh=De.getAll.bind(De),Qh=De.removeAll.bind(De),Jh=De.add.bind(De),Zh=De.remove.bind(De),Qs=De.update.bind(De);var Oa=Object.defineProperty,Rl=(t,e,r)=>e in t?Oa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pa=(t,e)=>{for(var r in e)Oa(t,r,{get:e[r],enumerable:!0})},m=(t,e,r)=>(Rl(t,typeof e!="symbol"?e+"":e,r),r),V={move:"M",line:"L",curve:"C",arc:"A",close:"Z"},La={};Pa(La,{HALF_PI:()=>te,NumArray:()=>He,TWO_PI:()=>oe,decomposeMatrix:()=>Pi,getComputedMatrix:()=>ja,getPoT:()=>Da,lerp:()=>de,mod:()=>me,setMatrix:()=>Na,toFixed:()=>Vt});var zt;typeof window<"u"?zt=window:typeof global<"u"?zt=global:typeof self<"u"&&(zt=self);var Ia,oe=Math.PI*2,te=Math.PI*.5;function Pi(t,e,r,s,a,c){let f;return arguments.length<=1?(f=t.a,e=t.b,r=t.c,s=t.d,a=t.e,c=t.f):f=t,{translateX:a,translateY:c,scaleX:Math.sqrt(f*f+e*e),scaleY:Math.sqrt(r*r+s*s),rotation:180*Math.atan2(e,f)/Math.PI}}function Na(t){Ia=t}function ja(t,e){e=e&&e.identity()||new Ia;let r=t,s=[];for(;r&&r._matrix;)s.push(r._matrix),r=r.parent;s.reverse();for(let a=0;a<s.length;a++){let f=s[a].elements;e.multiply(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9])}return e}function de(t,e,r){return r*(e-t)+t}var On=[2,4,8,16,32,64,128,256,512,1024,2048,4096];function Da(t){let e=0;for(;On[e]&&On[e]<t;)e++;return On[e]}function me(t,e){for(;t<0;)t+=e;return t%e}var He=zt.Float32Array||Array,Ml=Math.floor;function Vt(t){return Ml(t*1e6)/1e6}var Ba={};Pa(Ba,{Curve:()=>Li,getAnchorsFromArcData:()=>Ol,getComponentOnCubicBezier:()=>Zi,getControlPoints:()=>Va,getCurveBoundingBox:()=>Ha,getCurveFromPoints:()=>Ua,getCurveLength:()=>qa,getReflection:()=>Bn,integrate:()=>za,subdivide:()=>Wn});var B=class{constructor(){m(this,"_events",{}),m(this,"_bound",!1)}addEventListener(t,e){return(this._events[t]||(this._events[t]=[])).push(e),this._bound=!0,this}on(){return this.addEventListener.apply(this,arguments)}bind(){return this.addEventListener.apply(this,arguments)}removeEventListener(t,e){if(!this._events)return this;if(!t&&!e)return this._events={},this._bound=!1,this;let r=t?[t]:Object.keys(this._events);for(let s=0,a=r.length;s<a;s++){t=r[s];let c=this._events[t];if(c){let f=[];if(e)for(let p=0,y=c.length;p<y;p++){let _=c[p];_=_.handler?_.handler:_,e!==_&&f.push(_)}this._events[t]=f}}return this}off(){return this.removeEventListener.apply(this,arguments)}unbind(){return this.removeEventListener.apply(this,arguments)}dispatchEvent(t){if(!this._events)return this;let e=Array.prototype.slice.call(arguments,1),r=this._events[t];if(r)for(let s=0;s<r.length;s++)r[s].call(this,...e);return this}trigger(){return this.dispatchEvent.apply(this,arguments)}listen(t,e,r){let s=this;t&&(a.obj=t,a.name=e,a.handler=r,t.on(e,a));function a(){r.apply(s,arguments)}return s}ignore(t,e,r){return t.off(e,r),this}};m(B,"Types",{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"});m(B,"Methods",["addEventListener","on","removeEventListener","off","unbind","dispatchEvent","trigger","listen","ignore"]);var Js={x:{enumerable:!0,get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this._bound&&this.dispatchEvent(B.Types.change))}},y:{enumerable:!0,get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this._bound&&this.dispatchEvent(B.Types.change))}}},Me=class extends B{constructor(t=0,e=0){super(),m(this,"_x",0),m(this,"_y",0);for(let r in Js)Object.defineProperty(this,r,Js[r]);this.x=t,this.y=e}static add(t,e){return new Me(t.x+e.x,t.y+e.y)}static sub(t,e){return new Me(t.x-e.x,t.y-e.y)}static subtract(t,e){return Me.sub(t,e)}static ratioBetween(t,e){return(t.x*e.x+t.y*e.y)/(t.length()*e.length())}static angleBetween(t,e){if(arguments.length>=4){let a=arguments[0]-arguments[2],c=arguments[1]-arguments[3];return Math.atan2(c,a)}let r=t.x-e.x,s=t.y-e.y;return Math.atan2(s,r)}static distanceBetween(t,e){return Math.sqrt(Me.distanceBetweenSquared(t,e))}static distanceBetweenSquared(t,e){let r=t.x-e.x,s=t.y-e.y;return r*r+s*s}set(t,e){return this.x=t,this.y=e,this}copy(t){return this.x=t.x,this.y=t.y,this}clear(){return this.x=0,this.y=0,this}clone(){return new Me(this.x,this.y)}add(t,e){return arguments.length<=0?this:(arguments.length<=1?typeof t=="number"?(this.x+=t,this.y+=t):t&&typeof t.x=="number"&&typeof t.y=="number"&&(this.x+=t.x,this.y+=t.y):(this.x+=t,this.y+=e),this)}addSelf(t){return this.add.apply(this,arguments)}sub(t,e){return arguments.length<=0?this:(arguments.length<=1?typeof t=="number"?(this.x-=t,this.y-=t):t&&typeof t.x=="number"&&typeof t.y=="number"&&(this.x-=t.x,this.y-=t.y):(this.x-=t,this.y-=e),this)}subtract(){return this.sub.apply(this,arguments)}subSelf(t){return this.sub.apply(this,arguments)}subtractSelf(t){return this.sub.apply(this,arguments)}multiply(t,e){return arguments.length<=0?this:(arguments.length<=1?typeof t=="number"?(this.x*=t,this.y*=t):t&&typeof t.x=="number"&&typeof t.y=="number"&&(this.x*=t.x,this.y*=t.y):(this.x*=t,this.y*=e),this)}multiplySelf(t){return this.multiply.apply(this,arguments)}multiplyScalar(t){return this.multiply(t)}divide(t,e){return arguments.length<=0?this:(arguments.length<=1?typeof t=="number"?(this.x/=t,this.y/=t):t&&typeof t.x=="number"&&typeof t.y=="number"&&(this.x/=t.x,this.y/=t.y):(this.x/=t,this.y/=e),isNaN(this.x)&&(this.x=0),isNaN(this.y)&&(this.y=0),this)}divideSelf(t){return this.divide.apply(this,arguments)}divideScalar(t){return this.divide(t)}negate(){return this.multiply(-1)}dot(t){return this.x*t.x+this.y*t.y}length(){return Math.sqrt(this.lengthSquared())}lengthSquared(){return this.x*this.x+this.y*this.y}normalize(){return this.divideScalar(this.length())}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let e=this.x-t.x,r=this.y-t.y;return e*e+r*r}setLength(t){return this.normalize().multiplyScalar(t)}equals(t,e){return e=typeof e>"u"?1e-4:e,this.distanceTo(t)<e}lerp(t,e){let r=(t.x-this.x)*e+this.x,s=(t.y-this.y)*e+this.y;return this.set(r,s)}isZero(t){return t=typeof t>"u"?1e-4:t,this.length()<t}toString(){return this.x+", "+this.y}toObject(){return{x:this.x,y:this.y}}rotate(t){let e=this.x,r=this.y,s=Math.cos(t),a=Math.sin(t);return this.x=e*s-r*a,this.y=e*a+r*s,this}},$=Me;m($,"zero",new Me);m($,"left",new Me(-1,0));m($,"right",new Me(1,0));m($,"up",new Me(0,-1));m($,"down",new Me(0,1));var vt=class extends ${constructor(t=0,e=0,r=0,s=0,a=0,c=0,f=V.move){super(t,e),m(this,"controls",{left:new $,right:new $}),m(this,"_command",V.move),m(this,"_relative",!0),m(this,"_rx",0),m(this,"_ry",0),m(this,"_xAxisRotation",0),m(this,"_largeArcFlag",0),m(this,"_sweepFlag",1);for(let y in Zs)Object.defineProperty(this,y,Zs[y]);this.command=f,this.relative=!0;let p=vt.makeBroadcast(this);this.controls.left.set(r,s).addEventListener(B.Types.change,p),this.controls.right.set(a,c).addEventListener(B.Types.change,p)}static makeBroadcast(t){return e;function e(){t._bound&&t.dispatchEvent(B.Types.change)}}copy(t){return this.x=t.x,this.y=t.y,typeof t.command=="string"&&(this.command=t.command),t.controls&&(t.controls.left&&this.controls.left.copy(t.controls.left),t.controls.right&&this.controls.right.copy(t.controls.right)),typeof t.relative=="boolean"&&(this.relative=t.relative),typeof t.rx=="number"&&(this.rx=t.rx),typeof t.ry=="number"&&(this.ry=t.ry),typeof t.xAxisRotation=="number"&&(this.xAxisRotation=t.xAxisRotation),typeof t.largeArcFlag=="number"&&(this.largeArcFlag=t.largeArcFlag),typeof t.sweepFlag=="number"&&(this.sweepFlag=t.sweepFlag),this}clone(){return new vt().copy(this)}toObject(){return{x:this.x,y:this.y,command:this.command,relative:this.relative,controls:{left:this.controls.left.toObject(),right:this.controls.right.toObject()},rx:this.rx,ry:this.ry,xAxisRotation:this.xAxisRotation,largeArcFlag:this.largeArcFlag,sweepFlag:this.sweepFlag}}toString(){return JSON.stringify(this.toObject())}},Zs={command:{enumerable:!0,get:function(){return this._command},set:function(t){this._command!==t&&(this._command=t,this._bound&&this.dispatchEvent(B.Types.change))}},relative:{enumerable:!0,get:function(){return this._relative},set:function(t){this._relative!==!!t&&(this._relative=!!t,this._bound&&this.dispatchEvent(B.Types.change))}},rx:{enumerable:!0,get:function(){return this._rx},set:function(t){this._rx!==t&&(this._rx=t,this._bound&&this.dispatchEvent(B.Types.change))}},ry:{enumerable:!0,get:function(){return this._ry},set:function(t){this._ry!==t&&(this._ry=t,this._bound&&this.dispatchEvent(B.Types.change))}},xAxisRotation:{enumerable:!0,get:function(){return this._xAxisRotation},set:function(t){this._xAxisRotation!==t&&(this._xAxisRotation=t,this._bound&&this.dispatchEvent(B.Types.change))}},largeArcFlag:{enumerable:!0,get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag!==t&&(this._largeArcFlag=t,this._bound&&this.dispatchEvent(B.Types.change))}},sweepFlag:{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag!==t&&(this._sweepFlag=t,this._bound&&this.dispatchEvent(B.Types.change))}}},Fl=0,Qt={nextFrameID:null,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.8.11",PublishDate:"2023-08-07T18:08:18.689Z",Identifier:"two-",Resolution:12,AutoCalculateImportedMatrices:!0,Instances:[],uniqueId:function(){return Fl++}},Li={CollinearityEpsilon:Math.pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]};function Zi(t,e,r,s,a){let c=1-t;return c*c*c*e+3*c*c*t*r+3*c*t*t*s+t*t*t*a}function Wn(t,e,r,s,a,c,f,p,y){y=y||Li.RecursionLimit;let _=y+1;if(Math.abs(t-f)<.001&&Math.abs(e-p)<.001)return[new vt(f,p)];let T=[];for(let E=0;E<_;E++){let A=E/_,x=Zi(A,t,r,a,f),k=Zi(A,e,s,c,p);T.push(new vt(x,k))}return T}function qa(t,e,r,s,a,c,f,p,y){if(t===r&&e===s&&a===f&&c===p){let M=f-t,R=p-e;return Math.sqrt(M*M+R*R)}let _=9*(r-a)+3*(f-t),T=6*(t+a)-12*r,E=3*(r-t),A=9*(s-c)+3*(p-e),x=6*(e+c)-12*s,k=3*(s-e);function N(M){let R=(_*M+T)*M+E,L=(A*M+x)*M+k;return Math.sqrt(R*R+L*L)}return za(N,0,1,y||Li.RecursionLimit)}function Ha(t,e,r,s,a,c,f,p){let y=[],_=[[],[]],T,E,A,x,k,N,M,R;for(let H=0;H<2;++H){if(H==0?(E=6*t-12*r+6*a,T=-3*t+9*r-9*a+3*f,A=3*r-3*t):(E=6*e-12*s+6*c,T=-3*e+9*s-9*c+3*p,A=3*s-3*e),Math.abs(T)<1e-12){if(Math.abs(E)<1e-12)continue;x=-A/E,0<x&&x<1&&y.push(x);continue}M=E*E-4*A*T,R=Math.sqrt(M),!(M<0)&&(k=(-E+R)/(2*T),0<k&&k<1&&y.push(k),N=(-E-R)/(2*T),0<N&&N<1&&y.push(N))}let L=y.length,q=L,z;for(;L--;)x=y[L],z=1-x,_[0][L]=z*z*z*t+3*z*z*x*r+3*z*x*x*a+x*x*x*f,_[1][L]=z*z*z*e+3*z*z*x*s+3*z*x*x*c+x*x*x*p;return _[0][q]=t,_[1][q]=e,_[0][q+1]=f,_[1][q+1]=p,_[0].length=_[1].length=q+2,{min:{x:Math.min.apply(0,_[0]),y:Math.min.apply(0,_[1])},max:{x:Math.max.apply(0,_[0]),y:Math.max.apply(0,_[1])}}}function za(t,e,r,s){let a=Li.abscissas[s-2],c=Li.weights[s-2],f=.5*(r-e),p=f+e,y=0,_=s+1>>1,T=s&1?c[y++]*t(p):0;for(;y<_;){let E=f*a[y];T+=c[y++]*(t(p+E)+t(p-E))}return f*T}function Ua(t,e){let r=t.length,s=r-1;for(let a=0;a<r;a++){let c=t[a],f=e?me(a-1,r):Math.max(a-1,0),p=e?me(a+1,r):Math.min(a+1,s),y=t[f],_=c,T=t[p];Va(y,_,T),_.command=a===0?V.move:V.curve}}function Va(t,e,r){let s=$.angleBetween(t,e),a=$.angleBetween(r,e),c=$.distanceBetween(t,e),f=$.distanceBetween(r,e),p=(s+a)/2;return c<1e-4||f<1e-4?(typeof e.relative=="boolean"&&!e.relative&&(e.controls.left.copy(e),e.controls.right.copy(e)),e):(c*=.33,f*=.33,a<s?p+=te:p-=te,e.controls.left.x=Math.cos(p)*c,e.controls.left.y=Math.sin(p)*c,p-=Math.PI,e.controls.right.x=Math.cos(p)*f,e.controls.right.y=Math.sin(p)*f,typeof e.relative=="boolean"&&!e.relative&&(e.controls.left.x+=e.x,e.controls.left.y+=e.y,e.controls.right.x+=e.x,e.controls.right.y+=e.y),e)}function Bn(t,e,r){return new $(2*t.x-(e.x+t.x)-(r?t.x:0),2*t.y-(e.y+t.y)-(r?t.y:0))}function Ol(t,e,r,s,a,c,f){let p=Qt.Resolution,y=[];for(let _=0;_<p;_++){let T=(_+1)/p;f&&(T=1-T);let E=T*c+a,A=r*Math.cos(E),x=s*Math.sin(E),k=new vt(A,x);k.command=V.line,y.push(k)}}var Pl=zt.devicePixelRatio||1;function Ll(t){return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1}function $n(t){return Pl/Ll(t)}var ta=Array.prototype.slice;function Il(t){if(t==null)return!1;let e=t.length;return typeof e=="number"&&e>=0&&e<4294967296}var Z={isNaN:function(t){return typeof t=="number"&&t!==+t},isElement:function(t){return!!(t&&t.nodeType===1)},isObject:function(t){let e=typeof t;return e==="function"||e==="object"&&!!t},extend:function(t){let e=ta.call(arguments,1);for(let r=0;r<e.length;r++){let s=e[r];for(let a in s)t[a]=s[a]}return t},defaults:function(t){let e=ta.call(arguments,1);for(let r=0;r<e.length;r++){let s=e[r];for(let a in s)t[a]===void 0&&(t[a]=s[a])}return t},each:function(t,e,r){let s=r||this,a=!Il(t)&&Object.keys(t),c=(a||t).length;for(let f=0;f<c;f++){let p=a?a[f]:f;e.call(s,t[p],p,t)}return t},performance:zt.performance&&zt.performance.now?zt.performance:Date},Hr=class extends B{constructor(){super(),m(this,"_flagId",!1),m(this,"_flagClassName",!1),m(this,"_renderer",{}),m(this,"_id",""),m(this,"_className",""),m(this,"classList",[]);for(let t in ea)Object.defineProperty(this,t,ea[t])}flagReset(){this._flagId=this._flagClassName=!1}},ea={renderer:{enumerable:!1,get:function(){return this._renderer}},id:{enumerable:!0,get:function(){return this._id},set:function(t){let e=this._id;t!==this._id&&(this._id=t,this._flagId=!0,this.parent&&(delete this.parent.children.ids[e],this.parent.children.ids[this._id]=this))}},className:{enumerable:!0,get:function(){return this._className},set:function(t){this._className!==t&&(this._flagClassName=!0,this.classList=t.split(/\s+?/),this._className=t)}}},Nl=Math.cos,jl=Math.sin,ia=Math.tan,Pn=[],Te=class extends B{constructor(t,e,r,s,a,c){super(),m(this,"elements",new He(9)),m(this,"manual",!1);let f=t;Array.isArray(f)||(f=Array.prototype.slice.call(arguments)),this.identity(),f.length>0&&this.set(f)}static Multiply(t,e,r){if(e.length<=3){let H=t,l,tt,G,st=e[0]||0,J=e[1]||0,mt=e[2]||0;return l=H[0]*st+H[1]*J+H[2]*mt,tt=H[3]*st+H[4]*J+H[5]*mt,G=H[6]*st+H[7]*J+H[8]*mt,[l,tt,G]}let s=t[0],a=t[1],c=t[2],f=t[3],p=t[4],y=t[5],_=t[6],T=t[7],E=t[8],A=e[0],x=e[1],k=e[2],N=e[3],M=e[4],R=e[5],L=e[6],q=e[7],z=e[8];return r=r||new He(9),r[0]=s*A+a*N+c*L,r[1]=s*x+a*M+c*q,r[2]=s*k+a*R+c*z,r[3]=f*A+p*N+y*L,r[4]=f*x+p*M+y*q,r[5]=f*k+p*R+y*z,r[6]=_*A+T*N+E*L,r[7]=_*x+T*M+E*q,r[8]=_*k+T*R+E*z,r}set(t,e,r,s,a,c,f,p,y){if(typeof e>"u"){let _=t;t=_[0],e=_[1],r=_[2],s=_[3],a=_[4],c=_[5],f=_[6],p=_[7],y=_[8]}return this.elements[0]=t,this.elements[1]=e,this.elements[2]=r,this.elements[3]=s,this.elements[4]=a,this.elements[5]=c,this.elements[6]=f,this.elements[7]=p,this.elements[8]=y,this.trigger(B.Types.change)}copy(t){return this.elements[0]=t.elements[0],this.elements[1]=t.elements[1],this.elements[2]=t.elements[2],this.elements[3]=t.elements[3],this.elements[4]=t.elements[4],this.elements[5]=t.elements[5],this.elements[6]=t.elements[6],this.elements[7]=t.elements[7],this.elements[8]=t.elements[8],this.manual=t.manual,this.trigger(B.Types.change)}identity(){return this.elements[0]=Te.Identity[0],this.elements[1]=Te.Identity[1],this.elements[2]=Te.Identity[2],this.elements[3]=Te.Identity[3],this.elements[4]=Te.Identity[4],this.elements[5]=Te.Identity[5],this.elements[6]=Te.Identity[6],this.elements[7]=Te.Identity[7],this.elements[8]=Te.Identity[8],this.trigger(B.Types.change)}multiply(t,e,r,s,a,c,f,p,y){if(typeof e>"u")return this.elements[0]*=t,this.elements[1]*=t,this.elements[2]*=t,this.elements[3]*=t,this.elements[4]*=t,this.elements[5]*=t,this.elements[6]*=t,this.elements[7]*=t,this.elements[8]*=t,this.trigger(B.Types.change);if(typeof r>"u"&&(r=1),typeof s>"u"){t=t||0,e=e||0,r=r||0,a=this.elements;let St=a[0]*t+a[1]*e+a[2]*r,gt=a[3]*t+a[4]*e+a[5]*r,Wt=a[6]*t+a[7]*e+a[8]*r;return[St,gt,Wt]}let _=this.elements,T=[t,e,r,s,a,c,f,p,y],E=_[0],A=_[1],x=_[2],k=_[3],N=_[4],M=_[5],R=_[6],L=_[7],q=_[8],z=T[0],H=T[1],l=T[2],tt=T[3],G=T[4],st=T[5],J=T[6],mt=T[7],Q=T[8];return this.elements[0]=E*z+A*tt+x*J,this.elements[1]=E*H+A*G+x*mt,this.elements[2]=E*l+A*st+x*Q,this.elements[3]=k*z+N*tt+M*J,this.elements[4]=k*H+N*G+M*mt,this.elements[5]=k*l+N*st+M*Q,this.elements[6]=R*z+L*tt+q*J,this.elements[7]=R*H+L*G+q*mt,this.elements[8]=R*l+L*st+q*Q,this.trigger(B.Types.change)}inverse(t){let e=this.elements;t=t||new Te;let r=e[0],s=e[1],a=e[2],c=e[3],f=e[4],p=e[5],y=e[6],_=e[7],T=e[8],E=T*f-p*_,A=-T*c+p*y,x=_*c-f*y,k=r*E+s*A+a*x;return k?(k=1/k,t.elements[0]=E*k,t.elements[1]=(-T*s+a*_)*k,t.elements[2]=(p*s-a*f)*k,t.elements[3]=A*k,t.elements[4]=(T*r-a*y)*k,t.elements[5]=(-p*r+a*c)*k,t.elements[6]=x*k,t.elements[7]=(-_*r+s*y)*k,t.elements[8]=(f*r-s*c)*k,t):null}scale(t,e){return arguments.length<=1&&(e=t),this.multiply(t,0,0,0,e,0,0,0,1)}rotate(t){let e=Nl(t),r=jl(t);return this.multiply(e,-r,0,r,e,0,0,0,1)}translate(t,e){return this.multiply(1,0,t,0,1,e,0,0,1)}skewX(t){let e=ia(t);return this.multiply(1,e,0,0,1,0,0,0,1)}skewY(t){let e=ia(t);return this.multiply(1,0,0,e,1,0,0,0,1)}toString(t){return Pn.length=0,this.toTransformArray(t,Pn),Pn.map(Vt).join(" ")}toTransformArray(t,e){let r=this.elements,s=!!e,a=r[0],c=r[1],f=r[2],p=r[3],y=r[4],_=r[5];if(t){let T=r[6],E=r[7],A=r[8];if(s){e[0]=a,e[1]=p,e[2]=T,e[3]=c,e[4]=y,e[5]=E,e[6]=f,e[7]=_,e[8]=A;return}return[a,p,T,c,y,E,f,_,A]}if(s){e[0]=a,e[1]=p,e[2]=c,e[3]=y,e[4]=f,e[5]=_;return}return[a,p,c,y,f,_]}toArray(t,e){let r=this.elements,s=!!e,a=r[0],c=r[1],f=r[2],p=r[3],y=r[4],_=r[5];if(t){let T=r[6],E=r[7],A=r[8];if(s){e[0]=a,e[1]=c,e[2]=f,e[3]=p,e[4]=y,e[5]=_,e[6]=T,e[7]=E,e[8]=A;return}return[a,c,f,p,y,_,T,E,A]}if(s){e[0]=a,e[1]=c,e[2]=f,e[3]=p,e[4]=y,e[5]=_;return}return[a,c,f,p,y,_]}toObject(){return{elements:this.toArray(!0),manual:!!this.manual}}clone(){return new Te().copy(this)}},fi=Te;m(fi,"Identity",[1,0,0,0,1,0,0,0,1]);Na(fi);var ei=class extends Hr{constructor(){super(),m(this,"_flagMatrix",!0),m(this,"_flagScale",!1),m(this,"_matrix",null),m(this,"_worldMatrix",null),m(this,"_position",null),m(this,"_rotation",0),m(this,"_scale",1),m(this,"_skewX",0),m(this,"_skewY",0);for(let t in kr)Object.defineProperty(this,t,kr[t]);this._renderer.flagMatrix=Wa.bind(this),this.isShape=!0,this.id=Qt.Identifier+Qt.uniqueId(),this.matrix=new fi,this.worldMatrix=new fi,this.position=new $,this.rotation=0,this.scale=1,this.skewX=0,this.skewY=0}get renderer(){return this._renderer}set renderer(t){this._renderer=t}get translation(){return kr.position.get.apply(this,arguments)}set translation(t){kr.position.set.apply(this,arguments)}addTo(t){return t.add(this),this}remove(){return this.parent?(this.parent.remove(this),this):this}clone(t){let e=new ei;return e.position.copy(this.position),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}_update(t){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.position.x,this.position.y),this._scale instanceof $?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation),this._matrix.skewX(this.skewX),this._matrix.skewY(this.skewY)),t&&this.parent&&this.parent._update&&this.parent._update(),this}flagReset(){return this._flagMatrix=this._flagScale=!1,super.flagReset.call(this),this}},kr={position:{enumerable:!0,get:function(){return this._position},set:function(t){this._position&&this._position.unbind(B.Types.change,this._renderer.flagMatrix),this._position=t,this._position.bind(B.Types.change,this._renderer.flagMatrix),Wa.call(this)}},rotation:{enumerable:!0,get:function(){return this._rotation},set:function(t){this._rotation=t,this._flagMatrix=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(t){this._scale instanceof $&&this._scale.unbind(B.Types.change,this._renderer.flagMatrix),this._scale=t,this._scale instanceof $&&this._scale.bind(B.Types.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}},skewX:{enumerable:!0,get:function(){return this._skewX},set:function(t){this._skewX=t,this._flagMatrix=!0}},skewY:{enumerable:!0,get:function(){return this._skewY},set:function(t){this._skewY=t,this._flagMatrix=!0}},matrix:{enumerable:!0,get:function(){return this._matrix},set:function(t){this._matrix=t,this._flagMatrix=!0}},worldMatrix:{enumerable:!0,get:function(){return ja(this,this._worldMatrix),this._worldMatrix},set:function(t){this._worldMatrix=t}}};function Wa(){this._flagMatrix=!0}var ii=class extends Array{constructor(){super(),m(this,"_events",new B),arguments[0]&&Array.isArray(arguments[0])?arguments[0].length>0&&this.push.apply(this,arguments[0]):arguments.length>0&&this.push.apply(this,arguments)}get _bound(){return this._events._bound}set _bound(t){this._events._bound=t}addEventListener(){return this._events.addEventListener.apply(this,arguments)}on(){return this._events.on.apply(this,arguments)}bind(){return this._events.bind.apply(this,arguments)}removeEventListener(){return this._events.removeEventListener.apply(this,arguments)}off(){return this._events.off.apply(this,arguments)}unbind(){return this._events.unbind.apply(this,arguments)}dispatchEvent(){return this._events.dispatchEvent.apply(this,arguments)}trigger(){return this._events.trigger.apply(this,arguments)}listen(){return this._events.listen.apply(this,arguments)}ignore(){return this._events.ignore.apply(this,arguments)}pop(){let t=super.pop.apply(this,arguments);return this.trigger(B.Types.remove,[t]),t}shift(){let t=super.shift.apply(this,arguments);return this.trigger(B.Types.remove,[t]),t}push(){let t=super.push.apply(this,arguments);return this.trigger(B.Types.insert,arguments),t}unshift(){let t=super.unshift.apply(this,arguments);return this.trigger(B.Types.insert,arguments),t}splice(){let t=super.splice.apply(this,arguments);if(this.trigger(B.Types.remove,t),arguments.length>2){let e=this.slice(arguments[0],arguments[0]+arguments.length-2);this.trigger(B.Types.insert,e),this.trigger(B.Types.order)}return t}sort(){return super.sort.apply(this,arguments),this.trigger(B.Types.order),this}reverse(){return super.reverse.apply(this,arguments),this.trigger(B.Types.order),this}indexOf(){return super.indexOf.apply(this,arguments)}map(t,e){let r=[];for(let s=0;s<this.length;s++){let a=this[s],c;e?c=t.call(e,a,s):c=t(a,s),r.push(c)}return r}},$a=class extends ii{constructor(t){t=Array.isArray(t)?t:Array.prototype.slice.call(arguments),super(t),m(this,"ids",{}),this.attach(t),this.on(B.Types.insert,this.attach),this.on(B.Types.remove,this.detach)}attach(t){for(let e=0;e<t.length;e++){let r=t[e];r&&r.id&&(this.ids[r.id]=r)}return this}detach(t){for(let e=0;e<t.length;e++)delete this.ids[t[e].id];return this}},Tr=Math.min,Sr=Math.max,Xa=class extends ei{constructor(t){super(),m(this,"_flagAdditions",!1),m(this,"_flagSubtractions",!1),m(this,"_flagOrder",!1),m(this,"_flagOpacity",!0),m(this,"_flagBeginning",!1),m(this,"_flagEnding",!1),m(this,"_flagLength",!1),m(this,"_flagMask",!1),m(this,"_fill","#fff"),m(this,"_stroke","#000"),m(this,"_linewidth",1),m(this,"_opacity",1),m(this,"_visible",!0),m(this,"_cap","round"),m(this,"_join","round"),m(this,"_miter",4),m(this,"_closed",!0),m(this,"_curved",!1),m(this,"_automatic",!0),m(this,"_beginning",0),m(this,"_ending",1),m(this,"_length",0),m(this,"_mask",null);for(let e in ra)Object.defineProperty(this,e,ra[e]);this._renderer.type="group",this.additions=[],this.subtractions=[],this.children=Array.isArray(t)?t:Array.prototype.slice.call(arguments)}static InsertChildren(t){for(let e=0;e<t.length;e++)na.call(this,t[e],this)}static RemoveChildren(t){for(let e=0;e<t.length;e++)na.call(this,t[e])}static OrderChildren(t){this._flagOrder=!0}clone(t){let e=new Xa,r=this.children.map(function(s){return s.clone()});return e.add(r),e.opacity=this.opacity,this.mask&&(e.mask=this.mask),e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.className=this.className,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}toObject(){let t={children:[],translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale instanceof $?this.scale.toObject():this.scale,opacity:this.opacity,className:this.className,mask:this.mask?this.mask.toObject():null};return this.matrix.manual&&(t.matrix=this.matrix.toObject()),Z.each(this.children,function(e,r){t.children[r]=e.toObject()},this),t}corner(){let t=this.getBoundingClientRect(!0);for(let e=0;e<this.children.length;e++){let r=this.children[e];r.translation.x-=t.left,r.translation.y-=t.top}return this.mask&&(this.mask.translation.x-=t.left,this.mask.translation.y-=t.top),this}center(){let t=this.getBoundingClientRect(!0),e=t.left+t.width/2-this.translation.x,r=t.top+t.height/2-this.translation.y;for(let s=0;s<this.children.length;s++){let a=this.children[s];a.isShape&&(a.translation.x-=e,a.translation.y-=r)}return this.mask&&(this.mask.translation.x-=e,this.mask.translation.y-=r),this}getById(t){let e=null;function r(s){if(s.id===t)return s;if(s.children){for(let a=0;a<s.children.length;a++)if(e=r(s.children[a]),e)return e}return null}return r(this)}getByClassName(t){let e=[];function r(s){if(Array.prototype.indexOf.call(s.classList,t)>=0&&e.push(s),s.children)for(let a=0;a<s.children.length;a++){let c=s.children[a];r(c)}return e}return r(this)}getByType(t){let e=[];function r(s){if(s instanceof t&&e.push(s),s.children)for(let a=0;a<s.children.length;a++){let c=s.children[a];r(c)}return e}return r(this)}add(t){t instanceof Array?t=t.slice():t=Array.prototype.slice.call(arguments);for(let e=0;e<t.length;e++){let r=t[e];if(!(r&&r.id))continue;let s=Array.prototype.indexOf.call(this.children,r);s>=0&&this.children.splice(s,1),this.children.push(r)}return this}remove(t){let e=arguments.length,r=this.parent;if(e<=0&&r)return r.remove(this),this;t instanceof Array?t=t.slice():t=Array.prototype.slice.call(arguments);for(let s=0;s<t.length;s++){let a=t[s];if(!a||!this.children.ids[a.id])continue;let c=this.children.indexOf(a);c>=0&&this.children.splice(c,1)}return this}getBoundingClientRect(t){let e,r,s,a,c,f;this._update(!0);let p=1/0,y=-1/0,_=1/0,T=-1/0,E=/texture|gradient/i;r=t?this.matrix:this.worldMatrix;for(let A=0;A<this.children.length;A++){let x=this.children[A];if(!(!x.visible||E.test(x._renderer.type))&&(e=x.getBoundingClientRect(t),s=typeof e.top!="number"||Z.isNaN(e.top)||!isFinite(e.top),a=typeof e.left!="number"||Z.isNaN(e.left)||!isFinite(e.left),c=typeof e.right!="number"||Z.isNaN(e.right)||!isFinite(e.right),f=typeof e.bottom!="number"||Z.isNaN(e.bottom)||!isFinite(e.bottom),!(s||a||c||f)))if(t){let[k,N]=r.multiply(e.left,e.top),[M,R]=r.multiply(e.right,e.top),[L,q]=r.multiply(e.left,e.bottom),[z,H]=r.multiply(e.right,e.bottom);_=Tr(N,R,q,H),p=Tr(k,M,L,z),y=Sr(k,M,L,z),T=Sr(N,R,q,H)}else _=Tr(e.top,_),p=Tr(e.left,p),y=Sr(e.right,y),T=Sr(e.bottom,T)}return{top:_,left:p,right:y,bottom:T,width:y-p,height:T-_}}noFill(){return this.children.forEach(function(t){t.noFill()}),this}noStroke(){return this.children.forEach(function(t){t.noStroke()}),this}subdivide(){let t=arguments;return this.children.forEach(function(e){e.subdivide.apply(e,t)}),this}_update(){let t,e,r;if(this._flagBeginning||this._flagEnding){let s=Math.min(this._beginning,this._ending),a=Math.max(this._beginning,this._ending),c=this.length,f=0,p=s*c,y=a*c;for(t=0;t<this.children.length;t++)r=this.children[t],e=r.length,p>f+e?(r.beginning=1,r.ending=1):y<f?(r.beginning=0,r.ending=0):p>f&&p<f+e?(r.beginning=(p-f)/e,r.ending=1):y>f&&y<f+e?(r.beginning=0,r.ending=(y-f)/e):(r.beginning=0,r.ending=1),f+=e}return super._update.apply(this,arguments)}flagReset(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=this._flagBeginning=this._flagEnding=!1,super.flagReset.call(this),this}},Gt=Xa;m(Gt,"Children",$a);m(Gt,"Properties",["fill","stroke","linewidth","cap","join","miter","closed","curved","automatic"]);var ra={visible:{enumerable:!0,get:function(){return this._visible},set:function(t){this._flagVisible=this._visible!==t||this._flagVisible,this._visible=t}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._flagOpacity=this._opacity!==t||this._flagOpacity,this._opacity=t}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(t){this._flagBeginning=this._beginning!==t||this._flagBeginning,this._beginning=t}},ending:{enumerable:!0,get:function(){return this._ending},set:function(t){this._flagEnding=this._ending!==t||this._flagEnding,this._ending=t}},length:{enumerable:!0,get:function(){if(this._flagLength||this._length<=0){if(this._length=0,!this.children)return this._length;for(let t=0;t<this.children.length;t++){let e=this.children[t];this._length+=e.length}}return this._length}},fill:{enumerable:!0,get:function(){return this._fill},set:function(t){this._fill=t;for(let e=0;e<this.children.length;e++){let r=this.children[e];r.fill=t}}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(t){this._stroke=t;for(let e=0;e<this.children.length;e++){let r=this.children[e];r.stroke=t}}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(t){this._linewidth=t;for(let e=0;e<this.children.length;e++){let r=this.children[e];r.linewidth=t}}},join:{enumerable:!0,get:function(){return this._join},set:function(t){this._join=t;for(let e=0;e<this.children.length;e++){let r=this.children[e];r.join=t}}},miter:{enumerable:!0,get:function(){return this._miter},set:function(t){this._miter=t;for(let e=0;e<this.children.length;e++){let r=this.children[e];r.miter=t}}},cap:{enumerable:!0,get:function(){return this._cap},set:function(t){this._cap=t;for(let e=0;e<this.children.length;e++){let r=this.children[e];r.cap=t}}},closed:{enumerable:!0,get:function(){return this._closed},set:function(t){this._closed=t;for(let e=0;e<this.children.length;e++){let r=this.children[e];r.closed=t}}},curved:{enumerable:!0,get:function(){return this._curved},set:function(t){this._curved=t;for(let e=0;e<this.children.length;e++){let r=this.children[e];r.curved=t}}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(t){this._automatic=t;for(let e=0;e<this.children.length;e++){let r=this.children[e];r.automatic=t}}},children:{enumerable:!0,get:function(){return this._children},set:function(t){let e=Gt.InsertChildren.bind(this),r=Gt.RemoveChildren.bind(this),s=Gt.OrderChildren.bind(this);this._children&&(this._children.unbind(),this._children.length>0&&r(this._children)),this._children=new $a(t),this._children.bind(B.Types.insert,e),this._children.bind(B.Types.remove,r),this._children.bind(B.Types.order,s),t.length>0&&e(t)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,Z.isObject(t)&&!t.clip&&(t.clip=!0)}}};function na(t,e){let r=t.parent,s;if(r===e){a();return}if(r&&r.children.ids[t.id]&&(s=Array.prototype.indexOf.call(r.children,t),r.children.splice(s,1),c()),e){a();return}c(),r._flagAdditions&&r.additions.length===0&&(r._flagAdditions=!1),r._flagSubtractions&&r.subtractions.length===0&&(r._flagSubtractions=!1),delete t.parent;function a(){e.subtractions.length>0&&(s=Array.prototype.indexOf.call(e.subtractions,t),s>=0&&e.subtractions.splice(s,1)),e.additions.length>0&&(s=Array.prototype.indexOf.call(e.additions,t),s>=0&&e.additions.splice(s,1)),t.parent=e,e.additions.push(t),e._flagAdditions=!0}function c(){s=Array.prototype.indexOf.call(r.additions,t),s>=0&&r.additions.splice(s,1),s=Array.prototype.indexOf.call(r.subtractions,t),s<0&&(r.subtractions.push(t),r._flagSubtractions=!0)}}var Ln=[],qn=Math.max,Dl=Math.min,sa=Math.abs,Ar=Math.sin,Er=Math.cos,Bl=Math.acos,Br=Math.sqrt,Xt={isHidden:/(undefined|none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},shim:function(t,e){return t.tagName=t.nodeName=e||"canvas",t.nodeType=1,t.getAttribute=function(r){return this[r]},t.setAttribute=function(r,s){return this[r]=s,this},t},group:{renderChild:function(t){Xt[t._renderer.type].render.call(t,this.ctx,!0,this.clip)},render:function(t){if(!this._visible)return this;this._update();let e=this._matrix.elements,r=this.parent;this._renderer.opacity=this._opacity*(r&&r._renderer?r._renderer.opacity:1);let s=this._mask,a=Cr(e),c=!a||!!s;if(this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=t,c&&(t.save(),a||t.transform(e[0],e[3],e[1],e[4],e[2],e[5])),s&&Xt[s._renderer.type].render.call(s,t,!0),this._opacity>0&&this._scale!==0)for(let f=0;f<this.children.length;f++){let p=this.children[f];Xt[p._renderer.type].render.call(p,t)}return c&&t.restore(),this.flagReset()}},path:{render:function(t,e,r){let s,a,c,f,p,y,_,T,E,A,x,k,N,M,R,L,q,z,H,l,tt,G,st,J,mt,Q,St,gt,Wt,At,ot,rt,_t,yt;if(yt=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,Wt=this._mask,At=this._clip,p=this._opacity*(yt||1),y=this._visible,!e&&(!y||At||p===0))return this;this._update(),s=this._matrix.elements,a=this._stroke,c=this._linewidth,f=this._fill,_=this._cap,T=this._join,E=this._miter,A=this._closed,x=this._renderer.vertices,k=x.length,N=k-1,ot=Cr(s),_t=this.dashes,ot||(t.save(),t.transform(s[0],s[3],s[1],s[4],s[2],s[5])),Wt&&Xt[Wt._renderer.type].render.call(Wt,t,!0),f&&(typeof f=="string"?t.fillStyle=f:(Xt[f._renderer.type].render.call(f,t,this),t.fillStyle=f._renderer.effect)),a&&(typeof a=="string"?t.strokeStyle=a:(Xt[a._renderer.type].render.call(a,t,this),t.strokeStyle=a._renderer.effect),c&&(t.lineWidth=c),E&&(t.miterLimit=E),T&&(t.lineJoin=T),!A&&_&&(t.lineCap=_)),typeof p=="number"&&(t.globalAlpha=p),_t&&_t.length>0&&(t.lineDashOffset=_t.offset||0,t.setLineDash(_t)),t.beginPath();let K,Ft,Jt,$t,It,Rt,Lt;for(let Nt=0;Nt<k;Nt++)switch(L=x[Nt],St=L.x,gt=L.y,L.command){case V.close:t.closePath();break;case V.arc:K=L.rx,Ft=L.ry,Jt=L.xAxisRotation,$t=L.largeArcFlag,It=L.sweepFlag,M=A?me(Nt-1,k):qn(Nt-1,0),R=x[M],Rt=R.x,Lt=R.y,Xt.renderSvgArcCommand(t,Rt,Lt,K,Ft,$t,It,Jt,St,gt);break;case V.curve:M=A?me(Nt-1,k):Math.max(Nt-1,0),R=x[M],st=R.controls&&R.controls.right||$.zero,J=L.controls&&L.controls.left||$.zero,R._relative?(tt=st.x+R.x,G=st.y+R.y):(tt=st.x,G=st.y),L._relative?(H=J.x+L.x,l=J.y+L.y):(H=J.x,l=J.y),t.bezierCurveTo(tt,G,H,l,St,gt),Nt>=N&&A&&(q=z,mt=L.controls&&L.controls.right||$.zero,Q=q.controls&&q.controls.left||$.zero,L._relative?(tt=mt.x+L.x,G=mt.y+L.y):(tt=mt.x,G=mt.y),q._relative?(H=Q.x+q.x,l=Q.y+q.y):(H=Q.x,l=Q.y),St=q.x,gt=q.y,t.bezierCurveTo(tt,G,H,l,St,gt));break;case V.line:t.lineTo(St,gt);break;case V.move:z=L,t.moveTo(St,gt);break}return A&&t.closePath(),!At&&!r&&(Xt.isHidden.test(f)||(rt=f._renderer&&f._renderer.offset,rt&&(t.save(),t.translate(-f._renderer.offset.x,-f._renderer.offset.y),t.scale(f._renderer.scale.x,f._renderer.scale.y)),t.fill(),rt&&t.restore()),Xt.isHidden.test(a)||(rt=a._renderer&&a._renderer.offset,rt&&(t.save(),t.translate(-a._renderer.offset.x,-a._renderer.offset.y),t.scale(a._renderer.scale.x,a._renderer.scale.y),t.lineWidth=c/a._renderer.scale.x),t.stroke(),rt&&t.restore())),ot||t.restore(),At&&!r&&t.clip(),_t&&_t.length>0&&t.setLineDash(Ln),this.flagReset()}},points:{render:function(t,e,r){let s,a,c,f,p,y,_,T,E,A,x,k,N,M,R,L;if(L=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,p=this._opacity*(L||1),y=this._visible,!e&&(!y||p===0))return this;this._update(),s=this._matrix.elements,a=this._stroke,c=this._linewidth,f=this._fill,T=this._renderer.collection,E=T.length,N=Cr(s),R=this.dashes,_=this._size,N||(t.save(),t.transform(s[0],s[3],s[1],s[4],s[2],s[5])),f&&(typeof f=="string"?t.fillStyle=f:(Xt[f._renderer.type].render.call(f,t,this),t.fillStyle=f._renderer.effect)),a&&(typeof a=="string"?t.strokeStyle=a:(Xt[a._renderer.type].render.call(a,t,this),t.strokeStyle=a._renderer.effect),c&&(t.lineWidth=c)),typeof p=="number"&&(t.globalAlpha=p),R&&R.length>0&&(t.lineDashOffset=R.offset||0,t.setLineDash(R)),t.beginPath();let q=_*.5,z;this._sizeAttenuation||(z=this.worldMatrix.elements,z=Pi(z[0],z[3],z[1],z[4],z[2],z[5]),q/=Math.max(z.scaleX,z.scaleY));for(let H=0;H<E;H++)A=T[H],x=A.x,k=A.y,t.moveTo(x+q,k),t.arc(x,k,q,0,oe);return r||(Xt.isHidden.test(f)||(M=f._renderer&&f._renderer.offset,M&&(t.save(),t.translate(-f._renderer.offset.x,-f._renderer.offset.y),t.scale(f._renderer.scale.x,f._renderer.scale.y)),t.fill(),M&&t.restore()),Xt.isHidden.test(a)||(M=a._renderer&&a._renderer.offset,M&&(t.save(),t.translate(-a._renderer.offset.x,-a._renderer.offset.y),t.scale(a._renderer.scale.x,a._renderer.scale.y),t.lineWidth=c/a._renderer.scale.x),t.stroke(),M&&t.restore())),N||t.restore(),R&&R.length>0&&t.setLineDash(Ln),this.flagReset()}},text:{render:function(t,e,r){let s=this.parent&&this.parent._renderer?this.parent._renderer.opacity:1,a=this._opacity*s,c=this._visible,f=this._mask,p=this._clip;if(!e&&(!c||p||a===0))return this;this._update();let y=this._matrix.elements,_=this._stroke,T=this._linewidth,E=this._fill,A=this._decoration,x=Cr(y),k=E._renderer&&E._renderer.offset&&_._renderer&&_._renderer.offset,N=this.dashes,M=Xt.alignments[this._alignment]||this._alignment,R=this._baseline,L,q,z,H,l,tt,G,st,J,mt,Q;if(x||(t.save(),t.transform(y[0],y[3],y[1],y[4],y[2],y[5])),f&&Xt[f._renderer.type].render.call(f,t,!0),k||(t.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" ")),t.textAlign=M,t.textBaseline=R,E&&(typeof E=="string"?t.fillStyle=E:(Xt[E._renderer.type].render.call(E,t,this),t.fillStyle=E._renderer.effect)),_&&(typeof _=="string"?t.strokeStyle=_:(Xt[_._renderer.type].render.call(_,t,this),t.strokeStyle=_._renderer.effect),T&&(t.lineWidth=T)),typeof a=="number"&&(t.globalAlpha=a),N&&N.length>0&&(t.lineDashOffset=N.offset||0,t.setLineDash(N)),!p&&!r&&(Xt.isHidden.test(E)||(E._renderer&&E._renderer.offset?(tt=E._renderer.scale.x,G=E._renderer.scale.y,t.save(),t.translate(-E._renderer.offset.x,-E._renderer.offset.y),t.scale(tt,G),L=this._size/E._renderer.scale.y,q=this._leading/E._renderer.scale.y,t.font=[this._style,this._weight,L+"px/",q+"px",this._family].join(" "),z=E._renderer.offset.x/E._renderer.scale.x,H=E._renderer.offset.y/E._renderer.scale.y,t.fillText(this.value,z,H),t.restore()):t.fillText(this.value,0,0)),Xt.isHidden.test(_)||(_._renderer&&_._renderer.offset?(tt=_._renderer.scale.x,G=_._renderer.scale.y,t.save(),t.translate(-_._renderer.offset.x,-_._renderer.offset.y),t.scale(tt,G),L=this._size/_._renderer.scale.y,q=this._leading/_._renderer.scale.y,t.font=[this._style,this._weight,L+"px/",q+"px",this._family].join(" "),z=_._renderer.offset.x/_._renderer.scale.x,H=_._renderer.offset.y/_._renderer.scale.y,l=T/_._renderer.scale.x,t.lineWidth=l,t.strokeText(this.value,z,H),t.restore()):t.strokeText(this.value,0,0))),/(underline|strikethrough)/i.test(A)){let St=t.measureText(this.value),gt=1;switch(A){case"underline":J=St.actualBoundingBoxAscent,Q=St.actualBoundingBoxAscent;break;case"strikethrough":J=0,Q=0,gt=.5;break}switch(R){case"top":J+=this._size*gt,Q+=this._size*gt;break;case"baseline":case"bottom":J-=this._size*gt,Q-=this._size*gt;break}switch(M){case"left":case"start":st=0,mt=St.width;break;case"right":case"end":st=-St.width,mt=0;break;default:st=-St.width/2,mt=St.width/2}t.lineWidth=Math.max(Math.floor(this._size/15),1),t.strokeStyle=t.fillStyle,t.beginPath(),t.moveTo(st,J),t.lineTo(mt,Q),t.stroke()}return x||t.restore(),p&&!r&&t.clip(),N&&N.length>0&&t.setLineDash(Ln),this.flagReset()}},"linear-gradient":{render:function(t,e){if(!!e){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let r,s=this.left._x,a=this.left._y,c=this.right._x,f=this.right._y;/objectBoundingBox/i.test(this._units)&&(r=e.getBoundingClientRect(!0),s=(s-.5)*r.width,a=(a-.5)*r.height,c=(c-.5)*r.width,f=(f-.5)*r.height),this._renderer.effect=t.createLinearGradient(s,a,c,f);for(let p=0;p<this.stops.length;p++){let y=this.stops[p];this._renderer.effect.addColorStop(y._offset,y._color)}}return this.flagReset()}}},"radial-gradient":{render:function(t,e){if(!!e){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let r,s=this.center._x,a=this.center._y,c=this.focal._x,f=this.focal._y,p=this._radius;/objectBoundingBox/i.test(this._units)&&(r=e.getBoundingClientRect(!0),s=s*r.width*.5,a=a*r.height*.5,c=c*r.width*.5,f=f*r.height*.5,p*=Math.min(r.width,r.height)*.5),this._renderer.effect=t.createRadialGradient(s,a,0,c,f,p);for(let y=0;y<this.stops.length;y++){let _=this.stops[y];this._renderer.effect.addColorStop(_._offset,_._color)}}return this.flagReset()}}},texture:{render:function(t){this._update();let e=this.image;return(!this._renderer.effect||(this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)&&(this._renderer.effect=t.createPattern(this.image,this._repeat)),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof $||(this._renderer.offset=new $),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,e&&(this._renderer.offset.x+=e.width/2,this._renderer.offset.y+=e.height/2,this._scale instanceof $?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof $||(this._renderer.scale=new $),this._scale instanceof $?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},renderSvgArcCommand:function(t,e,r,s,a,c,f,p,y,_){p=p*Math.PI/180,s=sa(s),a=sa(a);let T=(e-y)/2,E=(r-_)/2,A=Er(p)*T+Ar(p)*E,x=-Ar(p)*T+Er(p)*E,k=A*A,N=x*x,M=s*s,R=a*a,L=k/M+N/R;if(L>1){let gt=Br(L);s=gt*s,a=gt*a,M=s*s,R=a*a}let q=M*N+R*k,z=(M*R-q)/q,H=Br(qn(0,z));c===f&&(H=-H);let l=H*s*x/a,tt=-H*a*A/s,G=Er(p)*l-Ar(p)*tt+(e+y)/2,st=Ar(p)*l+Er(p)*tt+(r+_)/2,J=aa(1,0,(A-l)/s,(x-tt)/a),mt=aa((A-l)/s,(x-tt)/a,(-A-l)/s,(-x-tt)/a)%oe,Q=J+mt;ql(t,G,st,s,a,J,Q,f===0,p)}},ir=class extends B{constructor(t){super();let e=t.smoothing!==!1;this.domElement=t.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=t.overdraw||!1,typeof this.ctx.imageSmoothingEnabled<"u"&&(this.ctx.imageSmoothingEnabled=e),this.scene=new Gt,this.scene.parent=this}setSize(t,e,r){return this.width=t,this.height=e,this.ratio=typeof r>"u"?$n(this.ctx):r,this.domElement.width=t*this.ratio,this.domElement.height=e*this.ratio,this.domElement.style&&Z.extend(this.domElement.style,{width:t+"px",height:e+"px"}),this.trigger(B.Types.resize,t,e,r)}render(){let t=this.ratio===1;return t||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),Xt.group.render.call(this.scene,this.ctx),t||this.ctx.restore(),this}};m(ir,"Utils",Xt);function ql(t,e,r,s,a,c,f,p,y){let _=f-c,T=Li.Tolerance.epsilon,E=Math.abs(_)<T,A=me(_,oe);A<T&&(E?A=0:A=oe),p===!0&&!E&&(A===oe?A=-oe:A=A-oe);for(let x=0;x<Qt.Resolution;x++){let k=x/(Qt.Resolution-1),N=c+k*A,M=e+s*Math.cos(N),R=r+a*Math.sin(N);if(y!==0){let L=Math.cos(y),q=Math.sin(y),z=M-e,H=R-r;M=z*L-H*q+e,R=z*q+H*L+r}t.lineTo(M,R)}}function aa(t,e,r,s){let a=t*r+e*s,c=Br(t*t+e*e)*Br(r*r+s*s),f=Bl(qn(-1,Dl(1,a/c)));return t*s-e*r<0&&(f=-f),f}function Cr(t){return t[0]==1&&t[3]==0&&t[1]==0&&t[4]==1&&t[2]==0&&t[5]==0}var ge={Image:null,isHeadless:!1,shim:function(t,e){return ir.Utils.shim(t),typeof e<"u"&&(ge.Image=e),ge.isHeadless=!0,t}},pe={hasEventListeners:typeof zt.addEventListener=="function",bind:function(t,e,r,s){return this.hasEventListeners?t.addEventListener(e,r,!!s):t.attachEvent("on"+e,r),pe},unbind:function(t,e,r,s){return pe.hasEventListeners?t.removeEventListeners(e,r,!!s):t.detachEvent("on"+e,r),pe},getRequestAnimationFrame:function(){let t=["ms","moz","webkit","o"],e=0,r=zt.requestAnimationFrame;if(!r){for(let a=0;a<t.length;a++)r=zt[t[a]+"RequestAnimationFrame"]||r;r=r||s}function s(a,c){let f=new Date().getTime(),p=Math.max(0,16-(f-e)),y=zt.setTimeout(_,p);e=f+p;function _(){a(f+p)}return y}return r}},Oi=zt.document?zt.document.createElement("div"):{};Oi.id="help-two-load";Object.defineProperty(pe,"temp",{enumerable:!0,get:function(){return Z.isElement(Oi)&&!zt.document.head.contains(Oi)&&(Oi.style.display="none",zt.document.head.appendChild(Oi)),Oi}});var _e=class extends Error{constructor(t){super(),m(this,"name","Two.js"),m(this,"message"),this.message=t}},zr=class{constructor(){m(this,"map",{})}add(t,e){return this.map[t]=e,this}remove(t){return delete this.map[t],this}get(t){return this.map[t]}contains(t){return t in this.map}};function oa(t,e){if(e===0||e===1)return!0;let s=t._length*e,a=0;for(let c=0;c<t._lengths.length;c++){let f=t._lengths[c];if(a>=s)return s-a>=0;a+=f}return!1}function qr(t,e){let r=t._length;if(e<=0)return 0;if(e>=r)return t._lengths.length-1;for(let s=0,a=0;s<t._lengths.length;s++){if(a+t._lengths[s]>=e)return e-=a,Math.max(s-1,0)+e/t._lengths[s];a+=t._lengths[s]}return-1}function Hn(t,e,r){let s,a,c,f,p,y,_,T,E=e.controls&&e.controls.right,A=t.controls&&t.controls.left;return s=e.x,p=e.y,a=(E||e).x,y=(E||e).y,c=(A||t).x,_=(A||t).y,f=t.x,T=t.y,E&&e._relative&&(a+=e.x,y+=e.y),A&&t._relative&&(c+=t.x,_+=t.y),qa(s,p,a,y,c,_,f,T,r)}function la(t,e,r){let s,a,c,f,p,y,_,T,E=e.controls&&e.controls.right,A=t.controls&&t.controls.left;return s=e.x,p=e.y,a=(E||e).x,y=(E||e).y,c=(A||t).x,_=(A||t).y,f=t.x,T=t.y,E&&e._relative&&(a+=e.x,y+=e.y),A&&t._relative&&(c+=t.x,_+=t.y),Wn(s,p,a,y,c,_,f,T,r)}var ti=class extends Hr{constructor(t,e,r){super(),m(this,"_flagOffset",!0),m(this,"_flagOpacity",!0),m(this,"_flagColor",!0),m(this,"_offset",0),m(this,"_opacity",1),m(this,"_color","#fff");for(let s in ha)Object.defineProperty(this,s,ha[s]);this._renderer.type="stop",this.offset=typeof t=="number"?t:ti.Index<=0?0:1,this.opacity=typeof r=="number"?r:1,this.color=typeof e=="string"?e:ti.Index<=0?"#fff":"#000",ti.Index=(ti.Index+1)%2}clone(t){let e=new ti;return Z.each(ti.Properties,function(r){e[r]=this[r]},this),t&&t.stops&&t.stops.push(e),e}toObject(){let t={};return Z.each(ti.Properties,function(e){t[e]=this[e]},this),t}flagReset(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,super.flagReset.call(this),this}},ri=ti;m(ri,"Index",0);m(ri,"Properties",["offset","opacity","color"]);var ha={offset:{enumerable:!0,get:function(){return this._offset},set:function(t){this._offset=t,this._flagOffset=!0,this.parent&&(this.parent._flagStops=!0)}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._opacity=t,this._flagOpacity=!0,this.parent&&(this.parent._flagStops=!0)}},color:{enumerable:!0,get:function(){return this._color},set:function(t){this._color=t,this._flagColor=!0,this.parent&&(this.parent._flagStops=!0)}}},Mr=class extends Hr{constructor(t){super(),m(this,"_flagStops",!1),m(this,"_flagSpread",!1),m(this,"_flagUnits",!1),m(this,"_spread",""),m(this,"_units","");for(let e in fa)Object.defineProperty(this,e,fa[e]);this._renderer.type="gradient",this.id=Qt.Identifier+Qt.uniqueId(),this.classList=[],this._renderer.flagStops=Hl.bind(this),this._renderer.bindStops=zl.bind(this),this._renderer.unbindStops=Ul.bind(this),this.spread="pad",this.units="objectBoundingBox",t&&(this.stops=t)}clone(t){let e=this.stops.map(function(s){return s.clone()}),r=new Mr(e);return Z.each(Mr.Properties,function(s){r[s]=this[s]},this),t&&t.add(r),r}toObject(){let t={stops:this.stops.map(function(e){return e.toObject()})};return Z.each(Mr.Properties,function(e){t[e]=this[e]},this),t}_update(){return(this._flagSpread||this._flagStops)&&this.trigger(B.Types.change),this}flagReset(){return this._flagSpread=this._flagUnits=this._flagStops=!1,super.flagReset.call(this),this}},Kt=Mr;m(Kt,"Stop",ri);m(Kt,"Properties",["spread","stops","renderer","units"]);var fa={spread:{enumerable:!0,get:function(){return this._spread},set:function(t){this._spread=t,this._flagSpread=!0}},units:{enumerable:!0,get:function(){return this._units},set:function(t){this._units=t,this._flagUnits=!0}},stops:{enumerable:!0,get:function(){return this._stops},set:function(t){let e=this._renderer.bindStops,r=this._renderer.unbindStops;this._stops&&this._stops.unbind(B.Types.insert,e).unbind(B.Types.remove,r),this._stops=new ii((t||[]).slice(0)),this._stops.bind(B.Types.insert,e).bind(B.Types.remove,r),e(this._stops)}}};function Hl(){this._flagStops=!0}function zl(t){let e=t.length;for(;e--;)t[e].bind(B.Types.change,this._renderer.flagStops),t[e].parent=this;this._renderer.flagStops()}function Ul(t){let e=t.length;for(;e--;)t[e].unbind(B.Types.change,this._renderer.flagStops),delete t[e].parent;this._renderer.flagStops()}var Ya=class extends Kt{constructor(t,e,r,s,a){super(a),m(this,"_flagEndPoints",!1),m(this,"_left",null),m(this,"_right",null);for(let c in ca)Object.defineProperty(this,c,ca[c]);this._renderer.type="linear-gradient",this._renderer.flagEndPoints=Vl.bind(this),this.left=new $,this.right=new $,typeof t=="number"&&(this.left.x=t),typeof e=="number"&&(this.left.y=e),typeof r=="number"&&(this.right.x=r),typeof s=="number"&&(this.right.y=s)}clone(t){let e=this.stops.map(function(s){return s.clone()}),r=new Ya(this.left._x,this.left._y,this.right._x,this.right._y,e);return Z.each(Kt.Properties,function(s){r[s]=this[s]},this),t&&t.add(r),r}toObject(){let t=super.toObject.call(this);return t.left=this.left.toObject(),t.right=this.right.toObject(),t}_update(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(B.Types.change),this}flagReset(){return this._flagEndPoints=!1,super.flagReset.call(this),this}},Bt=Ya;m(Bt,"Properties",["left","right"]);m(Bt,"Stop",ri);var ca={left:{enumerable:!0,get:function(){return this._left},set:function(t){this._left instanceof $&&this._left.unbind(B.Types.change,this._renderer.flagEndPoints),this._left=t,this._left.bind(B.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}},right:{enumerable:!0,get:function(){return this._right},set:function(t){this._right instanceof $&&this._right.unbind(B.Types.change,this._renderer.flagEndPoints),this._right=t,this._right.bind(B.Types.change,this._renderer.flagEndPoints),this._flagEndPoints=!0}}};function Vl(){this._flagEndPoints=!0}var Fr=class extends Kt{constructor(t,e,r,s,a,c){super(s),m(this,"_flagRadius",!1),m(this,"_flagCenter",!1),m(this,"_flagFocal",!1),m(this,"_radius",0),m(this,"_center",null),m(this,"_focal",null);for(let f in ua)Object.defineProperty(this,f,ua[f]);this._renderer.type="radial-gradient",this._renderer.flagCenter=Wl.bind(this),this._renderer.flagFocal=$l.bind(this),this.center=new $,this.radius=typeof r=="number"?r:1,this.focal=new $,typeof t=="number"&&(this.center.x=t),typeof e=="number"&&(this.center.y=e),this.focal.copy(this.center),typeof a=="number"&&(this.focal.x=a),typeof c=="number"&&(this.focal.y=c)}clone(t){let e=this.stops.map(function(s){return s.clone()}),r=new Fr(this.center._x,this.center._y,this._radius,e,this.focal._x,this.focal._y);return Z.each(Kt.Properties.concat(Fr.Properties),function(s){r[s]=this[s]},this),t&&t.add(r),r}toObject(){let t=super.toObject.call(this);return Z.each(Fr.Properties,function(e){t[e]=this[e]},this),t.center=this.center.toObject(),t.focal=this.focal.toObject(),t}_update(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(B.Types.change),this}flagReset(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,super.flagReset.call(this),this}},qt=Fr;m(qt,"Stop",ri);m(qt,"Properties",["center","radius","focal"]);var ua={radius:{enumerable:!0,get:function(){return this._radius},set:function(t){this._radius=t,this._flagRadius=!0}},center:{enumerable:!0,get:function(){return this._center},set:function(t){this._center&&this._center.unbind(B.Types.change,this._renderer.flagCenter),this._center=t,this._center.bind(B.Types.change,this._renderer.flagCenter),this._flagCenter=!0}},focal:{enumerable:!0,get:function(){return this._focal},set:function(t){this._focal&&this._focal.unbind(B.Types.change,this._renderer.flagFocal),this._focal=t,this._focal.bind(B.Types.change,this._renderer.flagFocal),this._flagFocal=!0}}};function Wl(){this._flagCenter=!0}function $l(){this._flagFocal=!0}var Or,Ga={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};zt.document&&(Or=document.createElement("a"));var ee=class extends Hr{constructor(t,e){super(),m(this,"_flagSrc",!1),m(this,"_flagImage",!1),m(this,"_flagVideo",!1),m(this,"_flagLoaded",!1),m(this,"_flagRepeat",!1),m(this,"_flagOffset",!1),m(this,"_flagScale",!1),m(this,"_src",""),m(this,"_image",null),m(this,"_loaded",!1),m(this,"_repeat","no-repeat"),m(this,"_scale",1),m(this,"_offset",null),this._renderer={};for(let r in da)Object.defineProperty(this,r,da[r]);if(this._renderer.type="texture",this._renderer.flagOffset=Xl.bind(this),this._renderer.flagScale=Yl.bind(this),this.id=Qt.Identifier+Qt.uniqueId(),this.classList=[],this.loaded=!1,this.repeat="no-repeat",this.offset=new $,typeof e=="function"){let r=function(){this.unbind(B.Types.load,r),typeof e=="function"&&e()}.bind(this);this.bind(B.Types.load,r)}if(typeof t=="string")this.src=t;else if(typeof t=="object"){let r=Object.prototype.toString.call(t);(r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]"||r==="[object HTMLVideoElement]"||r==="[object Image]")&&(this.image=t)}this._update()}static getAbsoluteURL(t){return Or?(Or.href=t,Or.href):t}static loadHeadlessBuffer(t,e){t.image.onload=e,t.image.src=t.src}static getTag(t){return t&&t.nodeName&&t.nodeName.toLowerCase()||"img"}static getImage(t){let e=ee.getAbsoluteURL(t);if(ee.ImageRegistry.contains(e))return ee.ImageRegistry.get(e);let r;return ge.Image?(r=new ge.Image,ir.Utils.shim(r,"img")):zt.document?Ga.video.test(e)?r=document.createElement("video"):r=document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),r.crossOrigin="anonymous",r}static load(t,e){let r=t.image,s=ee.getTag(r);t._flagImage&&(/canvas/i.test(s)?ee.Register.canvas(t,e):(t._src=!ge.isHeadless&&r.getAttribute("two-src")||r.src,ee.Register[s](t,e))),t._flagSrc&&(r||(r=ee.getImage(t.src),t.image=r),s=ee.getTag(r),ee.Register[s](t,e))}clone(){let t=new ee(this.src);return t.repeat=this.repeat,t.offset.copy(this.origin),t.scale=this.scale,t}toObject(){return{src:this.src,repeat:this.repeat,origin:this.origin.toObject(),scale:typeof this.scale=="number"?this.scale:this.scale.toObject()}}_update(){return(this._flagSrc||this._flagImage)&&(this.trigger(B.Types.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,ee.load(this,function(){this.loaded=!0,this.trigger(B.Types.change).trigger(B.Types.load)}.bind(this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this}flagReset(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagRepeat=this._flagVideo=this._flagScale=this._flagOffset=!1,super.flagReset.call(this),this}},Mt=ee;m(Mt,"Properties",["src","loaded","repeat","scale","offset","image"]);m(Mt,"RegularExpressions",Ga);m(Mt,"ImageRegistry",new zr);m(Mt,"Register",{canvas:function(t,e){t._src="#"+t.id,ee.ImageRegistry.add(t.src,t.image),typeof e=="function"&&e()},img:function(t,e){let r=t.image,s=function(c){!ge.isHeadless&&r.removeEventListener&&typeof r.removeEventListener=="function"&&(r.removeEventListener("load",s,!1),r.removeEventListener("error",a,!1)),typeof e=="function"&&e()},a=function(c){throw!ge.isHeadless&&typeof r.removeEventListener=="function"&&(r.removeEventListener("load",s,!1),r.removeEventListener("error",a,!1)),new _e("unable to load "+t.src)};typeof r.width=="number"&&r.width>0&&typeof r.height=="number"&&r.height>0?s():!ge.isHeadless&&typeof r.addEventListener=="function"&&(r.addEventListener("load",s,!1),r.addEventListener("error",a,!1)),t._src=ee.getAbsoluteURL(t._src),!(!ge.isHeadless&&r&&r.getAttribute("two-src"))&&(ge.isHeadless||r.setAttribute("two-src",t.src),ee.ImageRegistry.add(t.src,r),ge.isHeadless?ee.loadHeadlessBuffer(t,s):t.image.src=t.src)},video:function(t,e){if(ge.isHeadless)throw new _e("video textures are not implemented in headless environments.");let r=function(a){t.image.removeEventListener("canplaythrough",r,!1),t.image.removeEventListener("error",s,!1),t.image.width=t.image.videoWidth,t.image.height=t.image.videoHeight,typeof e=="function"&&e()},s=function(a){throw t.image.removeEventListener("canplaythrough",r,!1),t.image.removeEventListener("error",s,!1),new _e("unable to load "+t.src)};t._src=ee.getAbsoluteURL(t._src),t.image.getAttribute("two-src")||(t.image.setAttribute("two-src",t.src),ee.ImageRegistry.add(t.src,t.image)),t.image.readyState>=4?r():(t.image.addEventListener("canplaythrough",r,!1),t.image.addEventListener("error",s,!1),t.image.src=t.src,t.image.load())}});var da={src:{enumerable:!0,get:function(){return this._src},set:function(t){this._src=t,this._flagSrc=!0}},loaded:{enumerable:!0,get:function(){return this._loaded},set:function(t){this._loaded=t,this._flagLoaded=!0}},repeat:{enumerable:!0,get:function(){return this._repeat},set:function(t){this._repeat=t,this._flagRepeat=!0}},image:{enumerable:!0,get:function(){return this._image},set:function(t){let e=Mt.getTag(t),r;switch(e){case"canvas":r="#"+t.id;break;default:r=t.src}Mt.ImageRegistry.contains(r)?this._image=Mt.ImageRegistry.get(t.src):this._image=t,this._flagImage=!0}},offset:{enumerable:!0,get:function(){return this._offset},set:function(t){this._offset&&this._offset.unbind(B.Types.change,this._renderer.flagOffset),this._offset=t,this._offset.bind(B.Types.change,this._renderer.flagOffset),this._flagOffset=!0}},scale:{enumerable:!0,get:function(){return this._scale},set:function(t){this._scale instanceof $&&this._scale.unbind(B.Types.change,this._renderer.flagScale),this._scale=t,this._scale instanceof $&&this._scale.bind(B.Types.change,this._renderer.flagScale),this._flagScale=!0}}};function Xl(){this._flagOffset=!0}function Yl(){this._flagScale=!0}var Mi=Math.min,Fi=Math.max,Gl=Math.ceil,Kl=Math.floor,Ql=new $,Ki=class extends ei{constructor(t,e,r,s){super(),m(this,"_flagVertices",!0),m(this,"_flagLength",!0),m(this,"_flagFill",!0),m(this,"_flagStroke",!0),m(this,"_flagLinewidth",!0),m(this,"_flagOpacity",!0),m(this,"_flagVisible",!0),m(this,"_flagCap",!0),m(this,"_flagJoin",!0),m(this,"_flagMiter",!0),m(this,"_flagMask",!1),m(this,"_flagClip",!1),m(this,"_length",0),m(this,"_fill","#fff"),m(this,"_stroke","#000"),m(this,"_linewidth",1),m(this,"_opacity",1),m(this,"_visible",!0),m(this,"_cap","round"),m(this,"_join","round"),m(this,"_miter",4),m(this,"_closed",!0),m(this,"_curved",!1),m(this,"_automatic",!0),m(this,"_beginning",0),m(this,"_ending",1),m(this,"_mask",null),m(this,"_clip",!1),m(this,"_dashes",null);for(let a in pa)Object.defineProperty(this,a,pa[a]);this._renderer.type="path",this._renderer.flagVertices=Ka.bind(this),this._renderer.bindVertices=Qa.bind(this),this._renderer.unbindVertices=Ja.bind(this),this._renderer.flagFill=Za.bind(this),this._renderer.flagStroke=to.bind(this),this._renderer.vertices=[],this._renderer.collection=[],this.closed=!!e,this.curved=!!r,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=t,this.automatic=!s,this.dashes=[],this.dashes.offset=0}clone(t){let e=new Ki;for(let r=0;r<this.vertices.length;r++)e.vertices.push(this.vertices[r].clone());for(let r=0;r<Ki.Properties.length;r++){let s=Ki.Properties[r];e[s]=this[s]}return e.className=this.className,e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}toObject(){let t={vertices:this.vertices.map(function(e){return e.toObject()})};return Z.each(Ki.Properties,function(e){typeof this[e]<"u"&&(this[e].toObject?t[e]=this[e].toObject():t[e]=this[e])},this),t.className=this.className,t.translation=this.translation.toObject(),t.rotation=this.rotation,t.scale=this.scale instanceof $?this.scale.toObject():this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&(t.matrix=this.matrix.toObject()),t}noFill(){return this.fill="transparent",this}noStroke(){return this.stroke=void 0,this}corner(){let t=this.getBoundingClientRect(!0),e=t.width/2,r=t.height/2,s=t.left+t.width/2,a=t.top+t.height/2;for(let c=0;c<this.vertices.length;c++){let f=this.vertices[c];f.x-=s,f.y-=a,f.x+=e,f.y+=r}return this.mask&&(this.mask.translation.x-=s,this.mask.translation.x+=e,this.mask.translation.y-=a,this.mask.translation.y+=r),this}center(){let t=this.getBoundingClientRect(!0),e=t.left+t.width/2-this.translation.x,r=t.top+t.height/2-this.translation.y;for(let s=0;s<this.vertices.length;s++){let a=this.vertices[s];a.x-=e,a.y-=r}return this.mask&&(this.mask.translation.x-=e,this.mask.translation.y-=r),this}getBoundingClientRect(t){let e,r,s,a,c,f,p=1/0,y=-1/0,_=1/0,T=-1/0;if(this._update(!0),e=t?this.matrix:this.worldMatrix,r=(this.linewidth||0)/2,s=this._renderer.vertices.length,this.linewidth>0||this.stroke&&this.stroke!=="transparent")if(this.matrix.manual){let{scaleX:E,scaleY:A}=Pi(e.elements[0],e.elements[3],e.elements[1],e.elements[4],e.elements[2],e.elements[5]);typeof E=="number"&&typeof A=="number"&&(r=Math.max(E,A)*(this.linewidth||0)/2)}else r*=typeof this.scale=="number"?this.scale:Math.max(this.scale.x,this.scale.y);if(s<=0)return{width:0,height:0};for(a=0;a<s;a++){f=this._renderer.vertices[a],c=this._renderer.vertices[(a+s-1)%s];let[E,A]=e.multiply(c.x,c.y),[x,k]=e.multiply(f.x,f.y);if(c.controls&&f.controls){let N=c.controls.right.x,M=c.controls.right.y;c.relative&&(N+=c.x,M+=c.y);let[R,L]=e.multiply(N,M),q=f.controls.left.x,z=f.controls.left.y;f.relative&&(q+=f.x,z+=f.y);let[H,l]=e.multiply(q,z),tt=Ha(E,A,R,L,H,l,x,k);_=Mi(tt.min.y-r,_),p=Mi(tt.min.x-r,p),y=Fi(tt.max.x+r,y),T=Fi(tt.max.y+r,T)}else a<=1&&(_=Mi(A-r,_),p=Mi(E-r,p),y=Fi(E+r,y),T=Fi(A+r,T)),_=Mi(k-r,_),p=Mi(x-r,p),y=Fi(x+r,y),T=Fi(k+r,T)}return{top:_,left:p,right:y,bottom:T,width:y-p,height:T-_}}getPointAt(t,e){let r,s,a,c,f,p,y,_,T,E,A,x,k,N,M,R=this.length*Math.min(Math.max(t,0),1),L=this.vertices.length,q=L-1,z=null,H=null;for(let At=0,ot=this._lengths.length,rt=0;At<ot;At++){if(rt+this._lengths[At]>=R){this._closed?(r=me(At,L),s=me(At-1,L),At===0&&(r=s,s=At)):(r=At,s=Math.min(Math.max(At-1,0),q)),z=this.vertices[r],H=this.vertices[s],R-=rt,this._lengths[At]!==0?t=R/this._lengths[At]:t=0;break}rt+=this._lengths[At]}if(z===null||H===null)return null;if(z){if(!H)return z}else return H;M=H.controls&&H.controls.right,N=z.controls&&z.controls.left,f=H.x,E=H.y,p=(M||H).x,A=(M||H).y,y=(N||z).x,x=(N||z).y,_=z.x,k=z.y,M&&H.relative&&(p+=H.x,A+=H.y),N&&z.relative&&(y+=z.x,x+=z.y),c=Zi(t,f,p,y,_),T=Zi(t,E,A,x,k);let l=de(f,p,t),tt=de(E,A,t),G=de(p,y,t),st=de(A,x,t),J=de(y,_,t),mt=de(x,k,t),Q=de(l,G,t),St=de(tt,st,t),gt=de(G,J,t),Wt=de(st,mt,t);return Z.isObject(e)?(e.x=c,e.y=T,e instanceof vt&&(e.controls.left.x=Q,e.controls.left.y=St,e.controls.right.x=gt,e.controls.right.y=Wt,(typeof e.relative!="boolean"||e.relative)&&(e.controls.left.x-=c,e.controls.left.y-=T,e.controls.right.x-=c,e.controls.right.y-=T)),e.t=t,e):(a=new vt(c,T,Q-c,St-T,gt-c,Wt-T,this._curved?V.curve:V.line),a.t=t,a)}plot(){if(this.curved)return Ua(this._collection,this.closed),this;for(let t=0;t<this._collection.length;t++)this._collection[t].command=t===0?V.move:V.line;return this}subdivide(t){this._update();let e=this.vertices.length-1,r=this._closed||this.vertices[e]._command===V.close,s=this.vertices[e],a=[],c;return Z.each(this.vertices,function(f,p){if(p<=0&&!r){s=f;return}if(f.command===V.move){a.push(new vt(s.x,s.y)),p>0&&(a[a.length-1].command=V.line),s=f;return}c=la(f,s,t),a=a.concat(c),Z.each(c,function(y,_){_<=0&&s.command===V.move?y.command=V.move:y.command=V.line}),p>=e&&(this._closed&&this._automatic?(s=f,c=la(f,s,t),a=a.concat(c),Z.each(c,function(y,_){_<=0&&s.command===V.move?y.command=V.move:y.command=V.line})):r&&a.push(new vt(f.x,f.y)),a[a.length-1].command=r?V.close:V.line),s=f},this),this._automatic=!1,this._curved=!1,this.vertices=a,this}_updateLength(t,e){e||this._update();let r=this.vertices.length,s=r-1,a=!1,c=this.vertices[s],f=0;return typeof this._lengths>"u"&&(this._lengths=[]),Z.each(this.vertices,function(p,y){if(y<=0&&!a||p.command===V.move){c=p,this._lengths[y]=0;return}this._lengths[y]=Hn(p,c,t),f+=this._lengths[y],y>=s&&a&&(c=this.vertices[(y+1)%r],this._lengths[y+1]=Hn(p,c,t),f+=this._lengths[y+1]),c=p},this),this._length=f,this._flagLength=!1,this}_update(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);let t=this._collection.length,e=this._closed,r=Math.min(this._beginning,this._ending),s=Math.max(this._beginning,this._ending),a=qr(this,r*this._length),c=qr(this,s*this._length),f=Gl(a),p=Kl(c),y,_,T,E,A,x;for(this._renderer.vertices.length=0,x=0;x<t;x++)this._renderer.collection.length<=x&&this._renderer.collection.push(new vt),x>p&&!_?(A=this._renderer.collection[x].copy(this._collection[x]),this.getPointAt(s,A),A.command=this._renderer.collection[x].command,this._renderer.vertices.push(A),_=A,T=this._collection[x-1],T&&T.controls&&(A.relative?A.controls.right.clear():A.controls.right.copy(A),T.relative?this._renderer.collection[x-1].controls.right.copy(T.controls.right).lerp($.zero,1-A.t):this._renderer.collection[x-1].controls.right.copy(T.controls.right).lerp(T,1-A.t))):x>=f&&x<=p&&(A=this._renderer.collection[x].copy(this._collection[x]),this._renderer.vertices.push(A),x===p&&oa(this,s)?(_=A,!e&&_.controls&&(_.relative?_.controls.right.clear():_.controls.right.copy(_))):x===f&&oa(this,r)&&(y=A,y.command=V.move,!e&&y.controls&&(y.relative?y.controls.left.clear():y.controls.left.copy(y))));f>0&&!y&&(x=f-1,A=this._renderer.collection[x].copy(this._collection[x]),this.getPointAt(r,A),A.command=V.move,this._renderer.vertices.unshift(A),E=this._collection[x+1],E&&E.controls&&(A.controls.left.clear(),E.relative?this._renderer.collection[x+1].controls.left.copy(E.controls.left).lerp($.zero,A.t):(Ql.copy(E),this._renderer.collection[x+1].controls.left.copy(E.controls.left).lerp(E,A.t))))}return ei.prototype._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,ei.prototype.flagReset.call(this),this}},Tt=Ki;m(Tt,"Properties",["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending"]);m(Tt,"Utils",{getCurveLength:Hn});var pa={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(t){this._linewidth=t,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._opacity=t,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(t){this._visible=t,this._flagVisible=!0}},cap:{enumerable:!0,get:function(){return this._cap},set:function(t){this._cap=t,this._flagCap=!0}},join:{enumerable:!0,get:function(){return this._join},set:function(t){this._join=t,this._flagJoin=!0}},miter:{enumerable:!0,get:function(){return this._miter},set:function(t){this._miter=t,this._flagMiter=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof Kt||this._fill instanceof Bt||this._fill instanceof qt||this._fill instanceof Mt)&&this._fill.unbind(B.Types.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof Kt||this._fill instanceof Bt||this._fill instanceof qt||this._fill instanceof Mt)&&this._fill.bind(B.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof Kt||this._stroke instanceof Bt||this._stroke instanceof qt||this._stroke instanceof Mt)&&this._stroke.unbind(B.Types.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof Kt||this._stroke instanceof Bt||this._stroke instanceof qt||this._stroke instanceof Mt)&&this._stroke.bind(B.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},closed:{enumerable:!0,get:function(){return this._closed},set:function(t){this._closed=!!t,this._flagVertices=!0}},curved:{enumerable:!0,get:function(){return this._curved},set:function(t){this._curved=!!t,this._flagVertices=!0}},automatic:{enumerable:!0,get:function(){return this._automatic},set:function(t){if(t===this._automatic)return;this._automatic=!!t;let e=this._automatic?"ignore":"listen";Z.each(this.vertices,function(r){r[e]()})}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(t){this._beginning=t,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(t){this._ending=t,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(t){let e=this._renderer.bindVertices,r=this._renderer.unbindVertices;this._collection&&this._collection.unbind(B.Types.insert,e).unbind(B.Types.remove,r),t instanceof ii?this._collection=t:this._collection=new ii(t||[]),this._collection.bind(B.Types.insert,e).bind(B.Types.remove,r),e(this._collection)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,Z.isObject(t)&&!t.clip&&(t.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(t){typeof t.offset!="number"&&(t.offset=this.dashes&&this._dashes.offset||0),this._dashes=t}}};function Ka(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)}function Qa(t){let e=t.length;for(;e--;)t[e].bind(B.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function Ja(t){let e=t.length;for(;e--;)t[e].unbind(B.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()}function Za(){this._flagFill=!0}function to(){this._flagStroke=!0}var eo=class extends Tt{constructor(t,e,r,s){let a=[new vt,new vt,new vt,new vt];super(a,!0,!1,!0),m(this,"_flagWidth",0),m(this,"_flagHeight",0),m(this,"_width",0),m(this,"_height",0),m(this,"_origin",null);for(let c in ga)Object.defineProperty(this,c,ga[c]);this.width=typeof r=="number"?r:1,this.height=typeof s=="number"?s:1,this.origin=new $,typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e),this._update()}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){let t=this._width/2,e=this._height/2;!this._closed&&this.vertices.length===4&&this.vertices.push(new vt),this.vertices[0].set(-t,-e).sub(this._origin).command=V.move,this.vertices[1].set(t,-e).sub(this._origin).command=V.line,this.vertices[2].set(t,e).sub(this._origin).command=V.line,this.vertices[3].set(-t,e).sub(this._origin).command=V.line,this.vertices[4]&&(this.vertices[4].set(-t,-e).sub(this._origin).command=V.line)}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(t){let e=new eo(0,0,this.width,this.height);e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix);for(let r=0;r<Tt.Properties.length;r++){let s=Tt.Properties[r];e[s]=this[s]}return t&&t.add(e),e}toObject(){let t=super.toObject.call(this);return t.width=this.width,t.height=this.height,t.origin=this.origin.toObject(),t}},ci=eo;m(ci,"Properties",["width","height"]);var ga={width:{enumerable:!0,get:function(){return this._width},set:function(t){this._width=t,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(t){this._height=t,this._flagHeight=!0}},origin:{enumerable:!0,get:function(){return this._origin},set:function(t){this._origin&&this._origin.unbind(B.Types.change,this._renderer.flagVertices),this._origin=t,this._origin.bind(B.Types.change,this._renderer.flagVertices),this._renderer.flagVertices()}}},io=class extends ci{constructor(t,e,r,s,a,c){super(e,r,0,0),m(this,"_flagTexture",!1),m(this,"_flagColumns",!1),m(this,"_flagRows",!1),m(this,"_flagFrameRate",!1),m(this,"_flagIndex",!1),m(this,"_amount",1),m(this,"_duration",0),m(this,"_startTime",0),m(this,"_playing",!1),m(this,"_firstFrame",0),m(this,"_lastFrame",0),m(this,"_loop",!0),m(this,"_texture",null),m(this,"_columns",1),m(this,"_rows",1),m(this,"_frameRate",0),m(this,"_index",0),m(this,"_origin",null);for(let f in _a)Object.defineProperty(this,f,_a[f]);this.noStroke(),this.noFill(),t instanceof Mt?this.texture=t:typeof t=="string"&&(this.texture=new Mt(t)),this.origin=new $,this._update(),typeof s=="number"&&(this.columns=s),typeof a=="number"&&(this.rows=a),typeof c=="number"&&(this.frameRate=c),this.index=0}play(t,e,r){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=Z.performance.now(),typeof t=="number"&&(this._firstFrame=t),typeof e=="number"&&(this._lastFrame=e),typeof r=="function"?this._onLastFrame=r:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=0,this}clone(t){let e=new io(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);return this.playing&&(e.play(this._firstFrame,this._lastFrame),e._loop=this._loop),t&&t.add(e),e}toObject(){let t=super.toObject.call(this);return t.texture=this.texture.toObject(),t.columns=this.columns,t.rows=this.rows,t.frameRate=this.frameRate,t.index=this.index,t._firstFrame=this._firstFrame,t._lastFrame=this._lastFrame,t._loop=this._loop,t}_update(){let t=this._texture,e=this._columns,r=this._rows,s,a,c,f,p,y,_,T,E;if(t&&((this._flagColumns||this._flagRows)&&(this._amount=this._columns*this._rows),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._flagTexture&&(this.fill=t),t.loaded)){_=t.image.width,T=t.image.height,s=_/e,a=T/r,f=this._amount,this.width!==s&&(this.width=s),this.height!==a&&(this.height=a),this._playing&&this._frameRate>0&&(Z.isNaN(this._lastFrame)&&(this._lastFrame=f-1),c=Z.performance.now()-this._startTime,E=this._lastFrame+1,p=1e3*(E-this._firstFrame)/this._frameRate,this._loop?c=c%p:c=Math.min(c,p),y=de(this._firstFrame,E,c/p),y=Math.floor(y),y!==this._index&&(this._index=y,y>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()));let A=this._index%e,x=Math.floor(this._index/e),k=-s*A+(_-s)/2,N=-a*x+(T-a)/2;k!==t.offset.x&&(t.offset.x=k),N!==t.offset.y&&(t.offset.y=N)}return super._update.call(this),this}flagReset(){return this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=!1,super.flagReset.call(this),this}},Ur=io;m(Ur,"Properties",["texture","columns","rows","frameRate","index"]);var _a={texture:{enumerable:!0,get:function(){return this._texture},set:function(t){this._texture=t,this._flagTexture=!0}},columns:{enumerable:!0,get:function(){return this._columns},set:function(t){this._columns=t,this._flagColumns=!0}},rows:{enumerable:!0,get:function(){return this._rows},set:function(t){this._rows=t,this._flagRows=!0}},frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(t){this._frameRate=t,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(t){this._index=t,this._flagIndex=!0}}},In=Math.cos,Nn=Math.sin,Pr=class extends Tt{constructor(t,e,r,s){let a=s?Math.max(s,2):4,c=[];for(let f=0;f<a;f++)c.push(new vt(0,0,0,0,0,0));super(c,!0,!0,!0),m(this,"_flagRadius",!1),m(this,"_radius",0);for(let f in ma)Object.defineProperty(this,f,ma[f]);typeof r=="number"&&(this.radius=r),this._update(),typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagRadius){let t=this.vertices.length;!this._closed&&t>2&&(t-=1);let e=4/3*Math.tan(Math.PI/(t*2)),r=this._radius,s=r*e;for(let a=0;a<this.vertices.length;a++){let f=a/t*oe,p=r*In(f),y=r*Nn(f),_=s*In(f-te),T=s*Nn(f-te),E=s*In(f+te),A=s*Nn(f+te),x=this.vertices[a];x.command=a===0?V.move:V.curve,x.set(p,y),x.controls.left.set(_,T),x.controls.right.set(E,A)}}return super._update.call(this),this}flagReset(){return this._flagRadius=!1,super.flagReset.call(this),this}clone(t){let e=new Pr(0,0,this.radius,this.vertices.length);e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix);for(let r=0;r<Tt.Properties.length;r++){let s=Tt.Properties[r];e[s]=this[s]}return t&&t.add(e),e}toObject(){let t=super.toObject.call(this);for(let e=0;e<Pr.Properties.length;e++){let r=Pr.Properties[e];t[r]=this[r]}return t}},Vr=Pr;m(Vr,"Properties",["radius"]);var ma={radius:{enumerable:!0,get:function(){return this._radius},set:function(t){this._radius=t,this._flagRadius=!0}}},jn=Math.cos,Dn=Math.sin,Lr=class extends Tt{constructor(t,e,r,s,a){typeof s!="number"&&typeof r=="number"&&(s=r);let c=a?Math.max(a,2):4,f=[];for(let p=0;p<c;p++)f.push(new vt);super(f,!0,!0,!0),m(this,"_flagWidth",!1),m(this,"_flagHeight",!1),m(this,"_width",0),m(this,"_height",0);for(let p in ya)Object.defineProperty(this,p,ya[p]);typeof r=="number"&&(this.width=r*2),typeof s=="number"&&(this.height=s*2),this._update(),typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight){let t=this.vertices.length;!this._closed&&t>2&&(t-=1);let e=4/3*Math.tan(Math.PI/(this.vertices.length*2)),r=this._width/2,s=this._height/2;for(let a=0;a<this.vertices.length;a++){let f=a/t*oe,p=r*jn(f),y=s*Dn(f),_=r*e*jn(f-te),T=s*e*Dn(f-te),E=r*e*jn(f+te),A=s*e*Dn(f+te),x=this.vertices[a];x.command=a===0?V.move:V.curve,x.set(p,y),x.controls.left.set(_,T),x.controls.right.set(E,A)}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=!1,super.flagReset.call(this),this}clone(t){let e=this.width/2,r=this.height/2,s=this.vertices.length,a=new Lr(0,0,e,r,s);a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix);for(let c=0;c<Tt.Properties.length;c++){let f=Tt.Properties[c];a[f]=this[f]}return t&&t.add(a),a}toObject(){let t=super.toObject.call(this);for(let e=0;e<Lr.Properties.length;e++){let r=Lr.Properties[e];t[r]=this[r]}return t}},Wr=Lr;m(Wr,"Properties",["width","height"]);var ya={width:{enumerable:!0,get:function(){return this._width},set:function(t){this._width=t,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(t){this._height=t,this._flagHeight=!0}}},Xn=class extends Tt{constructor(t,e,r,s){let a=[new vt(t,e),new vt(r,s)];super(a);for(let c in ba)Object.defineProperty(this,c,ba[c]);this.vertices[0].command=V.move,this.vertices[1].command=V.line,this.automatic=!1}},ba={left:{enumerable:!0,get:function(){return this.vertices[0]},set:function(t){if(Z.isObject(t))this.vertices.splice(0,1,t);else{let e=new _e("Two.Line.x argument is not an object.");console.warn(e.name,e.message)}}},right:{enumerable:!0,get:function(){return this.vertices[1]},set:function(t){if(Z.isObject(t))this.vertices.splice(1,1,t);else{let e=new _e("Two.Line.y argument is not an object.");console.warn(e.name,e.message)}}}},Ir=class extends Tt{constructor(t,e,r,s,a){typeof a>"u"&&typeof r=="number"&&typeof s=="number"&&(a=Math.floor(Math.min(r,s)/12));let c=[];for(let f=0;f<10;f++)c.push(new vt(0,0,0,0,0,0,f===0?V.move:V.curve));super(c),m(this,"_flagWidth",!1),m(this,"_flagHeight",!1),m(this,"_flagRadius",!1),m(this,"_width",0),m(this,"_height",0),m(this,"_radius",12);for(let f in va)Object.defineProperty(this,f,va[f]);this.closed=!0,this.automatic=!1,this._renderer.flagRadius=Jl.bind(this),typeof r=="number"&&(this.width=r),typeof s=="number"&&(this.height=s),typeof a=="number"&&(this.radius=a),this._update(),typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagRadius){let t=this._width,e=this._height,r,s;this._radius instanceof $?(r=this._radius.x,s=this._radius.y):(r=this._radius,s=this._radius);let a,c=t/2,f=e/2;a=this.vertices[0],a.x=-(c-r),a.y=-f,a=this.vertices[1],a.x=c-r,a.y=-f,a.controls.left.clear(),a.controls.right.x=r,a.controls.right.y=0,a=this.vertices[2],a.x=c,a.y=-(f-s),a.controls.right.clear(),a.controls.left.clear(),a=this.vertices[3],a.x=c,a.y=f-s,a.controls.left.clear(),a.controls.right.x=0,a.controls.right.y=s,a=this.vertices[4],a.x=c-r,a.y=f,a.controls.right.clear(),a.controls.left.clear(),a=this.vertices[5],a.x=-(c-r),a.y=f,a.controls.left.clear(),a.controls.right.x=-r,a.controls.right.y=0,a=this.vertices[6],a.x=-c,a.y=f-s,a.controls.left.clear(),a.controls.right.clear(),a=this.vertices[7],a.x=-c,a.y=-(f-s),a.controls.left.clear(),a.controls.right.x=0,a.controls.right.y=-s,a=this.vertices[8],a.x=-(c-r),a.y=-f,a.controls.left.clear(),a.controls.right.clear(),a=this.vertices[9],a.copy(this.vertices[8])}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,super.flagReset.call(this),this}clone(t){let e=this.width,r=this.height,s=this.radius,a=new Ir(0,0,e,r,s);a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix);for(let c=0;c<Tt.Properties.length;c++){let f=Tt.Properties[c];a[f]=this[f]}return t&&t.add(a),a}toObject(){let t=super.toObject.call(this);for(let e=0;e<Ir.Properties.length;e++){let r=Ir.Properties[e];t[r]=this[r]}return t.radius=typeof this.radius=="number"?this.radius:this.radius.toObject(),t}},$r=Ir;m($r,"Properties",["width","height","radius"]);var va={width:{enumerable:!0,get:function(){return this._width},set:function(t){this._width=t,this._flagWidth=!0}},height:{enumerable:!0,get:function(){return this._height},set:function(t){this._height=t,this._flagHeight=!0}},radius:{enumerable:!0,get:function(){return this._radius},set:function(t){this._radius instanceof $&&this._radius.unbind(B.Types.change,this._renderer.flagRadius),this._radius=t,this._radius instanceof $&&this._radius.bind(B.Types.change,this._renderer.flagRadius),this._flagRadius=!0}}};function Jl(){this._flagRadius=!0}var zn,xa=Math.min,wa=Math.max;zt.document&&(zn=document.createElement("canvas"));var Be=class extends ei{constructor(t,e,r,s){super(),m(this,"_flagValue",!0),m(this,"_flagFamily",!0),m(this,"_flagSize",!0),m(this,"_flagLeading",!0),m(this,"_flagAlignment",!0),m(this,"_flagBaseline",!0),m(this,"_flagStyle",!0),m(this,"_flagWeight",!0),m(this,"_flagDecoration",!0),m(this,"_flagFill",!0),m(this,"_flagStroke",!0),m(this,"_flagLinewidth",!0),m(this,"_flagOpacity",!0),m(this,"_flagVisible",!0),m(this,"_flagMask",!1),m(this,"_flagClip",!1),m(this,"_value",""),m(this,"_family","sans-serif"),m(this,"_size",13),m(this,"_leading",17),m(this,"_alignment","center"),m(this,"_baseline","middle"),m(this,"_style","normal"),m(this,"_weight",500),m(this,"_decoration","none"),m(this,"_fill","#000"),m(this,"_stroke","transparent"),m(this,"_linewidth",1),m(this,"_opacity",1),m(this,"_visible",!0),m(this,"_mask",null),m(this,"_clip",!1),m(this,"_dashes",null);for(let a in ka)Object.defineProperty(this,a,ka[a]);if(this._renderer.type="text",this._renderer.flagFill=Zl.bind(this),this._renderer.flagStroke=th.bind(this),this.value=t,typeof e=="number"&&(this.translation.x=e),typeof r=="number"&&(this.translation.y=r),this.dashes=[],this.dashes.offset=0,!Z.isObject(s))return this;for(let a=0;a<Be.Properties.length;a++){let c=Be.Properties[a];c in s&&(this[c]=s[c])}}static Measure(t){if(zn){let e=zn.getContext("2d");e.font=[t._style,t._weight,`${t._size}px/${t._leading}px`,t._family].join(" ");let r=e.measureText(t.value,0,0),s=r.actualBoundingBoxDescent+r.actualBoundingBoxAscent;return{width:r.width,height:s}}else{let e=this.value.length*this.size*Be.Ratio,r=this.leading;return console.warn("Two.Text: unable to accurately measure text, so using an approximation."),{width:e,height:r}}}clone(t){let e=new Be(this.value);e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale;for(let r=0;r<Be.Properties.length;r++){let s=Be.Properties[r];e[s]=this[s]}return this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}toObject(){let t={translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale};this.matrix.manual&&(t.matrix=this.matrix.toObject());for(let e=0;e<Be.Properties.length;e++){let r=Be.Properties[e];t[r]=this[r]}return t}noFill(){return this.fill="transparent",this}noStroke(){return this.stroke=void 0,this.linewidth=void 0,this}getBoundingClientRect(t){let e,r,s,a,c;this._update(!0),e=t?this.matrix:this.worldMatrix;let{width:f,height:p}=Be.Measure(this),y=(this._linewidth||0)/2;switch(this.alignment){case"left":r=-y,s=f+y;break;case"right":r=-(f+y),s=y;break;default:r=-(f/2+y),s=f/2+y}switch(this.baseline){case"middle":a=-(p/2+y),c=p/2+y;break;default:a=-(p+y),c=y}let[_,T]=e.multiply(r,a),[E,A]=e.multiply(r,c),[x,k]=e.multiply(s,a),[N,M]=e.multiply(s,c);return a=xa(T,A,k,M),r=xa(_,E,x,N),s=wa(_,E,x,N),c=wa(T,A,k,M),{top:a,left:r,right:s,bottom:c,width:s-r,height:c-a}}flagReset(){return super.flagReset.call(this),this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=this._flagWeight=this._flagStyle=!1,this}},Re=Be;m(Re,"Ratio",.6);m(Re,"Properties",["value","family","size","leading","alignment","linewidth","style","weight","decoration","baseline","opacity","visible","fill","stroke"]);var ka={value:{enumerable:!0,get:function(){return this._value},set:function(t){this._value=t,this._flagValue=!0}},family:{enumerable:!0,get:function(){return this._family},set:function(t){this._family=t,this._flagFamily=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(t){this._size=t,this._flagSize=!0}},leading:{enumerable:!0,get:function(){return this._leading},set:function(t){this._leading=t,this._flagLeading=!0}},alignment:{enumerable:!0,get:function(){return this._alignment},set:function(t){this._alignment=t,this._flagAlignment=!0}},linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(t){this._linewidth=t,this._flagLinewidth=!0}},style:{enumerable:!0,get:function(){return this._style},set:function(t){this._style=t,this._flagStyle=!0}},weight:{enumerable:!0,get:function(){return this._weight},set:function(t){this._weight=t,this._flagWeight=!0}},decoration:{enumerable:!0,get:function(){return this._decoration},set:function(t){this._decoration=t,this._flagDecoration=!0}},baseline:{enumerable:!0,get:function(){return this._baseline},set:function(t){this._baseline=t,this._flagBaseline=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._opacity=t,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(t){this._visible=t,this._flagVisible=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof Kt||this._fill instanceof Bt||this._fill instanceof qt||this._fill instanceof Mt)&&this._fill.unbind(B.Types.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof Kt||this._fill instanceof Bt||this._fill instanceof qt||this._fill instanceof Mt)&&this._fill.bind(B.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof Kt||this._stroke instanceof Bt||this._stroke instanceof qt||this._stroke instanceof Mt)&&this._stroke.unbind(B.Types.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof Kt||this._stroke instanceof Bt||this._stroke instanceof qt||this._stroke instanceof Mt)&&this._stroke.bind(B.Types.change,this._renderer.flagStroke)}},mask:{enumerable:!0,get:function(){return this._mask},set:function(t){this._mask=t,this._flagMask=!0,Z.isObject(t)&&!t.clip&&(t.clip=!0)}},clip:{enumerable:!0,get:function(){return this._clip},set:function(t){this._clip=t,this._flagClip=!0}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(t){typeof t.offset!="number"&&(t.offset=this.dashes&&this._dashes.offset||0),this._dashes=t}}};function Zl(){this._flagFill=!0}function th(){this._flagStroke=!0}var qe={path:/[+-]?(?:\d*\.\d+|\d+)(?:[eE][+-]\d+)?/g,cssBackgroundImage:/url\(['"]?#([\w\d-_]*)['"]?\)/i,unitSuffix:/[a-zA-Z%]*/i},eh={start:"left",middle:"center",end:"right"},Ta=["id","class","transform","xmlns","viewBox"],ih=["x","y","width","height","href","xlink:href"];function rh(t){return eh[t]}function nh(t){let e=t.getAttribute("dominant-baseline"),r=t.getAttribute("alignment-baseline");return e||r}function tr(t){return t.replace(/svg:/ig,"").toLowerCase()}function Sa(t,e){if(e.x+=t.translateX,e.y+=t.translateY,e.x*=t.scaleX,e.y*=t.scaleY,t.rotation!==0){let r=e.length();e.x=r*Math.cos(t.rotation),e.y=r*Math.sin(t.rotation)}}function sh(t,e){e||(e={});let r=t.split(";");for(let s=0;s<r.length;s++){let a=r[s].split(":"),c=a[0],f=a[1];typeof c>"u"||typeof f>"u"||(e[c]=f.replace(/\s/,""))}return e}function ah(t){let e={},r=oh(t),s=Math.max(r.length,t.style.length);for(let a=0;a<s;a++){let c=t.style[a],f=r[a];c&&(e[c]=t.style[c]),f&&(e[f]=t.getAttribute(f))}return e}function oh(t){let e=t.getAttributeNames();for(let r=0;r<Ta.length;r++){let s=Ta[r],a=Array.prototype.indexOf.call(e,s);a>=0&&e.splice(a,1)}return e}function lh(t,e){let r=e.split(/[\s,]/),s=-parseFloat(r[0]),a=-parseFloat(r[1]),c=parseFloat(r[2]),f=parseFloat(r[3]);if(s&&a)for(let E=0;E<t.children.length;E++){let A=t.children[E];"translation"in A?A.translation.add(s,a):"x"in A?A.x=s:"y"in A&&(A.y=a)}let p=typeof t.x=="number",y=typeof t.y=="number",_=typeof t.width=="number",T=typeof t.height=="number";return p&&(t.translation.x+=t.x),y&&(t.translation.y+=t.y),(_||T)&&(t.scale=new $(1,1)),_&&(t.scale.x=t.width/c),T&&(t.scale.y=t.height/f),t.mask=new ci(0,0,c,f),t.mask.origin.set(-c/2,-f/2),t}function we(t,e,r){let s={},a={},c={},f,p,y,_,T,E,A,x,k,N,M,R,L,q,z,H,l;if(t===null)return s;if(zt.getComputedStyle){let tt=zt.getComputedStyle(t);for(f=tt.length;f--;)y=tt[f],_=tt[y],typeof _<"u"&&(s[y]=_)}for(f=0;f<t.attributes.length;f++)E=t.attributes[f],/style/i.test(E.nodeName)?sh(E.value,c):a[E.nodeName]=E.value;typeof s.opacity<"u"&&(s["stroke-opacity"]=s.opacity,s["fill-opacity"]=s.opacity,delete s.opacity),r&&Z.defaults(s,r),Z.extend(s,c,a),s.visible=!(typeof s.display>"u"&&/none/i.test(s.display))||typeof s.visibility>"u"&&/hidden/i.test(s.visibility);for(y in s)switch(_=s[y],y){case"gradientTransform":if(/none/i.test(_)||(p=t.gradientTransform&&t.gradientTransform.baseVal&&t.gradientTransform.baseVal.length>0?t.gradientTransform.baseVal[0].matrix:t.getCTM?t.getCTM():null,p===null))break;switch(A=Pi(p),e._renderer.type){case"linear-gradient":Sa(A,e.left),Sa(A,e.right);break;case"radial-gradient":e.center.x+=A.translateX,e.center.y+=A.translateY,e.focal.x+=A.translateX,e.focal.y+=A.translateY,e.radius*=Math.max(A.scaleX,A.scaleY);break}break;case"transform":if(/none/i.test(_)||(p=t.transform&&t.transform.baseVal&&t.transform.baseVal.length>0?t.transform.baseVal[0].matrix:t.getCTM?t.getCTM():null,p===null))break;Qt.AutoCalculateImportedMatrices?(A=Pi(p),e.translation.set(A.translateX,A.translateY),e.rotation=Math.PI*(A.rotation/180),e.scale=new $(A.scaleX,A.scaleY),x=parseFloat((s.x+"").replace("px")),k=parseFloat((s.y+"").replace("px")),x&&(e.translation.x=x),k&&(e.translation.y=k)):(p=t.getCTM(),e._matrix.manual=!0,e._matrix.set(p.a,p.b,p.c,p.d,p.e,p.f));break;case"visible":if(e instanceof Gt){e._visible=_;break}e.visible=_;break;case"stroke-linecap":if(e instanceof Gt){e._cap=_;break}e.cap=_;break;case"stroke-linejoin":if(e instanceof Gt){e._join=_;break}e.join=_;break;case"stroke-miterlimit":if(e instanceof Gt){e._miter=_;break}e.miter=_;break;case"stroke-width":if(e instanceof Gt){e._linewidth=parseFloat(_);break}e.linewidth=parseFloat(_);break;case"opacity":case"stroke-opacity":case"fill-opacity":if(e instanceof Gt){e._opacity=parseFloat(_);break}e.opacity=parseFloat(_);break;case"clip-path":if(qe.cssBackgroundImage.test(_)&&(N=_.replace(qe.cssBackgroundImage,"$1"),Dt.defs.current&&Dt.defs.current.contains(N)&&(R=Dt.defs.current.get(N),R&&R.childNodes.length>0)))switch(R=R.childNodes[0],L=tr(R.nodeName),e.mask=Dt[L].call(this,R,{}),e._renderer.type){case"text":case"path":e.position.add(e.mask.position),e.mask.position.clear();break}break;case"fill":case"stroke":T=(e instanceof Gt?"_":"")+y,qe.cssBackgroundImage.test(_)?(N=_.replace(qe.cssBackgroundImage,"$1"),Dt.defs.current&&Dt.defs.current.contains(N)?(R=Dt.defs.current.get(N),R.object||(L=tr(R.nodeName),R.object=Dt[L].call(this,R,{})),R=R.object):(M=fh(this),R=M.getById(N)),e[T]=R):e[T]=/none/i.test(_)?"transparent":_;break;case"id":e.id=_;break;case"class":case"className":e.classList=_.split(" "),e._flagClassName=!0;break;case"x":case"y":if(q=e instanceof Kt,z=e instanceof Bt,H=e instanceof qt,q||z||H)break;_.match("[a-z%]$")&&!_.endsWith("px")&&(l=new _e("only pixel values are supported with the "+y+" attribute."),console.warn(l.name,l.message)),e.translation[y]=parseFloat(_);break;case"font-family":e instanceof Re&&(e.family=_);break;case"font-size":e instanceof Re&&(e.size=_);break;case"font-weight":e instanceof Re&&(e.weight=_);break;case"font-style":e instanceof Re&&(e.style=_);break;case"text-decoration":e instanceof Re&&(e.decoration=_);break;case"line-height":e instanceof Re&&(e.leading=_);break}return Object.keys(t.dataset).length&&(e.dataset=t.dataset),s}function hh(t,e){for(let r=0,s=t.childNodes.length;r<s;r++){let a=t.childNodes[r];!a.id||tr(t.nodeName)==="#text"||e.add(a.id,a)}}function fh(t){for(;t.parent;)t=t.parent;return t.scene}var Dt={svg:function(t){let e=Dt.defs.current=new zr,r=t.getElementsByTagName("defs");for(let k=0;k<r.length;k++)hh(r[k],e);let s=Dt.g.call(this,t),a=t.getAttribute("viewBox"),c=t.getAttribute("x"),f=t.getAttribute("y"),p=t.getAttribute("width"),y=t.getAttribute("height");s.defs=e;let _=a!==null,T=c!==null,E=f!==null,A=p!==null,x=y!==null;return T&&(s.x=parseFloat(c.replace(qe.unitSuffix,""))),E&&(s.y=parseFloat(f.replace(qe.unitSuffix,""))),A&&(s.width=parseFloat(p.replace(qe.unitSuffix,""))),x&&(s.height=parseFloat(y.replace(qe.unitSuffix,""))),_&&lh(s,a),delete Dt.defs.current,s},defs:function(t){return null},use:function(t,e){let r,s=t.getAttribute("href")||t.getAttribute("xlink:href");if(!s)return r=new _e("encountered <use /> with no href."),console.warn(r.name,r.message),null;let a=s.slice(1);if(!Dt.defs.current.contains(a))return r=new _e("unable to find element for reference "+s+"."),console.warn(r.name,r.message),null;let f=Dt.defs.current.get(a).cloneNode(!0);for(let y=0;y<t.attributes.length;y++){let _=t.attributes[y],T=ih.includes(_.nodeName),E=!f.hasAttribute(_.nodeName);(T||E)&&f.setAttribute(_.nodeName,_.value)}let p=tr(f.nodeName);return Dt[p].call(this,f,e)},g:function(t,e){let r=new Gt;we.call(this,t,r,e),this.add(r);let s=ah.call(this,t);for(let a=0,c=t.childNodes.length;a<c;a++){let f=t.childNodes[a],p=f.nodeName;if(!p)return;let y=tr(p);if(y in Dt){let _=Dt[y].call(r,f,s);!!_&&!_.parent&&r.add(_)}}return r},polygon:function(t,e){let r;typeof t=="string"?r=t:r=t.getAttribute("points");let s=[];r.replace(/(-?[\d.eE-]+)[,|\s](-?[\d.eE-]+)/g,function(c,f,p){s.push(new vt(parseFloat(f),parseFloat(p)))});let a=new Tt(s,!0).noStroke();return a.fill="black",we.call(this,t,a,e),a},polyline:function(t,e){let r=Dt.polygon.call(this,t,e);return r.closed=!1,r},path:function(t,e){let r;typeof t=="string"?(r=t,t=null):r=t.getAttribute("d");let s=[],a=!1,c=!1;if(r){let p=new vt,y,_,T=r.match(/[a-df-z][^a-df-z]*/ig),E=T.length-1;Z.each(T.slice(0),function(A,x){let k=A.slice(1).trim().match(qe.path),N=A[0],M=N.toLowerCase(),R,L,q,z,H,l=[];switch(x===0&&(T=[]),M){case"h":case"v":k.length>1&&(R=1);break;case"m":case"l":case"t":k.length>2&&(R=2);break;case"s":case"q":k.length>4&&(R=4);break;case"c":k.length>6&&(R=6);break;case"a":k.length>7&&(R=7);break}if(R){for(L=0,q=k.length,H=0;L<q;L+=R){if(z=N,H>0)switch(N){case"m":z="l";break;case"M":z="L";break}l.push(z+k.slice(L,L+R).join(" ")),H++}T=Array.prototype.concat.apply(T,l)}else T.push(A)}),Z.each(T,function(A,x){let k,N,M,R=A[0],L=R.toLowerCase();_=A.slice(1).trim().match(qe.path),c=R===L;let q,z,H,l,tt,G,st,J,mt,Q,St,gt,Wt,At,ot,rt,_t;switch(L){case"z":if(x>=E)a=!0;else{N=p.x,M=p.y,k=new vt(N,M,void 0,void 0,void 0,void 0,V.close);for(let yt=s.length-1;yt>=0;yt--){let K=s[yt];if(/m/i.test(K.command)){p=K;break}}}break;case"m":case"l":y=void 0,N=parseFloat(_[0]),M=parseFloat(_[1]),k=new vt(N,M,void 0,void 0,void 0,void 0,/m/i.test(L)?V.move:V.line),c&&k.addSelf(p),p=k;break;case"h":case"v":Q=/h/i.test(L)?"x":"y",St=/x/i.test(Q)?"y":"x",k=new vt(void 0,void 0,void 0,void 0,void 0,void 0,V.line),k[Q]=parseFloat(_[0]),k[St]=p[St],c&&(k[Q]+=p[Q]),p=k;break;case"c":case"s":q=p.x,z=p.y,y||(y=new $),/c/i.test(L)?(H=parseFloat(_[0]),l=parseFloat(_[1]),tt=parseFloat(_[2]),G=parseFloat(_[3]),st=parseFloat(_[4]),J=parseFloat(_[5])):(mt=Bn(p,y,c),H=mt.x,l=mt.y,tt=parseFloat(_[0]),G=parseFloat(_[1]),st=parseFloat(_[2]),J=parseFloat(_[3])),c&&(H+=q,l+=z,tt+=q,G+=z,st+=q,J+=z),p.controls.right.set(H-p.x,l-p.y),k=new vt(st,J,tt-st,G-J,void 0,void 0,V.curve),p=k,y=k.controls.left;break;case"t":case"q":q=p.x,z=p.y,y||(y=new $),/q/i.test(L)?(H=parseFloat(_[0]),l=parseFloat(_[1]),tt=parseFloat(_[0]),G=parseFloat(_[1]),st=parseFloat(_[2]),J=parseFloat(_[3])):(mt=Bn(p,y,c),H=mt.x,l=mt.y,tt=mt.x,G=mt.y,st=parseFloat(_[0]),J=parseFloat(_[1])),c&&(H+=q,l+=z,tt+=q,G+=z,st+=q,J+=z),p.controls.right.set((H-p.x)*.33,(l-p.y)*.33),k=new vt(st,J,tt-st,G-J,void 0,void 0,V.curve),p=k,y=k.controls.left;break;case"a":q=p.x,z=p.y,Wt=parseFloat(_[0]),At=parseFloat(_[1]),ot=parseFloat(_[2]),rt=parseFloat(_[3]),_t=parseFloat(_[4]),st=parseFloat(_[5]),J=parseFloat(_[6]),c&&(st+=q,J+=z),gt=new vt(st,J),gt.command=V.arc,gt.rx=Wt,gt.ry=At,gt.xAxisRotation=ot,gt.largeArcFlag=rt,gt.sweepFlag=_t,k=gt,p=gt,y=void 0;break}k&&(Array.isArray(k)?s=s.concat(k):s.push(k))})}r=new Tt(s,a,void 0,!0).noStroke(),r.fill="black";let f=r.getBoundingClientRect(!0);return f.centroid={x:f.left+f.width/2,y:f.top+f.height/2},Z.each(r.vertices,function(p){p.subSelf(f.centroid)}),we.call(this,t,r,e),r.translation.addSelf(f.centroid),r},circle:function(t,e){let r=parseFloat(t.getAttribute("cx")),s=parseFloat(t.getAttribute("cy")),a=parseFloat(t.getAttribute("r")),c=new Vr(0,0,a).noStroke();return c.fill="black",we.call(this,t,c,e),c.translation.x=r,c.translation.y=s,c},ellipse:function(t,e){let r=parseFloat(t.getAttribute("cx")),s=parseFloat(t.getAttribute("cy")),a=parseFloat(t.getAttribute("rx")),c=parseFloat(t.getAttribute("ry")),f=new Wr(0,0,a,c).noStroke();return f.fill="black",we.call(this,t,f,e),f.translation.x=r,f.translation.y=s,f},rect:function(t,e){let r=parseFloat(t.getAttribute("rx")),s=parseFloat(t.getAttribute("ry"));if(!Z.isNaN(r)||!Z.isNaN(s))return Dt["rounded-rect"](t);let a=parseFloat(t.getAttribute("width")),c=parseFloat(t.getAttribute("height")),f=a/2,p=c/2,y=new ci(0,0,a,c).noStroke();return y.fill="black",we.call(this,t,y,e),y.translation.x+=f,y.translation.y+=p,y},"rounded-rect":function(t,e){let r=parseFloat(t.getAttribute("rx"))||0,s=parseFloat(t.getAttribute("ry"))||0,a=parseFloat(t.getAttribute("width")),c=parseFloat(t.getAttribute("height")),f=a/2,p=c/2,y=new $(r,s),_=new $r(0,0,a,c,y).noStroke();return _.fill="black",we.call(this,t,_,e),_.translation.x+=f,_.translation.y+=p,_},line:function(t,e){let r=parseFloat(t.getAttribute("x1")),s=parseFloat(t.getAttribute("y1")),a=parseFloat(t.getAttribute("x2")),c=parseFloat(t.getAttribute("y2")),f=new Xn(r,s,a,c).noFill();return we.call(this,t,f,e),f},lineargradient:function(t,e){let r=t.getAttribute("gradientUnits"),s=t.getAttribute("spreadMethod");r||(r="objectBoundingBox"),s||(s="pad");let a=parseFloat(t.getAttribute("x1")||0),c=parseFloat(t.getAttribute("y1")||0),f=parseFloat(t.getAttribute("x2")||0),p=parseFloat(t.getAttribute("y2")||0),y=(f+a)/2,_=(p+c)/2;/userSpaceOnUse/i.test(r)&&(a-=y,c-=_,f-=y,p-=_);let T=[];for(let A=0;A<t.children.length;A++){let x=t.children[A],k=x.getAttribute("offset");/%/ig.test(k)&&(k=parseFloat(k.replace(/%/ig,""))/100),k=parseFloat(k);let N=x.getAttribute("stop-color"),M=x.getAttribute("stop-opacity"),R=x.getAttribute("style"),L;N===null&&(L=R?R.match(/stop-color:\s?([#a-fA-F0-9]*)/):!1,N=L&&L.length>1?L[1]:void 0),M===null?(L=R?R.match(/stop-opacity:\s?([0-9.-]*)/):!1,M=L&&L.length>1?parseFloat(L[1]):1):M=parseFloat(M),T.push(new ri(k,N,M))}let E=new Bt(a,c,f,p,T);return E.spread=s,E.units=r,we.call(this,t,E,e),E},radialgradient:function(t,e){let r=t.getAttribute("gradientUnits"),s=t.getAttribute("spreadMethod");r||(r="objectBoundingBox"),s||(s="pad");let a=parseFloat(t.getAttribute("cx"))||0,c=parseFloat(t.getAttribute("cy"))||0,f=parseFloat(t.getAttribute("r")),p=parseFloat(t.getAttribute("fx")),y=parseFloat(t.getAttribute("fy"));Z.isNaN(p)&&(p=a),Z.isNaN(y)&&(y=c);let _=Math.abs(a+p)/2,T=Math.abs(c+y)/2;/userSpaceOnUse/i.test(r)&&(a-=_,c-=T,p-=_,y-=T);let E=[];for(let x=0;x<t.children.length;x++){let k=t.children[x],N=k.getAttribute("offset");/%/ig.test(N)&&(N=parseFloat(N.replace(/%/ig,""))/100),N=parseFloat(N);let M=k.getAttribute("stop-color"),R=k.getAttribute("stop-opacity"),L=k.getAttribute("style"),q;M===null&&(q=L?L.match(/stop-color:\s?([#a-fA-F0-9]*)/):!1,M=q&&q.length>1?q[1]:void 0),R===null?(q=L?L.match(/stop-opacity:\s?([0-9.-]*)/):!1,R=q&&q.length>1?parseFloat(q[1]):1):R=parseFloat(R),E.push(new ri(N,M,R))}let A=new qt(a,c,f,E,p,y);return A.spread=s,A.units=r,we.call(this,t,A,e),A},text:function(t,e){let r=rh(t.getAttribute("text-anchor"))||"left",s=nh(t)||"baseline",a=t.textContent,c=new Re(a);return we.call(this,t,c,e),c.alignment=r,c.baseline=s,c},clippath:function(t,e){return Dt.defs.current&&!Dt.defs.current.contains(t.id)&&Dt.defs.current.add(t.id,t),null},image:function(t,e){let r,s=t.getAttribute("href")||t.getAttribute("xlink:href");if(!s)return r=new _e("encountered <image /> with no href."),console.warn(r.name,r.message),null;let a=parseFloat(t.getAttribute("x"))||0,c=parseFloat(t.getAttribute("y"))||0,f=parseFloat(t.getAttribute("width")),p=parseFloat(t.getAttribute("height")),y=new Ur(s,a,c);return Z.isNaN(f)||(y.width=f),Z.isNaN(p)||(y.height=p),we.call(this,t,y,e),y}};function ro(t,e){let r=new XMLHttpRequest;return r.open("GET",t),r.onreadystatechange=function(){r.readyState===4&&r.status===200&&e(r.responseText)},r.send(),r}var Un=class extends ci{constructor(t,e,r,s){super(e,r,0,0),m(this,"_flagTextures",!1),m(this,"_flagFrameRate",!1),m(this,"_flagIndex",!1),m(this,"_amount",1),m(this,"_duration",0),m(this,"_index",0),m(this,"_startTime",0),m(this,"_playing",!1),m(this,"_firstFrame",0),m(this,"_lastFrame",0),m(this,"_loop",!0),m(this,"_textures",null),m(this,"_frameRate",0),m(this,"_origin",null);for(let a in Aa)Object.defineProperty(this,a,Aa[a]);this._renderer.flagTextures=ch.bind(this),this._renderer.bindTextures=uh.bind(this),this._renderer.unbindTextures=dh.bind(this),this.noStroke(),this.noFill(),Array.isArray(t)?this.textures=t.map(Ea.bind(this)):this.textures=[Ea(t)],this.origin=new $,this._update(),typeof s=="number"?this.frameRate=s:this.frameRate=Un.DefaultFrameRate,this.index=0}play(t,e,r){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=Z.performance.now(),typeof t=="number"&&(this._firstFrame=t),typeof e=="number"&&(this._lastFrame=e),typeof r=="function"?this._onLastFrame=r:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this}pause(){return this._playing=!1,this}stop(){return this._playing=!1,this._index=this._firstFrame,this}clone(t){let e=new Un(this.textures,this.translation.x,this.translation.y,this.frameRate);return e._loop=this._loop,this._playing&&e.play(),t&&t.add(e),e}toObject(){let t=super.toObject.call(this);return t.textures=this.textures.map(function(e){return e.toObject()}),t.frameRate=this.frameRate,t.index=this.index,t._firstFrame=this._firstFrame,t._lastFrame=this._lastFrame,t._loop=this._loop,t}_update(){let t=this._textures,e,r,s,a,c,f,p,y;return t&&(this._flagTextures&&(this._amount=t.length),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._playing&&this._frameRate>0?(a=this._amount,Z.isNaN(this._lastFrame)&&(this._lastFrame=a-1),s=Z.performance.now()-this._startTime,y=this._lastFrame+1,c=1e3*(y-this._firstFrame)/this._frameRate,this._loop?s=s%c:s=Math.min(s,c),p=de(this._firstFrame,y,s/c),p=Math.floor(p),p!==this._index&&(this._index=p,f=t[this._index],f.loaded&&(e=f.image.width,r=f.image.height,this.width!==e&&(this.width=e),this.height!==r&&(this.height=r),this.fill=f,p>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()))):(this._flagIndex||!(this.fill instanceof Mt))&&(f=t[this._index],f.loaded&&(e=f.image.width,r=f.image.height,this.width!==e&&(this.width=e),this.height!==r&&(this.height=r)),this.fill=f)),super._update.call(this),this}flagReset(){return this._flagTextures=this._flagFrameRate=!1,super.flagReset.call(this),this}},Xr=Un;m(Xr,"Properties",["textures","frameRate","index"]);m(Xr,"DefaultFrameRate",30);var Aa={frameRate:{enumerable:!0,get:function(){return this._frameRate},set:function(t){this._frameRate=t,this._flagFrameRate=!0}},index:{enumerable:!0,get:function(){return this._index},set:function(t){this._index=t,this._flagIndex=!0}},textures:{enumerable:!0,get:function(){return this._textures},set:function(t){let e=this._renderer.bindTextures,r=this._renderer.unbindTextures;this._textures&&this._textures.unbind(B.Types.insert,e).unbind(B.Types.remove,r),this._textures=new ii((t||[]).slice(0)),this._textures.bind(B.Types.insert,e).bind(B.Types.remove,r),e(this._textures)}}};function ch(){this._flagTextures=!0}function uh(t){let e=t.length;for(;e--;)t[e].bind(B.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function dh(t){let e=t.length;for(;e--;)t[e].unbind(B.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()}function Ea(t){if(t instanceof Mt)return t;if(typeof t=="string")return new Mt(t)}var Nr=class extends Tt{constructor(t,e,r,s,a,c,f){let p=f||Qt.Resolution*3,y=[];for(let _=0;_<p;_++)y.push(new vt);super(y,!0,!1,!0),m(this,"_flagStartAngle",!1),m(this,"_flagEndAngle",!1),m(this,"_flagInnerRadius",!1),m(this,"_flagOuterRadius",!1),m(this,"_startAngle",0),m(this,"_endAngle",oe),m(this,"_innerRadius",0),m(this,"_outerRadius",0);for(let _ in Ca)Object.defineProperty(this,_,Ca[_]);typeof r=="number"&&(this.innerRadius=r),typeof s=="number"&&(this.outerRadius=s),typeof a=="number"&&(this.startAngle=a),typeof c=="number"&&(this.endAngle=c),this._update(),typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){let t=this._startAngle,e=this._endAngle,r=this._innerRadius,s=this._outerRadius,a=me(t,oe)===me(e,oe),c=r>0,f=this.vertices,p=c?f.length/2:f.length,y,_=0,T,E,A,x,k,N,M,R,L;for(a?p--:c||(p-=2),T=0,E=p-1;T<p;T++){switch(A=T/E,x=f[_],k=A*(e-t)+t,N=(e-t)/p,M=s*Math.cos(k),R=s*Math.sin(k),T){case 0:y=V.move;break;default:y=V.curve}x.command=y,x.x=M,x.y=R,x.controls.left.clear(),x.controls.right.clear(),x.command===V.curve&&(L=s*N/Math.PI,x.controls.left.x=L*Math.cos(k-te),x.controls.left.y=L*Math.sin(k-te),x.controls.right.x=L*Math.cos(k+te),x.controls.right.y=L*Math.sin(k+te),T===1&&x.controls.left.multiplyScalar(2),T===E&&x.controls.right.multiplyScalar(2)),_++}if(c){for(a?(f[_].command=V.close,_++):(p--,E=p-1),T=0;T<p;T++)A=T/E,x=f[_],k=(1-A)*(e-t)+t,N=(e-t)/p,M=r*Math.cos(k),R=r*Math.sin(k),y=V.curve,T<=0&&(y=a?V.move:V.line),x.command=y,x.x=M,x.y=R,x.controls.left.clear(),x.controls.right.clear(),x.command===V.curve&&(L=r*N/Math.PI,x.controls.left.x=L*Math.cos(k+te),x.controls.left.y=L*Math.sin(k+te),x.controls.right.x=L*Math.cos(k-te),x.controls.right.y=L*Math.sin(k-te),T===1&&x.controls.left.multiplyScalar(2),T===E&&x.controls.right.multiplyScalar(2)),_++;f[_].copy(f[0]),f[_].command=V.line}else a||(f[_].command=V.line,f[_].x=0,f[_].y=0,_++,f[_].copy(f[0]),f[_].command=V.line)}return super._update.call(this),this}flagReset(){return super.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this}clone(t){let e=this.innerRadius,r=this.outerRadius,s=this.startAngle,a=this.endAngle,c=this.vertices.length,f=new Nr(0,0,e,r,s,a,c);f.translation.copy(this.translation),f.rotation=this.rotation,f.scale=this.scale,f.skewX=this.skewX,f.skewY=this.skewY,this.matrix.manual&&f.matrix.copy(this.matrix);for(let p=0;p<Tt.Properties.length;p++){let y=Tt.Properties[p];f[y]=this[y]}return t&&t.add(f),f}toObject(){let t=super.toObject.call(this);for(let e=0;e<Nr.Properties.length;e++){let r=Nr.Properties[e];t[r]=this[r]}return t}},Yn=Nr;m(Yn,"Properties",["startAngle","endAngle","innerRadius","outerRadius"]);var Ca={startAngle:{enumerable:!0,get:function(){return this._startAngle},set:function(t){this._startAngle=t,this._flagStartAngle=!0}},endAngle:{enumerable:!0,get:function(){return this._endAngle},set:function(t){this._endAngle=t,this._flagEndAngle=!0}},innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(t){this._innerRadius=t,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(t){this._outerRadius=t,this._flagOuterRadius=!0}}},ph=Math.ceil,gh=Math.floor,Qi=class extends ei{constructor(t){super(),m(this,"_flagVertices",!0),m(this,"_flagLength",!0),m(this,"_flagFill",!0),m(this,"_flagStroke",!0),m(this,"_flagLinewidth",!0),m(this,"_flagOpacity",!0),m(this,"_flagVisible",!0),m(this,"_flagSize",!0),m(this,"_flagSizeAttenuation",!0),m(this,"_length",0),m(this,"_fill","#fff"),m(this,"_stroke","#000"),m(this,"_linewidth",1),m(this,"_opacity",1),m(this,"_visible",!0),m(this,"_size",1),m(this,"_sizeAttenuation",!1),m(this,"_beginning",0),m(this,"_ending",1),m(this,"_dashes",null),m(this,"noFill",Tt.prototype.noFill),m(this,"noStroke",Tt.prototype.noStroke),m(this,"corner",Tt.prototype.corner),m(this,"center",Tt.prototype.center),m(this,"getBoundingClientRect",Tt.prototype.getBoundingClientRect),m(this,"_updateLength",Tt.prototype._updateLength);for(let e in Ra)Object.defineProperty(this,e,Ra[e]);this._renderer.type="points",this._renderer.flagVertices=Ka.bind(this),this._renderer.bindVertices=Qa.bind(this),this._renderer.unbindVertices=Ja.bind(this),this._renderer.flagFill=Za.bind(this),this._renderer.flagStroke=to.bind(this),this._renderer.vertices=null,this._renderer.collection=null,this.sizeAttenuation=!1,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.className="",this.visible=!0,this.vertices=t,this.dashes=[],this.dashes.offset=0}clone(t){let e=new Qi;for(let r=0;r<this.vertices.length;r++)e.vertices.push(this.vertices[r].clone());for(let r=0;r<Qi.Properties.length;r++){let s=Qi.Properties[r];e[s]=this[s]}return e.className=this.className,e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,this.matrix.manual&&e.matrix.copy(this.matrix),t&&t.add(e),e._update()}toObject(){let t={vertices:this.vertices.map(function(e){return e.toObject()})};return Z.each(Qi.Properties,function(e){t[e]=this[e]},this),t.className=this.className,t.translation=this.translation.toObject(),t.rotation=this.rotation,t.scale=this.scale instanceof $?this.scale.toObject():this.scale,t.skewX=this.skewX,t.skewY=this.skewY,this.matrix.manual&&(t.matrix=this.matrix.toObject()),t}subdivide(t){this._update();let e=[];for(let r=0;r<this.vertices.length;r++){let s=this.vertices[r],a=this.vertices[r-1];if(!a)continue;let c=s.x,f=s.y,p=a.x,y=a.y,_=Wn(c,f,c,f,p,y,p,y,t);e=e.concat(_)}return this.vertices=e,this}_update(){if(this._flagVertices){this._flagLength&&this._updateLength(void 0,!0);let t=Math.min(this._beginning,this._ending),e=Math.max(this._beginning,this._ending),r=qr(this,t*this._length),s=qr(this,e*this._length),a=ph(r),c=gh(s),f=0,p;this._renderer.vertices=[],this._renderer.collection=[];for(let y=0;y<this._collection.length;y++)y>=a&&y<=c&&(p=this._collection[y],this._renderer.collection.push(p),this._renderer.vertices[f*2+0]=p.x,this._renderer.vertices[f*2+1]=p.y,f++)}return super._update.apply(this,arguments),this}flagReset(){return this._flagVertices=this._flagLength=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagSize=this._flagSizeAttenuation=!1,super.flagReset.call(this),this}},Gn=Qi;m(Gn,"Properties",["fill","stroke","linewidth","opacity","visible","size","sizeAttenuation","beginning","ending"]);var Ra={linewidth:{enumerable:!0,get:function(){return this._linewidth},set:function(t){this._linewidth=t,this._flagLinewidth=!0}},opacity:{enumerable:!0,get:function(){return this._opacity},set:function(t){this._opacity=t,this._flagOpacity=!0}},visible:{enumerable:!0,get:function(){return this._visible},set:function(t){this._visible=t,this._flagVisible=!0}},size:{enumerable:!0,get:function(){return this._size},set:function(t){this._size=t,this._flagSize=!0}},sizeAttenuation:{enumerable:!0,get:function(){return this._sizeAttenuation},set:function(t){this._sizeAttenuation=t,this._flagSizeAttenuation=!0}},fill:{enumerable:!0,get:function(){return this._fill},set:function(t){(this._fill instanceof Kt||this._fill instanceof Bt||this._fill instanceof qt||this._fill instanceof Mt)&&this._fill.unbind(B.Types.change,this._renderer.flagFill),this._fill=t,this._flagFill=!0,(this._fill instanceof Kt||this._fill instanceof Bt||this._fill instanceof qt||this._fill instanceof Mt)&&this._fill.bind(B.Types.change,this._renderer.flagFill)}},stroke:{enumerable:!0,get:function(){return this._stroke},set:function(t){(this._stroke instanceof Kt||this._stroke instanceof Bt||this._stroke instanceof qt||this._stroke instanceof Mt)&&this._stroke.unbind(B.Types.change,this._renderer.flagStroke),this._stroke=t,this._flagStroke=!0,(this._stroke instanceof Kt||this._stroke instanceof Bt||this._stroke instanceof qt||this._stroke instanceof Mt)&&this._stroke.bind(B.Types.change,this._renderer.flagStroke)}},length:{get:function(){return this._flagLength&&this._updateLength(),this._length}},beginning:{enumerable:!0,get:function(){return this._beginning},set:function(t){this._beginning=t,this._flagVertices=!0}},ending:{enumerable:!0,get:function(){return this._ending},set:function(t){this._ending=t,this._flagVertices=!0}},vertices:{enumerable:!0,get:function(){return this._collection},set:function(t){let e=this._renderer.bindVertices,r=this._renderer.unbindVertices;this._collection&&this._collection.unbind(B.Types.insert,e).unbind(B.Types.remove,r),t instanceof ii?this._collection=t:this._collection=new ii(t||[]),this._collection.bind(B.Types.insert,e).bind(B.Types.remove,r),e(this._collection)}},dashes:{enumerable:!0,get:function(){return this._dashes},set:function(t){typeof t.offset!="number"&&(t.offset=this.dashes&&this._dashes.offset||0),this._dashes=t}}},_h=Math.cos,mh=Math.sin,jr=class extends Tt{constructor(t,e,r,s){s=Math.max(s||0,3),super(),m(this,"_flagWidth",!1),m(this,"_flagHeight",!1),m(this,"_flagSides",!1),m(this,"_radius",0),m(this,"_width",0),m(this,"_height",0),m(this,"_sides",0);for(let a in Ma)Object.defineProperty(this,a,Ma[a]);this.closed=!0,this.automatic=!1,typeof r=="number"&&(this.radius=r),typeof s=="number"&&(this.sides=s),this._update(),typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagWidth||this._flagHeight||this._flagSides){let t=this._sides,e=t+1,r=this.vertices.length;r>t&&(this.vertices.splice(t-1,r-t),r=t);for(let s=0;s<e;s++){let a=(s+.5)/t,c=oe*a+Math.PI/2,f=this._width*_h(c)/2,p=this._height*mh(c)/2;s>=r?this.vertices.push(new vt(f,p)):this.vertices[s].set(f,p),this.vertices[s].command=s===0?V.move:V.line}}return super._update.call(this),this}flagReset(){return this._flagWidth=this._flagHeight=this._flagSides=!1,super.flagReset.call(this),this}clone(t){let e=new jr(0,0,0,this.sides);e.translation.copy(this.translation),e.rotation=this.rotation,e.scale=this.scale,e.skewX=this.skewX,e.skewY=this.skewY,e.width=this.width,e.height=this.height,this.matrix.manual&&e.matrix.copy(this.matrix);for(let r=0;r<Tt.Properties.length;r++){let s=Tt.Properties[r];e[s]=this[s]}return t&&t.add(e),e}toObject(){let t=super.toObject.call(this);for(let e=0;e<jr.Properties.length;e++){let r=jr.Properties[e];t[r]=this[r]}return t}},Kn=jr;m(Kn,"Properties",["width","height","sides"]);var Ma={radius:{enumerable:!0,get:function(){return this._radius},set:function(t){this._radius=t,this.width=t*2,this.height=t*2}},width:{enumerable:!0,get:function(){return this._width},set:function(t){this._width=t,this._flagWidth=!0,this._radius=Math.max(this.width,this.height)/2}},height:{enumerable:!0,get:function(){return this._height},set:function(t){this._height=t,this._flagHeight=!0,this._radius=Math.max(this.width,this.height)/2}},sides:{enumerable:!0,get:function(){return this._sides},set:function(t){this._sides=t,this._flagSides=!0}}},yh=Math.cos,bh=Math.sin,Dr=class extends Tt{constructor(t,e,r,s,a){arguments.length<=3&&(s=r,r=s/2),(typeof a!="number"||a<=0)&&(a=5),super(),m(this,"_flagInnerRadius",!1),m(this,"_flagOuterRadius",!1),m(this,"_flagSides",!1),m(this,"_innerRadius",0),m(this,"_outerRadius",0),m(this,"_sides",0);for(let c in Fa)Object.defineProperty(this,c,Fa[c]);this.closed=!0,this.automatic=!1,typeof r=="number"&&(this.innerRadius=r),typeof s=="number"&&(this.outerRadius=s),typeof a=="number"&&(this.sides=a),this._update(),typeof t=="number"&&(this.translation.x=t),typeof e=="number"&&(this.translation.y=e)}_update(){if(this._flagVertices||this._flagInnerRadius||this._flagOuterRadius||this._flagSides){let t=this._sides*2,e=t+1,r=this.vertices.length;r>t&&(this.vertices.splice(t-1,r-t),r=t);for(let s=0;s<e;s++){let a=(s+.5)/t,c=oe*a,f=(s%2?this._outerRadius:this._innerRadius)/2,p=f*yh(c),y=f*bh(c);s>=r?this.vertices.push(new vt(p,y)):this.vertices[s].set(p,y),this.vertices[s].command=s===0?V.move:V.line}}return super._update.call(this),this}flagReset(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,super.flagReset.call(this),this}clone(t){let e=this.innerRadius,r=this.outerRadius,s=this.sides,a=new Dr(0,0,e,r,s);a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,a.skewX=this.skewX,a.skewY=this.skewY,this.matrix.manual&&a.matrix.copy(this.matrix);for(let c=0;c<Tt.Properties.length;c++){let f=Tt.Properties[c];a[f]=this[f]}return t&&t.add(a),a}toObject(){let t=super.toObject.call(this);for(let e=0;e<Dr.Properties.length;e++){let r=Dr.Properties[e];t[r]=this[r]}return t}},Qn=Dr;m(Qn,"Properties",["innerRadius","outerRadius","sides"]);var Fa={innerRadius:{enumerable:!0,get:function(){return this._innerRadius},set:function(t){this._innerRadius=t,this._flagInnerRadius=!0}},outerRadius:{enumerable:!0,get:function(){return this._outerRadius},set:function(t){this._outerRadius=t,this._flagOuterRadius=!0}},sides:{enumerable:!0,get:function(){return this._sides},set:function(t){this._sides=t,this._flagSides=!0}}},ht={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},createElement:function(t,e){let r=t,s=document.createElementNS(ht.ns,r);return r==="svg"&&(e=Z.defaults(e||{},{version:ht.version})),e&&Object.keys(e).length>0&&ht.setAttributes(s,e),s},setAttributes:function(t,e){let r=Object.keys(e);for(let s=0;s<r.length;s++)/href/.test(r[s])?t.setAttributeNS(ht.xlink,r[s],e[r[s]]):t.setAttribute(r[s],e[r[s]]);return this},removeAttributes:function(t,e){for(let r in e)t.removeAttribute(r);return this},toString:function(t,e){let r=t.length,s=r-1,a,c="";for(let f=0;f<r;f++){let p=t[f],y=e?me(f-1,r):Math.max(f-1,0),_=t[y],T,E,A,x,k,N,M,R,L,q,z,H,l,tt,G,st=Vt(p.x),J=Vt(p.y);switch(p.command){case V.close:T=V.close;break;case V.arc:z=p.rx,H=p.ry,l=p.xAxisRotation,tt=p.largeArcFlag,G=p.sweepFlag,T=V.arc+" "+z+" "+H+" "+l+" "+tt+" "+G+" "+st+" "+J;break;case V.curve:M=_.controls&&_.controls.right||$.zero,R=p.controls&&p.controls.left||$.zero,_.relative?(A=Vt(M.x+_.x),x=Vt(M.y+_.y)):(A=Vt(M.x),x=Vt(M.y)),p.relative?(k=Vt(R.x+p.x),N=Vt(R.y+p.y)):(k=Vt(R.x),N=Vt(R.y)),T=(f===0?V.move:V.curve)+" "+A+" "+x+" "+k+" "+N+" "+st+" "+J;break;case V.move:a=p,T=V.move+" "+st+" "+J;break;default:T=p.command+" "+st+" "+J}f>=s&&e&&(p.command===V.curve&&(E=a,L=p.controls&&p.controls.right||p,q=E.controls&&E.controls.left||E,p.relative?(A=Vt(L.x+p.x),x=Vt(L.y+p.y)):(A=Vt(L.x),x=Vt(L.y)),E.relative?(k=Vt(q.x+E.x),N=Vt(q.y+E.y)):(k=Vt(q.x),N=Vt(q.y)),st=Vt(E.x),J=Vt(E.y),T+=" C "+A+" "+x+" "+k+" "+N+" "+st+" "+J),p.command!==V.close&&(T+=" Z")),c+=T+" "}return c},pointsToString:function(t,e){let r="",s=e*.5;for(let a=0;a<t.length;a++){let c=t[a].x,f=t[a].y-s;r+=V.move+" "+c+" "+f+" ",r+="a "+s+" "+s+" 0 1 0 0.001 0 Z"}return r},getClip:function(t,e){let r=t._renderer.clip;return r||(r=t._renderer.clip=ht.createElement("clipPath",{"clip-rule":"nonzero"})),r.parentNode===null&&e.defs.appendChild(r),r},defs:{update:function(t){let{defs:e}=t;if(e._flagUpdate){let r=Array.prototype.slice.call(e.children,0);for(let s=0;s<r.length;s++){let a=r[s],c=a.id,f=`[fill="url(#${c})"],[stroke="url(#${c})"],[clip-path="url(#${c})"]`;t.querySelector(f)||e.removeChild(a)}e._flagUpdate=!1}}},group:{appendChild:function(t){let e=t._renderer.elem;if(!e)return;let r=e.nodeName;!r||/(radial|linear)gradient/i.test(r)||t._clip||this.elem.appendChild(e)},removeChild:function(t){let e=t._renderer.elem;!e||e.parentNode!=this.elem||!e.nodeName||t._clip||this.elem.removeChild(e)},orderChild:function(t){this.elem.appendChild(t._renderer.elem)},renderChild:function(t){ht[t._renderer.type].render.call(t,this)},render:function(t){if(!this._visible&&!this._flagVisible||this._opacity===0&&!this._flagOpacity)return this;this._update(),this._renderer.elem||(this._renderer.elem=ht.createElement("g",{id:this.id}),t.appendChild(this._renderer.elem));let e=this._matrix.manual||this._flagMatrix,r={domElement:t,elem:this._renderer.elem};e&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(let s=0;s<this.children.length;s++){let a=this.children[s];ht[a._renderer.type].render.call(a,t)}return this._flagId&&this._renderer.elem.setAttribute("id",this._id),this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagVisible&&this._renderer.elem.setAttribute("display",this._visible?"inline":"none"),this._flagClassName&&this._renderer.elem.setAttribute("class",this.classList.join(" ")),this._flagAdditions&&this.additions.forEach(ht.group.appendChild,r),this._flagSubtractions&&this.subtractions.forEach(ht.group.removeChild,r),this._flagOrder&&this.children.forEach(ht.group.orderChild,r),this._flagMask&&(this._mask?(ht[this._mask._renderer.type].render.call(this._mask,t),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this.dataset&&Object.assign(this._renderer.elem.dataset,this.dataset),this.flagReset()}},path:{render:function(t){if(this._opacity===0&&!this._flagOpacity)return this;this._update();let e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(e.id=this._id),this._flagVertices){let s=ht.toString(this._renderer.vertices,this._closed);e.d=s}if(this._fill&&this._fill._renderer&&(this._renderer.hasFillEffect=!0,this._fill._update(),ht[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(t.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer&&(this._renderer.hasStrokeEffect=!0,this._stroke._update(),ht[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(t.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e["stroke-opacity"]=this._opacity,e["fill-opacity"]=this._opacity),this._flagClassName&&(e.class=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this._flagCap&&(e["stroke-linecap"]=this._cap),this._flagJoin&&(e["stroke-linejoin"]=this._join),this._flagMiter&&(e["stroke-miterlimit"]=this._miter),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?ht.setAttributes(this._renderer.elem,e):(e.id=this._id,this._renderer.elem=ht.createElement("path",e),t.appendChild(this._renderer.elem)),this._flagClip){let s=ht.getClip(this,t),a=this._renderer.elem;this._clip?(a.removeAttribute("id"),s.setAttribute("id",this.id),s.appendChild(a)):(s.removeAttribute("id"),a.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(a))}return this._flagMask&&(this._mask?(ht[this._mask._renderer.type].render.call(this._mask,t),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this.flagReset()}},points:{render:function(t){if(this._opacity===0&&!this._flagOpacity)return this;this._update();let e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(e.id=this._id),this._flagVertices||this._flagSize||this._flagSizeAttenuation){let s=this._size;if(!this._sizeAttenuation){let c=this.worldMatrix.elements,f=Pi(c[0],c[3],c[1],c[4],c[2],c[5]);s/=Math.max(f.scaleX,f.scaleY)}let a=ht.pointsToString(this._renderer.collection,s);e.d=a}return this._fill&&this._fill._renderer&&(this._renderer.hasFillEffect=!0,this._fill._update(),ht[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(t.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer&&(this._renderer.hasStrokeEffect=!0,this._stroke._update(),ht[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(t.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e["stroke-opacity"]=this._opacity,e["fill-opacity"]=this._opacity),this._flagClassName&&(e.class=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?ht.setAttributes(this._renderer.elem,e):(e.id=this._id,this._renderer.elem=ht.createElement("path",e),t.appendChild(this._renderer.elem)),this.flagReset()}},text:{render:function(t){this._update();let e={};if((this._matrix.manual||this._flagMatrix)&&(e.transform="matrix("+this._matrix.toString()+")"),this._flagId&&(e.id=this._id),this._flagFamily&&(e["font-family"]=this._family),this._flagSize&&(e["font-size"]=this._size),this._flagLeading&&(e["line-height"]=this._leading),this._flagAlignment&&(e["text-anchor"]=ht.alignments[this._alignment]||this._alignment),this._flagBaseline&&(e["alignment-baseline"]=e["dominant-baseline"]=this._baseline),this._flagStyle&&(e["font-style"]=this._style),this._flagWeight&&(e["font-weight"]=this._weight),this._flagDecoration&&(e["text-decoration"]=this._decoration),this._fill&&this._fill._renderer&&(this._renderer.hasFillEffect=!0,this._fill._update(),ht[this._fill._renderer.type].render.call(this._fill,t,!0)),this._flagFill&&(e.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill,this._renderer.hasFillEffect&&typeof this._fill.id>"u"&&(t.defs._flagUpdate=!0,delete this._renderer.hasFillEffect)),this._stroke&&this._stroke._renderer&&(this._renderer.hasStrokeEffect=!0,this._stroke._update(),ht[this._stroke._renderer.type].render.call(this._stroke,t,!0)),this._flagStroke&&(e.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke,this._renderer.hasStrokeEffect&&typeof this._stroke.id>"u"&&(t.defs._flagUpdate=!0,delete this._renderer.hasStrokeEffect)),this._flagLinewidth&&(e["stroke-width"]=this._linewidth),this._flagOpacity&&(e.opacity=this._opacity),this._flagClassName&&(e.class=this.classList.join(" ")),this._flagVisible&&(e.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(e["stroke-dasharray"]=this.dashes.join(" "),e["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?ht.setAttributes(this._renderer.elem,e):(e.id=this._id,this._renderer.elem=ht.createElement("text",e),t.appendChild(this._renderer.elem)),this._flagClip){let s=ht.getClip(this,t),a=this._renderer.elem;this._clip?(a.removeAttribute("id"),s.setAttribute("id",this.id),s.appendChild(a)):(s.removeAttribute("id"),a.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(a))}return this._flagMask&&(this._mask?(ht[this._mask._renderer.type].render.call(this._mask,t),this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")")):this._renderer.elem.removeAttribute("clip-path")),this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(t,e){e||this._update();let r={};if(this._flagId&&(r.id=this._id),this._flagEndPoints&&(r.x1=this.left._x,r.y1=this.left._y,r.x2=this.right._x,r.y2=this.right._y),this._flagSpread&&(r.spreadMethod=this._spread),this._flagUnits&&(r.gradientUnits=this._units),this._renderer.elem?ht.setAttributes(this._renderer.elem,r):(r.id=this._id,this._renderer.elem=ht.createElement("linearGradient",r)),this._renderer.elem.parentNode===null&&t.defs.appendChild(this._renderer.elem),this._flagStops){let s=this._renderer.elem.childNodes.length!==this.stops.length;if(s)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let a=0;a<this.stops.length;a++){let c=this.stops[a],f={};c._flagOffset&&(f.offset=100*c._offset+"%"),c._flagColor&&(f["stop-color"]=c._color),c._flagOpacity&&(f["stop-opacity"]=c._opacity),c._renderer.elem?ht.setAttributes(c._renderer.elem,f):c._renderer.elem=ht.createElement("stop",f),s&&this._renderer.elem.appendChild(c._renderer.elem),c.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(t,e){e||this._update();let r={};if(this._flagId&&(r.id=this._id),this._flagCenter&&(r.cx=this.center._x,r.cy=this.center._y),this._flagFocal&&(r.fx=this.focal._x,r.fy=this.focal._y),this._flagRadius&&(r.r=this._radius),this._flagSpread&&(r.spreadMethod=this._spread),this._flagUnits&&(r.gradientUnits=this._units),this._renderer.elem?ht.setAttributes(this._renderer.elem,r):(r.id=this._id,this._renderer.elem=ht.createElement("radialGradient",r)),this._renderer.elem.parentNode===null&&t.defs.appendChild(this._renderer.elem),this._flagStops){let s=this._renderer.elem.childNodes.length!==this.stops.length;if(s)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(let a=0;a<this.stops.length;a++){let c=this.stops[a],f={};c._flagOffset&&(f.offset=100*c._offset+"%"),c._flagColor&&(f["stop-color"]=c._color),c._flagOpacity&&(f["stop-opacity"]=c._opacity),c._renderer.elem?ht.setAttributes(c._renderer.elem,f):c._renderer.elem=ht.createElement("stop",f),s&&this._renderer.elem.appendChild(c._renderer.elem),c.flagReset()}}return this.flagReset()}},texture:{render:function(t,e){e||this._update();let r={},s={x:0,y:0},a=this.image;if(this._flagId&&(r.id=this._id),this._flagLoaded&&this.loaded)switch(a.nodeName.toLowerCase()){case"canvas":s.href=s["xlink:href"]=a.toDataURL("image/png");break;case"img":case"image":s.href=s["xlink:href"]=this.src;break}if((this._flagOffset||this._flagLoaded||this._flagScale)&&(r.x=this._offset.x,r.y=this._offset.y,a&&(r.x-=a.width/2,r.y-=a.height/2,this._scale instanceof $?(r.x*=this._scale.x,r.y*=this._scale.y):(r.x*=this._scale,r.y*=this._scale)),r.x>0&&(r.x*=-1),r.y>0&&(r.y*=-1)),(this._flagScale||this._flagLoaded||this._flagRepeat)&&(r.width=0,r.height=0,a)){switch(s.width=r.width=a.width,s.height=r.height=a.height,this._repeat){case"no-repeat":r.width+=1,r.height+=1;break}this._scale instanceof $?(r.width*=this._scale.x,r.height*=this._scale.y):(r.width*=this._scale,r.height*=this._scale)}return(this._flagScale||this._flagLoaded)&&(this._renderer.image?ht.setAttributes(this._renderer.image,s):this._renderer.image=ht.createElement("image",s)),this._renderer.elem?Object.keys(r).length!==0&&ht.setAttributes(this._renderer.elem,r):(r.id=this._id,r.patternUnits="userSpaceOnUse",this._renderer.elem=ht.createElement("pattern",r)),this._renderer.elem.parentNode===null&&t.defs.appendChild(this._renderer.elem),this._renderer.elem&&this._renderer.image&&!this._renderer.appended&&(this._renderer.elem.appendChild(this._renderer.image),this._renderer.appended=!0),this.flagReset()}}},no=class extends B{constructor(t){super(),this.domElement=t.domElement||ht.createElement("svg"),this.scene=new Gt,this.scene.parent=this,this.defs=ht.createElement("defs"),this.defs._flagUpdate=!1,this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"}setSize(t,e){return this.width=t,this.height=e,ht.setAttributes(this.domElement,{width:t,height:e}),this.trigger(B.Types.resize,t,e)}render(){return ht.group.render.call(this.scene,this.domElement),ht.defs.update(this.domElement),this}};m(no,"Utils",ht);var ke={create:function(t,e,r){let s=t.createShader(t[r]);if(t.shaderSource(s,e),t.compileShader(s),!t.getShaderParameter(s,t.COMPILE_STATUS)){let c=t.getShaderInfoLog(s);throw t.deleteShader(s),new _e("unable to compile shader "+s+": "+c)}return s},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},path:{vertex:`
      precision mediump float;
      attribute vec2 a_position;

      uniform mat3 u_matrix;
      uniform vec2 u_resolution;
      uniform vec4 u_rect;

      varying vec2 v_textureCoords;

      void main() {
        vec2 rectCoords = (a_position * (u_rect.zw - u_rect.xy)) + u_rect.xy;
        vec2 projected = (u_matrix * vec3(rectCoords, 1.0)).xy;
        vec2 normal = projected / u_resolution;
        vec2 clipspace = (normal * 2.0) - 1.0;

        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);
        v_textureCoords = a_position;
      }
    `,fragment:`
      precision mediump float;

      uniform sampler2D u_image;
      varying vec2 v_textureCoords;

      void main() {
        vec4 texel = texture2D(u_image, v_textureCoords);
        if (texel.a == 0.0) {
          discard;
        }
        gl_FragColor = texel;
      }
    `},points:{vertex:`
      precision mediump float;
      attribute vec2 a_position;

      uniform float u_size;
      uniform mat3 u_matrix;
      uniform vec2 u_resolution;

      varying vec2 v_textureCoords;

      void main() {
        vec2 projected = (u_matrix * vec3(a_position, 1.0)).xy;
        vec2 normal = projected / u_resolution;
        vec2 clipspace = (normal * 2.0) - 1.0;

        gl_PointSize = u_size;
        gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);
        v_textureCoords = a_position;
      }
    `,fragment:`
      precision mediump float;

      uniform sampler2D u_image;

      void main() {
        vec4 texel = texture2D(u_image, gl_PointCoord);
        if (texel.a == 0.0) {
          discard;
        }
        gl_FragColor = texel;
      }
    `}},Rr=fi.Multiply,vh=[1,0,0,0,1,0,0,0,1],Ze=new He(9),xh=ir.Utils,Vn=new He([0,0,1,0,0,1,0,1,1,0,1,1]),dt={precision:.9,isHidden:/(undefined|none|transparent)/i,canvas:zt.document?zt.document.createElement("canvas"):{getContext:function(){}},alignments:{left:"start",middle:"center",right:"end"},matrix:new fi,group:{removeChild:function(t,e){if(t.children)for(let r=0;r<t.children.length;r++)dt.group.removeChild(t.children[r],e);t._renderer.texture&&(e.deleteTexture(t._renderer.texture),delete t._renderer.texture),t._renderer.positionBuffer&&(e.deleteBuffer(t._renderer.positionBuffer),delete t._renderer.positionBuffer)},render:function(t,e){if(!this._visible)return;this._update();let r=this.parent,s=r._matrix&&r._matrix.manual||r._flagMatrix,a=this._matrix.manual||this._flagMatrix;(s||a)&&(this._renderer.matrix||(this._renderer.matrix=new He(9)),this._matrix.toTransformArray(!0,Ze),Rr(Ze,r._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof $||(this._renderer.scale=new $),this._scale instanceof $?(this._renderer.scale.x=this._scale.x,this._renderer.scale.y=this._scale.y):(this._renderer.scale.x=this._scale,this._renderer.scale.y=this._scale),/renderer/i.test(r._renderer.type)||(this._renderer.scale.x*=r._renderer.scale.x,this._renderer.scale.y*=r._renderer.scale.y),s&&(this._flagMatrix=!0)),this._mask&&(t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,0),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1),dt[this._mask._renderer.type].render.call(this._mask,t,e,this),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.colorMask(!0,!0,!0,!0)),this._flagOpacity=r._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(r&&r._renderer?r._renderer.opacity:1);let c;if(this._flagSubtractions)for(c=0;c<this.subtractions.length;c++)dt.group.removeChild(this.subtractions[c],t);for(c=0;c<this.children.length;c++){let f=this.children[c];dt[f._renderer.type].render.call(f,t,e)}return this._mask&&t.disable(t.STENCIL_TEST),this.flagReset()}},path:{updateCanvas:function(t){let e,r,s,a,c,f,p,y,_,T,E,A,x,k,N=t._renderer.vertices,M=this.canvas,R=this.ctx,L=t._renderer.scale,q=t._stroke,z=t._linewidth,H=t._fill,l=t._renderer.opacity||t._opacity,tt=t._cap,G=t._join,st=t._miter,J=t._closed,mt=t.dashes,Q=N.length,St=Q-1;M.width=Math.max(Math.ceil(t._renderer.rect.width*L.x),1),M.height=Math.max(Math.ceil(t._renderer.rect.height*L.y),1);let gt=t._renderer.rect.centroid,Wt=gt.x,At=gt.y;R.clearRect(0,0,M.width,M.height),H&&(typeof H=="string"?R.fillStyle=H:(dt[H._renderer.type].render.call(H,R,t),R.fillStyle=H._renderer.effect)),q&&(typeof q=="string"?R.strokeStyle=q:(dt[q._renderer.type].render.call(q,R,t),R.strokeStyle=q._renderer.effect),z&&(R.lineWidth=z),st&&(R.miterLimit=st),G&&(R.lineJoin=G),!J&&tt&&(R.lineCap=tt)),typeof l=="number"&&(R.globalAlpha=l),mt&&mt.length>0&&(R.lineDashOffset=mt.offset||0,R.setLineDash(mt));let ot,rt,_t,yt,K,Ft,Jt,$t;R.save(),R.scale(L.x,L.y),R.translate(Wt,At),R.beginPath();for(let It=0;It<N.length;It++){let Rt=N[It];switch(A=Rt.x,x=Rt.y,Rt.command){case V.close:R.closePath();break;case V.arc:rt=Rt.rx,_t=Rt.ry,yt=Rt.xAxisRotation,K=Rt.largeArcFlag,Ft=Rt.sweepFlag,e=J?me(It-1,Q):Math.max(It-1,0),r=N[e],Jt=r.x,$t=r.y,xh.renderSvgArcCommand(R,Jt,$t,rt,_t,K,Ft,yt,A,x);break;case V.curve:e=J?me(It-1,Q):Math.max(It-1,0),r=N[e],y=r.controls&&r.controls.right||$.zero,_=Rt.controls&&Rt.controls.left||$.zero,r._relative?(f=y.x+r.x,p=y.y+r.y):(f=y.x,p=y.y),Rt._relative?(a=_.x+Rt.x,c=_.y+Rt.y):(a=_.x,c=_.y),R.bezierCurveTo(f,p,a,c,A,x),It>=St&&J&&(s=ot,T=Rt.controls&&Rt.controls.right||$.zero,E=s.controls&&s.controls.left||$.zero,Rt._relative?(f=T.x+Rt.x,p=T.y+Rt.y):(f=T.x,p=T.y),s._relative?(a=E.x+s.x,c=E.y+s.y):(a=E.x,c=E.y),A=s.x,x=s.y,R.bezierCurveTo(f,p,a,c,A,x));break;case V.line:R.lineTo(A,x);break;case V.move:ot=Rt,R.moveTo(A,x);break}}J&&R.closePath(),dt.isHidden.test(H)||(k=H._renderer&&H._renderer.offset,k&&(R.save(),R.translate(-H._renderer.offset.x,-H._renderer.offset.y),R.scale(H._renderer.scale.x,H._renderer.scale.y)),R.fill(),k&&R.restore()),dt.isHidden.test(q)||(k=q._renderer&&q._renderer.offset,k&&(R.save(),R.translate(-q._renderer.offset.x,-q._renderer.offset.y),R.scale(q._renderer.scale.x,q._renderer.scale.y),R.lineWidth=z/q._renderer.scale.x),R.stroke(),k&&R.restore()),R.restore()},getBoundingClientRect:function(t,e,r){let s=1/0,a=-1/0,c=1/0,f=-1/0,p,y;t.forEach(function(_){let T=_.x,E=_.y,A=_.controls,x,k,N,M,R,L;c=Math.min(E,c),s=Math.min(T,s),a=Math.max(T,a),f=Math.max(E,f),_.controls&&(R=A.left,L=A.right,!(!R||!L)&&(x=_._relative?R.x+T:R.x,k=_._relative?R.y+E:R.y,N=_._relative?L.x+T:L.x,M=_._relative?L.y+E:L.y,!(!x||!k||!N||!M)&&(c=Math.min(k,M,c),s=Math.min(x,N,s),a=Math.max(x,N,a),f=Math.max(k,M,f))))}),typeof e=="number"&&(c-=e,s-=e,a+=e,f+=e),p=a-s,y=f-c,r.top=c,r.left=s,r.right=a,r.bottom=f,r.width=p,r.height=y,r.centroid||(r.centroid={}),r.centroid.x=-s,r.centroid.y=-c},render:function(t,e,r){if(!this._visible||!this._opacity)return this;this._update();let s=r||this.parent,a=e[this._renderer.type],c=s._matrix.manual||s._flagMatrix,f=this._matrix.manual||this._flagMatrix,p=this._renderer.parent!==s,y=this._flagVertices||this._flagFill||this._fill instanceof Bt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof qt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Mt&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Bt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof qt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Mt&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||s._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((c||f||p)&&(this._renderer.matrix||(this._renderer.matrix=new He(9)),this._matrix.toTransformArray(!0,Ze),Rr(Ze,s._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof $||(this._renderer.scale=new $),this._scale instanceof $?(this._renderer.scale.x=this._scale.x*s._renderer.scale.x,this._renderer.scale.y=this._scale.y*s._renderer.scale.y):(this._renderer.scale.x=this._scale*s._renderer.scale.x,this._renderer.scale.y=this._scale*s._renderer.scale.y),p&&(this._renderer.parent=s)),this._mask&&(t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,0),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1),dt[this._mask._renderer.type].render.call(this._mask,t,e,this),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.colorMask(!0,!0,!0,!0)),y?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*s._renderer.opacity,dt.path.getBoundingClientRect(this._renderer.vertices,this._linewidth,this._renderer.rect),dt.updateTexture.call(dt,t,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!r||!this._renderer.texture)return this;e.current!==a&&(t.useProgram(a),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.position),t.vertexAttribPointer(a.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a.position),t.bufferData(t.ARRAY_BUFFER,Vn,t.STATIC_DRAW),e.resolution.flagged||t.uniform2f(t.getUniformLocation(a,"u_resolution"),e.resolution.width,e.resolution.height),e.current=a),e.resolution.flagged&&t.uniform2f(t.getUniformLocation(a,"u_resolution"),e.resolution.width,e.resolution.height),t.bindTexture(t.TEXTURE_2D,this._renderer.texture);let _=this._renderer.rect;return t.uniformMatrix3fv(a.matrix,!1,this._renderer.matrix),t.uniform4f(a.rect,_.left,_.top,_.right,_.bottom),t.drawArrays(t.TRIANGLES,0,6),this._mask&&t.disable(t.STENCIL_TEST),this.flagReset()}},points:{updateCanvas:function(t){let e,r=this.canvas,s=this.ctx,a=t._stroke,c=t._linewidth,f=t._fill,p=t._renderer.opacity||t._opacity,y=t.dashes,_=t._size,T=_;dt.isHidden.test(a)||(T+=c),r.width=Da(T),r.height=r.width;let E=T/r.width,A=r.width/2,x=r.height/2;s.clearRect(0,0,r.width,r.height),f&&(typeof f=="string"?s.fillStyle=f:(dt[f._renderer.type].render.call(f,s,t),s.fillStyle=f._renderer.effect)),a&&(typeof a=="string"?s.strokeStyle=a:(dt[a._renderer.type].render.call(a,s,t),s.strokeStyle=a._renderer.effect),c&&(s.lineWidth=c/E)),typeof p=="number"&&(s.globalAlpha=p),y&&y.length>0&&(s.lineDashOffset=y.offset||0,s.setLineDash(y)),s.save(),s.translate(A,x),s.scale(dt.precision,dt.precision),s.beginPath(),s.arc(0,0,_/E*.5,0,oe),s.restore(),closed&&s.closePath(),dt.isHidden.test(f)||(e=f._renderer&&f._renderer.offset,e&&(s.save(),s.translate(-f._renderer.offset.x,-f._renderer.offset.y),s.scale(f._renderer.scale.x,f._renderer.scale.y)),s.fill(),e&&s.restore()),dt.isHidden.test(a)||(e=a._renderer&&a._renderer.offset,e&&(s.save(),s.translate(-a._renderer.offset.x,-a._renderer.offset.y),s.scale(a._renderer.scale.x,a._renderer.scale.y),s.lineWidth=c/a._renderer.scale.x),s.stroke(),e&&s.restore())},render:function(t,e,r){if(!this._visible||!this._opacity)return this;this._update();let s=this._size,a=r||this.parent,c=e[this._renderer.type],f=this._sizeAttenuation,p=this._stroke,y=this._linewidth,_=a._matrix.manual||a._flagMatrix,T=this._matrix.manual||this._flagMatrix,E=this._renderer.parent!==a,A=this._renderer.vertices,x=this._renderer.collection.length,k=this._flagVertices,N=this._flagFill||this._fill instanceof Bt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof qt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Mt&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Bt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof qt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Mt&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||a._flagOpacity||this._flagVisible||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((_||T||E)&&(this._renderer.matrix||(this._renderer.matrix=new He(9)),this._matrix.toTransformArray(!0,Ze),Rr(Ze,a._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof $||(this._renderer.scale=new $),this._scale instanceof $?(this._renderer.scale.x=this._scale.x*a._renderer.scale.x,this._renderer.scale.y=this._scale.y*a._renderer.scale.y):(this._renderer.scale.x=this._scale*a._renderer.scale.x,this._renderer.scale.y=this._scale*a._renderer.scale.y),E&&(this._renderer.parent=a)),k){let M=this._renderer.positionBuffer;M&&t.deleteBuffer(M),this._renderer.positionBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._renderer.positionBuffer),t.vertexAttribPointer(c.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(c.position),t.bufferData(t.ARRAY_BUFFER,A,t.STATIC_DRAW)}return N?(this._renderer.opacity=this._opacity*a._renderer.opacity,dt.updateTexture.call(dt,t,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!r||!this._renderer.texture?this:(dt.isHidden.test(p)||(s+=y),s/=dt.precision,f&&(s*=Math.max(this._renderer.scale.x,this._renderer.scale.y)),e.current!==c&&(t.useProgram(c),e.resolution.flagged||t.uniform2f(t.getUniformLocation(c,"u_resolution"),e.resolution.width,e.resolution.height),e.current=c),e.resolution.flagged&&t.uniform2f(t.getUniformLocation(c,"u_resolution"),e.resolution.width,e.resolution.height),t.bindTexture(t.TEXTURE_2D,this._renderer.texture),t.uniformMatrix3fv(c.matrix,!1,this._renderer.matrix),t.uniform1f(c.size,s*e.resolution.ratio),t.drawArrays(t.POINTS,0,x),this.flagReset())}},text:{updateCanvas:function(t){let e=this.canvas,r=this.ctx,s=t._renderer.scale,a=t._stroke,c=t._linewidth*s,f=t._fill,p=t._renderer.opacity||t._opacity,y=t.dashes,_=t._decoration;e.width=Math.max(Math.ceil(t._renderer.rect.width*s.x),1),e.height=Math.max(Math.ceil(t._renderer.rect.height*s.y),1);let T=t._renderer.rect.centroid,E=T.x,A=T.y,x,k,N,M,R,L,q,z,H,l,tt,G=f._renderer&&f._renderer.offset&&a._renderer&&a._renderer.offset;if(r.clearRect(0,0,e.width,e.height),G||(r.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" ")),r.textAlign="center",r.textBaseline="middle",f&&(typeof f=="string"?r.fillStyle=f:(dt[f._renderer.type].render.call(f,r,t),r.fillStyle=f._renderer.effect)),a&&(typeof a=="string"?r.strokeStyle=a:(dt[a._renderer.type].render.call(a,r,t),r.strokeStyle=a._renderer.effect),c&&(r.lineWidth=c)),typeof p=="number"&&(r.globalAlpha=p),y&&y.length>0&&(r.lineDashOffset=y.offset||0,r.setLineDash(y)),r.save(),r.scale(s.x,s.y),r.translate(E,A),dt.isHidden.test(f)||(f._renderer&&f._renderer.offset?(L=f._renderer.scale.x,q=f._renderer.scale.y,r.save(),r.translate(-f._renderer.offset.x,-f._renderer.offset.y),r.scale(L,q),x=t._size/f._renderer.scale.y,k=t._leading/f._renderer.scale.y,r.font=[t._style,t._weight,x+"px/",k+"px",t._family].join(" "),N=f._renderer.offset.x/f._renderer.scale.x,M=f._renderer.offset.y/f._renderer.scale.y,r.fillText(t.value,N,M),r.restore()):r.fillText(t.value,0,0)),dt.isHidden.test(a)||(a._renderer&&a._renderer.offset?(L=a._renderer.scale.x,q=a._renderer.scale.y,r.save(),r.translate(-a._renderer.offset.x,-a._renderer.offset.y),r.scale(L,q),x=t._size/a._renderer.scale.y,k=t._leading/a._renderer.scale.y,r.font=[t._style,t._weight,x+"px/",k+"px",t._family].join(" "),N=a._renderer.offset.x/a._renderer.scale.x,M=a._renderer.offset.y/a._renderer.scale.y,R=c/a._renderer.scale.x,r.lineWidth=R,r.strokeText(t.value,N,M),r.restore()):r.strokeText(t.value,0,0)),/(underline|strikethrough)/i.test(_)){let st=r.measureText(t.value);switch(_){case"underline":H=st.actualBoundingBoxAscent,tt=st.actualBoundingBoxAscent;break;case"strikethrough":H=0,tt=0;break}z=-st.width/2,l=st.width/2,r.lineWidth=Math.max(Math.floor(t._size/15),1),r.strokeStyle=r.fillStyle,r.beginPath(),r.moveTo(z,H),r.lineTo(l,tt),r.stroke()}r.restore()},getBoundingClientRect:function(t,e){let r=dt.ctx;r.font=[t._style,t._weight,t._size+"px/"+t._leading+"px",t._family].join(" "),r.textAlign="center",r.textBaseline=t._baseline;let s=r.measureText(t._value).width*1.25,a=Math.max(t._size,t._leading)*1.25;this._linewidth&&!dt.isHidden.test(this._stroke)&&(s+=this._linewidth*2,a+=this._linewidth*2);let c=s/2,f=a/2;switch(dt.alignments[t._alignment]||t._alignment){case dt.alignments.left:e.left=0,e.right=s;break;case dt.alignments.right:e.left=-s,e.right=0;break;default:e.left=-c,e.right=c}switch(t._baseline){case"bottom":e.top=-a,e.bottom=0;break;case"top":e.top=0,e.bottom=a;break;default:e.top=-f,e.bottom=f}e.width=s,e.height=a,e.centroid||(e.centroid={}),e.centroid.x=c,e.centroid.y=f},render:function(t,e,r){if(!this._visible||!this._opacity)return this;this._update();let s=r||this.parent,a=e[this._renderer.type],c=s._matrix.manual||s._flagMatrix,f=this._matrix.manual||this._flagMatrix,p=this._renderer.parent!==s,y=this._flagVertices||this._flagFill||this._fill instanceof Bt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof qt&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof Mt&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof Bt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof qt&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof Mt&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||s._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((c||f||p)&&(this._renderer.matrix||(this._renderer.matrix=new He(9)),this._matrix.toTransformArray(!0,Ze),Rr(Ze,s._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof $||(this._renderer.scale=new $),this._scale instanceof $?(this._renderer.scale.x=this._scale.x*s._renderer.scale.x,this._renderer.scale.y=this._scale.y*s._renderer.scale.y):(this._renderer.scale.x=this._scale*s._renderer.scale.x,this._renderer.scale.y=this._scale*s._renderer.scale.y),p&&(this._renderer.parent=s)),this._mask&&(t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,0),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1),dt[this._mask._renderer.type].render.call(this._mask,t,e,this),t.stencilFunc(t.EQUAL,1,255),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.colorMask(!0,!0,!0,!0)),y?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*s._renderer.opacity,dt.text.getBoundingClientRect(this,this._renderer.rect),dt.updateTexture.call(dt,t,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),this._clip&&!r||!this._renderer.texture)return this;e.current!==a&&(t.useProgram(a),t.bindBuffer(t.ARRAY_BUFFER,e.buffers.position),t.vertexAttribPointer(a.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(a.position),t.bufferData(t.ARRAY_BUFFER,Vn,t.STATIC_DRAW),e.resolution.flagged||t.uniform2f(t.getUniformLocation(a,"u_resolution"),e.resolution.width,e.resolution.height),e.current=a),e.resolution.flagged&&t.uniform2f(t.getUniformLocation(a,"u_resolution"),e.resolution.width,e.resolution.height),t.bindTexture(t.TEXTURE_2D,this._renderer.texture);let _=this._renderer.rect;return t.uniformMatrix3fv(a.matrix,!1,this._renderer.matrix),t.uniform4f(a.rect,_.left,_.top,_.right,_.bottom),t.drawArrays(t.TRIANGLES,0,6),this._mask&&t.disable(t.STENCIL_TEST),this.flagReset()}},"linear-gradient":{render:function(t,e){if(!(!t.canvas.getContext("2d")||!e)){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops||this._flagUnits){let r,s=this.left._x,a=this.left._y,c=this.right._x,f=this.right._y;/objectBoundingBox/i.test(this._units)&&(r=e.getBoundingClientRect(!0),s=(s-.5)*r.width,a=(a-.5)*r.height,c=(c-.5)*r.width,f=(f-.5)*r.height),this._renderer.effect=t.createLinearGradient(s,a,c,f);for(let p=0;p<this.stops.length;p++){let y=this.stops[p];this._renderer.effect.addColorStop(y._offset,y._color)}}return this.flagReset()}}},"radial-gradient":{render:function(t,e){if(!(!t.canvas.getContext("2d")||!e)){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops||this._flagUnits){let r,s=this.center._x,a=this.center._y,c=this.focal._x,f=this.focal._y,p=this._radius;/objectBoundingBox/i.test(this._units)&&(r=e.getBoundingClientRect(!0),s=s*r.width*.5,a=a*r.height*.5,c=c*r.width*.5,f=f*r.height*.5,p*=Math.min(r.width,r.height)*.5),this._renderer.effect=t.createRadialGradient(s,a,0,c,f,p);for(let y=0;y<this.stops.length;y++){let _=this.stops[y];this._renderer.effect.addColorStop(_._offset,_._color)}}return this.flagReset()}}},texture:{render:function(t,e){if(!t.canvas.getContext("2d"))return;this._update();let r=this.image;if((this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)this._renderer.effect=t.createPattern(r,this._repeat);else if(!this._renderer.effect)return this.flagReset();return(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof $||(this._renderer.offset=new $),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,r&&(this._renderer.offset.x+=r.width/2,this._renderer.offset.y+=r.height/2,this._scale instanceof $?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof $||(this._renderer.scale=new $),this._scale instanceof $?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},updateTexture:function(t,e){if(this[e._renderer.type].updateCanvas.call(dt,e),this.canvas.width<=0||this.canvas.height<=0){e._renderer.texture&&t.deleteTexture(e._renderer.texture),delete e._renderer.texture;return}e._renderer.texture||(e._renderer.texture=t.createTexture()),t.bindTexture(t.TEXTURE_2D,e._renderer.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,this.canvas)},program:{create:function(t,e){let r,s,a;if(r=t.createProgram(),Z.each(e,function(c){t.attachShader(r,c)}),t.linkProgram(r),s=t.getProgramParameter(r,t.LINK_STATUS),!s)throw a=t.getProgramInfoLog(r),t.deleteProgram(r),new _e("unable to link program: "+a);return r}},TextureRegistry:new zr};dt.ctx=dt.canvas.getContext("2d");var so=class extends B{constructor(t){super();let e,r,s,a;if(this.domElement=t.domElement||document.createElement("canvas"),typeof t.offscreenElement<"u"&&(dt.canvas=t.offscreenElement,dt.ctx=dt.canvas.getContext("2d")),this.scene=new Gt,this.scene.parent=this,this._renderer={type:"renderer",matrix:new He(vh),scale:1,opacity:1},this._flagMatrix=!0,t=Z.defaults(t||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=t.overdraw,e=this.ctx=this.domElement.getContext("webgl",t)||this.domElement.getContext("experimental-webgl",t),!this.ctx)throw new _e("unable to create a webgl context. Try using another renderer.");s=ke.create(e,ke.path.vertex,ke.types.vertex),a=ke.create(e,ke.path.fragment,ke.types.fragment),this.programs={current:null,buffers:{position:e.createBuffer()},resolution:{width:0,height:0,ratio:1,flagged:!1}},r=this.programs.path=dt.program.create(e,[s,a]),this.programs.text=this.programs.path,r.position=e.getAttribLocation(r,"a_position"),r.matrix=e.getUniformLocation(r,"u_matrix"),r.rect=e.getUniformLocation(r,"u_rect");let c=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,c),e.vertexAttribPointer(r.position,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(r.position),e.bufferData(e.ARRAY_BUFFER,Vn,e.STATIC_DRAW),s=ke.create(e,ke.points.vertex,ke.types.vertex),a=ke.create(e,ke.points.fragment,ke.types.fragment),r=this.programs.points=dt.program.create(e,[s,a]),r.position=e.getAttribLocation(r,"a_position"),r.matrix=e.getUniformLocation(r,"u_matrix"),r.size=e.getUniformLocation(r,"u_size"),e.enable(e.BLEND),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}setSize(t,e,r){let s,a,c=this.ctx;return this.width=t,this.height=e,this.ratio=typeof r>"u"?$n(c):r,this.domElement.width=t*this.ratio,this.domElement.height=e*this.ratio,Z.isObject(this.domElement.style)&&Z.extend(this.domElement.style,{width:t+"px",height:e+"px"}),this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,s=t*this.ratio,a=e*this.ratio,c.viewport(0,0,s,a),this.programs.resolution.width=s,this.programs.resolution.height=a,this.programs.resolution.ratio=this.ratio,this.programs.resolution.flagged=!0,this.trigger(B.Types.resize,t,e,r)}render(){let t=this.ctx;return this.overdraw||t.clear(t.COLOR_BUFFER_BIT),dt.group.render.call(this.scene,t,this.programs),this._flagMatrix=!1,this.programs.resolution.flagged=!0,this}};m(so,"Utils",dt);var wh=Z.extend({Error:_e,getRatio:$n,read:Dt,xhr:ro},Z,ge,Ba,La),Ji=class{constructor(t){m(this,"_events",new B),m(this,"type",""),m(this,"renderer",null),m(this,"scene",null),m(this,"width",0),m(this,"height",0),m(this,"frameCount",0),m(this,"timeDelta",0),m(this,"playing",!1);let e=Z.defaults(t||{},{fullscreen:!1,fitted:!1,width:640,height:480,type:Ji.Types.svg,autostart:!1});if(Z.each(e,function(r,s){/fullscreen/i.test(s)||/autostart/i.test(s)||(this[s]=r)},this),Z.isElement(e.domElement)){let r=e.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+r)||(this.type=Ji.Types[r])}this.renderer=new Ji[this.type](this),this.setPlaying(e.autostart),this.frameCount=0,e.fullscreen?(this.fit=kh.bind(this),this.fit.domElement=window,this.fit.attached=!0,Z.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),Z.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),pe.bind(this.fit.domElement,"resize",this.fit),this.fit()):e.fitted?(this.fit=Th.bind(this),Z.extend(this.renderer.domElement.style,{display:"block"})):Z.isElement(e.domElement)||(this.renderer.setSize(e.width,e.height,this.ratio),this.width=e.width,this.height=e.height),this.renderer.bind(B.Types.resize,Sh.bind(this)),this.scene=this.renderer.scene,Ji.Instances.push(this),e.autostart&&er.init()}get _bound(){return this._events._bound}set _bound(t){this._events._bound=t}addEventListener(){return this._events.addEventListener.apply(this,arguments)}on(){return this._events.addEventListener.apply(this,arguments)}bind(){return this._events.addEventListener.apply(this,arguments)}removeEventListener(){return this._events.removeEventListener.apply(this,arguments)}off(){return this._events.removeEventListener.apply(this,arguments)}unbind(){return this._events.removeEventListener.apply(this,arguments)}dispatchEvent(){return this._events.dispatchEvent.apply(this,arguments)}trigger(){return this._events.dispatchEvent.apply(this,arguments)}listen(){return this._events.listen.apply(this,arguments)}ignore(){return this._events.ignore.apply(this,arguments)}appendTo(t){return t.appendChild(this.renderer.domElement),this.fit&&(this.fit.domElement!==window&&(this.fit.domElement=t,this.fit.attached=!1),this.update()),this}play(){return this.playing=!0,er.init(),this.trigger(B.Types.play)}pause(){return this.playing=!1,this.trigger(B.Types.pause)}setPlaying(t){this.playing=t}release(t){let e,r,s;if(!Z.isObject(t))return this.release(this.scene);if(typeof t.unbind=="function"&&t.unbind(),t.vertices)for(typeof t.vertices.unbind=="function"&&t.vertices.unbind(),e=0;e<t.vertices.length;e++)r=t.vertices[e],typeof r.unbind=="function"&&r.unbind(),r.controls&&(r.controls.left&&typeof r.controls.left.unbind=="function"&&r.controls.left.unbind(),r.controls.right&&typeof r.controls.right.unbind=="function"&&r.controls.right.unbind());if(t.children){for(e=0;e<t.children.length;e++)s=t.children[e],this.release(s);typeof t.children.unbind=="function"&&t.children.unbind()}return t}update(){let t=!!this._lastFrame,e=Z.performance.now();t&&(this.timeDelta=parseFloat((e-this._lastFrame).toFixed(3))),this._lastFrame=e,this.fit&&this.fit.domElement&&!this.fit.attached&&(pe.bind(this.fit.domElement,"resize",this.fit),this.fit.attached=!0,this.fit());let r=this.width,s=this.height,a=this.renderer;return(r!==a.width||s!==a.height)&&a.setSize(r,s,this.ratio),this.trigger(B.Types.update,this.frameCount,this.timeDelta),this.render()}render(){return this.renderer.render(),this.trigger(B.Types.render,this.frameCount++)}add(t){return t instanceof Array||(t=Array.prototype.slice.call(arguments)),this.scene.add(t),this}remove(t){return t instanceof Array||(t=Array.prototype.slice.call(arguments)),this.scene.remove(t),this}clear(){return this.scene.remove(this.scene.children),this}makeLine(t,e,r,s){let a=new Xn(t,e,r,s);return this.scene.add(a),a}makeArrow(t,e,r,s,a){let c=typeof a=="number"?a:10,f=Math.atan2(s-e,r-t),p=[new vt(t,e,void 0,void 0,void 0,void 0,V.move),new vt(r,s,void 0,void 0,void 0,void 0,V.line),new vt(r-c*Math.cos(f-Math.PI/4),s-c*Math.sin(f-Math.PI/4),void 0,void 0,void 0,void 0,V.line),new vt(r,s,void 0,void 0,void 0,void 0,V.move),new vt(r-c*Math.cos(f+Math.PI/4),s-c*Math.sin(f+Math.PI/4),void 0,void 0,void 0,void 0,V.line)],y=new Tt(p,!1,!1,!0);return y.noFill(),y.cap="round",y.join="round",this.scene.add(y),y}makeRectangle(t,e,r,s){let a=new ci(t,e,r,s);return this.scene.add(a),a}makeRoundedRectangle(t,e,r,s,a){let c=new $r(t,e,r,s,a);return this.scene.add(c),c}makeCircle(t,e,r,s){let a=new Vr(t,e,r,s);return this.scene.add(a),a}makeEllipse(t,e,r,s,a){let c=new Wr(t,e,r,s,a);return this.scene.add(c),c}makeStar(t,e,r,s,a){let c=new Qn(t,e,r,s,a);return this.scene.add(c),c}makeCurve(t){let e=arguments.length;if(!Array.isArray(t)){t=[];for(let c=0;c<e;c+=2){let f=arguments[c];if(typeof f!="number")break;let p=arguments[c+1];t.push(new vt(f,p))}}let r=arguments[e-1],s=new Tt(t,!(typeof r=="boolean"&&r),!0),a=s.getBoundingClientRect();return s.center().translation.set(a.left+a.width/2,a.top+a.height/2),this.scene.add(s),s}makePolygon(t,e,r,s){let a=new Kn(t,e,r,s);return this.scene.add(a),a}makeArcSegment(t,e,r,s,a,c,f){let p=new Yn(t,e,r,s,a,c,f);return this.scene.add(p),p}makePoints(t){let e=arguments.length,r=t;if(!Array.isArray(t)){r=[];for(let a=0;a<e;a+=2){let c=arguments[a];if(typeof c!="number")break;let f=arguments[a+1];r.push(new $(c,f))}}let s=new Gn(r);return this.scene.add(s),s}makePath(t){let e=arguments.length,r=t;if(!Array.isArray(t)){r=[];for(let f=0;f<e;f+=2){let p=arguments[f];if(typeof p!="number")break;let y=arguments[f+1];r.push(new vt(p,y))}}let s=arguments[e-1],a=new Tt(r,!(typeof s=="boolean"&&s)),c=a.getBoundingClientRect();return typeof c.top=="number"&&typeof c.left=="number"&&typeof c.right=="number"&&typeof c.bottom=="number"&&a.center().translation.set(c.left+c.width/2,c.top+c.height/2),this.scene.add(a),a}makeText(t,e,r,s){let a=new Re(t,e,r,s);return this.add(a),a}makeLinearGradient(t,e,r,s){let a=Array.prototype.slice.call(arguments,4),c=new Bt(t,e,r,s,a);return this.add(c),c}makeRadialGradient(t,e,r){let s=Array.prototype.slice.call(arguments,3),a=new qt(t,e,r,s);return this.add(a),a}makeSprite(t,e,r,s,a,c,f){let p=new Ur(t,e,r,s,a,c);return f&&p.play(),this.add(p),p}makeImageSequence(t,e,r,s,a){let c=new Xr(t,e,r,s);return a&&c.play(),this.add(c),c}makeTexture(t,e){return new Mt(t,e)}makeGroup(t){t instanceof Array||(t=Array.prototype.slice.call(arguments));let e=new Gt;return this.scene.add(e),e.add(t),e}interpret(t,e,r){let s=t.tagName.toLowerCase();if(r=typeof r<"u"?r:!0,!(s in Dt))return null;let a=Dt[s].call(this,t);return r?this.add(e&&a instanceof Gt?a.children:a):a.parent&&a.remove(),a}load(t,e){let r=new Gt,s,a,c,f=function(p){for(pe.temp.innerHTML=p,a=0;a<pe.temp.children.length;a++)s=pe.temp.children[a],c=this.interpret(s,!1,!1),c!==null&&r.add(c);if(typeof e=="function"){let y=pe.temp.children.length<=1?pe.temp.children[0]:pe.temp.children;e(r,y)}}.bind(this);return/\.svg$/i.test(t)?(ro(t,f),r):(f(t),r)}},it=Ji;m(it,"nextFrameID",Qt.nextFrameID);m(it,"Types",Qt.Types);m(it,"Version",Qt.Version);m(it,"PublishDate",Qt.PublishDate);m(it,"Identifier",Qt.Identifier);m(it,"Resolution",Qt.Resolution);m(it,"AutoCalculateImportedMatrices",Qt.AutoCalculateImportedMatrices);m(it,"Instances",Qt.Instances);m(it,"uniqueId",Qt.uniqueId);m(it,"Anchor",vt);m(it,"Collection",ii);m(it,"Events",B);m(it,"Group",Gt);m(it,"Matrix",fi);m(it,"Path",Tt);m(it,"Registry",zr);m(it,"Shape",ei);m(it,"Text",Re);m(it,"Vector",$);m(it,"Gradient",Kt);m(it,"ImageSequence",Xr);m(it,"LinearGradient",Bt);m(it,"RadialGradient",qt);m(it,"Sprite",Ur);m(it,"Stop",ri);m(it,"Texture",Mt);m(it,"ArcSegment",Yn);m(it,"Circle",Vr);m(it,"Ellipse",Wr);m(it,"Line",Xn);m(it,"Points",Gn);m(it,"Polygon",Kn);m(it,"Rectangle",ci);m(it,"RoundedRectangle",$r);m(it,"Star",Qn);m(it,"CanvasRenderer",ir);m(it,"SVGRenderer",no);m(it,"WebGLRenderer",so);m(it,"Commands",V);m(it,"Utils",wh);function kh(){let t=document.body.getBoundingClientRect(),e=this.width=t.width,r=this.height=t.height;this.renderer.setSize(e,r,this.ratio)}function Th(){let t=this.renderer.domElement.parentElement;if(!t){console.warn("Two.js: Attempting to fit to parent, but no parent found.");return}let e=t.getBoundingClientRect(),r=this.width=e.width,s=this.height=e.height;this.renderer.setSize(r,s,this.ratio)}function Sh(t,e){this.width=t,this.height=e,this.trigger(B.Types.resize,t,e)}var er=pe.getRequestAnimationFrame();function ao(){for(let t=0;t<it.Instances.length;t++){let e=it.Instances[t];e.playing&&e.update()}it.nextFrameID=er(ao)}er.init=function(){ao(),er.init=function(){}};var Ht=new it({type:it.Types.canvas,fullscreen:!0});Ht.renderer.domElement.id="stage";var Nf=Math.PI*2,Ii=1e3,Yr=.125,Jn=new it.Vector,jf=document.querySelector("#container"),Ah=url.boolean("local")||window.location.href.match(/localhost/i),Gr=Ah?"assets/":"//storage.googleapis.com/cdn.patatap.com/";var nr=["background","middleground","foreground","highlight","accent","white","black"],sr=[{background:{r:181,g:181,b:181},middleground:{r:141,g:164,b:170},foreground:{r:227,g:79,b:12},highlight:{r:163,g:141,b:116},accent:{r:255,g:197,b:215},white:{r:255,g:255,b:255},black:{r:0,g:0,b:0},isDark:!1},{background:{r:255,g:230,b:255},middleground:{r:151,g:41,b:164},foreground:{r:1,g:120,b:186},highlight:{r:255,g:255,b:0},accent:{r:255,g:51,b:148},white:{r:255,g:255,b:255},black:{r:255,g:255,b:255},isDark:!1},{background:{r:217,g:82,b:31},middleground:{r:143,g:74,b:45},foreground:{r:255,g:108,b:87},highlight:{r:255,g:126,b:138},accent:{r:227,g:190,b:141},white:{r:255,g:255,b:255},black:{r:0,g:0,b:0},isDark:!1},{background:{r:57,g:109,b:193},middleground:{r:186,g:60,b:223},foreground:{r:213,g:255,b:93},highlight:{r:213,g:160,b:255},accent:{r:36,g:221,b:165},white:{r:215,g:236,b:255},black:{r:0,g:0,b:0},isDark:!0},{background:{r:255,g:244,b:211},middleground:{r:207,g:145,b:79},foreground:{r:38,g:83,b:122},highlight:{r:178,g:87,b:53},accent:{r:235,g:192,b:92},white:{r:226,g:82,b:87},black:{r:0,g:0,b:0},isDark:!1},{background:{r:39,g:6,b:54},middleground:{r:69,g:26,b:87},foreground:{r:252,g:25,b:246},highlight:{r:52,g:255,b:253},accent:{r:133,g:102,b:193},white:{r:253,g:228,b:252},black:{r:255,g:255,b:255},isDark:!0}],ui=url.int("palette",0),rr=!1,ts,es,is,ar={},Kr={};nr.forEach(t=>{ar[t]={r:0,g:0,b:0},Kr[t]={r:0,g:0,b:0}});oo(sr[ui]);function Eh(){return nr[Math.floor(Math.random()*nr.length)]}function Ch(){return sr[ui]}function oo(t){amount=0;for(let e in ar){let r=ar[e],s=t[e];r.r=s.r,r.g=s.g,r.b=s.b,amount++,Kr[e]=fo(r)}return amount}function lo(t){let e=0;for(let r in ar){let s=ar[r],a=t[r];ho(s,a)&&e++,s.r=Zn(s.r,a.r,Yr),s.g=Zn(s.g,a.g,Yr),s.b=Zn(s.b,a.b,Yr),Kr[r]=fo(s)}return e}function Zn(t,e,r){let s=e-t;return Math.abs(s)<=1e-4?e:t+s*r}function ho(t,e,r){let s=r||.25;return Math.abs(t.r-e.r)<s&&Math.abs(t.g-e.g)<s&&Math.abs(t.b-e.b)<s}function fo({r:t,g:e,b:r}){return`rgb(${Math.round(t)},${Math.round(e)},${Math.round(r)})`}function Rh(t){ts=t}function Mh(t){es=t}function Fh(t){is=t}function Oh(){if(!rr)return;let t=lo(sr[ui]);es&&es(),t>=nr.length&&rr&&(rr=!1,is&&is(ui))}var ie={keys:nr,list:sr,colors:Kr,get current(){return ui},set current(t){ui=t%sr.length,rr=!0,ts&&ts(ui)},get changing(){return rr},equals:ho,getRandomKey:Eh,get:Ch,onStart:Rh,onUpdate:Mh,onComplete:Fh,set:oo,tween:lo,update:Oh};var go=Ws(Cn());var co=function(t){return t},rs;try{rs=!!AudioContext}catch{rs=!1}function Ph({context:t,uri:e,callback:r}){return new Promise(function(s,a){var c=new XMLHttpRequest;c.open("GET",e,!0),c.responseType="arraybuffer",c.onerror=a,c.onload=function(){s({context:t,data:c.response,callback:r})},c.send()})}function uo({context:t,data:e,callback:r}){return new Promise(function(s,a){var c=function(f){s(f,e),r&&r(f,e)};t.decodeAudioData(e,c,a)})}var Ni,di,pi,ji,ye,Qr,po,or=class{constructor(e,r,s){hi(this,Qr);hi(this,Ni,!1);hi(this,di,1);hi(this,pi,1);hi(this,ji,0);hi(this,ye,0);Ye(this,"playing",!1);Ye(this,"filter",null);Ye(this,"buffer",null);Ye(this,"data",null);Ye(this,"gain",null);Ye(this,"src",null);Ye(this,"ctx",null);var a=this;switch(this.ctx=e,typeof r){case"string":this.src=r,Ph({context:e,uri:r,callback:c}).then(uo);break;case"object":uo({context:e,data:r,callback:c});break}function c(f,p){a.buffer=f,a.data=p,a.gain=a.filter=e.createGain(),a.gain.connect(e.destination),a.gain.gain.value=Math.max(Math.min(ae(a,di),1),0),s&&s(this)}}applyFilter(e){return this.filter&&this.filter!==this.gain&&this.filter.disconnect(this.gain),this.filter=e,this.filter.connect(this.gain),this}play(e){var r=wr(e||{},{time:this.ctx.currentTime,loop:this._loop,offset:this._offset,duration:this.buffer.duration-this._offset});return this.ctx&&/suspended/i.test(this.ctx.state)&&this.ctx.resume(),this.source&&this.stop(),je(this,ji,r.time),je(this,Ni,r.loop),this.playing=!0,this.source=this.ctx.createBufferSource(),this.source.onended=$s(this,Qr,po),this.source.buffer=this.buffer,this.source.loop=r.loop,this.source.playbackRate.value=ae(this,pi),this.source.connect(this.filter),this.source.start?this.source.start(r.time,r.offset):this.source.noteOn&&this.source.noteOn(r.time,r.offset),this}pause(e){if(!this.source||!this.playing)return this;var r=wr(e||{},{time:this.ctx.currentTime});this.source.onended=co,this.source.stop?this.source.stop(r.time):this.source.noteOff&&this.source.noteOff(r.time),this.playing=!1;var s=this.ctx.currentTime;return r.time!="undefined"&&(s=r.time),je(this,ye,s-ae(this,ji)+(ae(this,ye)||0)),ae(this,Ni)?je(this,ye,Math.max(ae(this,ye),0)%this.buffer.duration):je(this,ye,Math.min(Math.max(ae(this,ye),0),this.buffer.duration)),this}stop(e){if(!this.source||!this.playing)return this;var r=wr(e||{},{time:this.ctx.currentTime});return this.source.onended=co,this.source.stop?this.source.stop(r.time):this.source.noteOff&&this.source.noteOff(r.time),this.playing=!1,je(this,ye,0),this}get volume(){return ae(this,di)}set volume(e){je(this,di,e),this.gain&&(this.gain.gain.value=Math.max(Math.min(ae(this,di),1),0))}get speed(){return ae(this,pi)}set speed(e){je(this,pi,e),this.playing&&this.play()}get currentTime(){return this.playing?(this.ctx.currentTime-ae(this,ji)+ae(this,ye))*ae(this,pi):ae(this,ye)}set currentTime(e){var r;!this.buffer||(ae(this,Ni)?r=Math.max(e,0)%this.buffer.duration:r=Math.min(Math.max(e,0),this.buffer.duration),je(this,ye,r),this.playing&&this.play())}get millis(){return Math.floor(this.currentTime*1e3)}get duration(){return this.buffer?this.buffer.duration:0}};Ni=new WeakMap,di=new WeakMap,pi=new WeakMap,ji=new WeakMap,ye=new WeakMap,Qr=new WeakSet,po=function(){this.playing=!1},Ye(or,"has",rs);var Lh=new AudioContext,ns={},lr=[],Ih=["start","update","clear","resize","playing","hash","name"],ct=new it.Vector(Ht.width/2,Ht.height/2),_o=Ht.renderer.domElement,mo=Math.min(Ht.width,Ht.height);_o.style.background=ie.colors.background;Ht.bind("resize",()=>{ct.x=Ht.width/2,ct.y=Ht.height/2,mo=Math.min(Ht.width,Ht.height),lr.forEach(t=>t.resize())});ie.onStart(yo);ie.onUpdate(()=>{lr.forEach(({update:t})=>t()),_o.style.background=ie.colors.background});function gi(t,e){let r=e.name||t;if(t in ns){let s=`Animation ${r} already exists.`;throw new Error(s)}Ih.forEach(s=>{if(!(s in e)){let a=`Animation ${r}, does not have "${s}"`;throw new Error(a)}}),ns[t]=e,lr.push(e)}function yo(){let t=ie.current,e=["A","B","C","D","E","F"],r=".mp3",s=lr.filter(({sounds:T})=>Array.isArray(T));var a=e[t],c=(0,go.default)("#lobby"),f=c.find("#loaded").html(0),p=c.find("#total-assets");let y=Ys(function(){f.index=0,f.html(f.index),p.html(s.length),c.fadeIn()});return new Promise(T=>{let E=()=>{_(),A()},A=Gs(s.length,function(){T(),c.fadeOut()});s.forEach(x=>{let k=x.sounds[t];if(!k){y();let N=`${Gr}${a}/${x.name}${r}`;k=new or(Lh,N,E),x.sounds.push(k)}x.sound=k})});function _(){f.index++,f.html(f.index)}}var ss={updateAudio:yo,map:ns,get min_dimension(){return mo},list:lr};var Nh="change-colors",bo="3,",vo=!1;function jh(){ie.current=ie.current+1,vo=!0}function Dh(){}function Bh(){}function qh(){}var xo={start:jh,update:Dh,clear:qh,resize:Bh,get playing(){return vo},hash:bo,name:Nh};Ei(8).forEach(t=>{gi(`${bo}${t}`,xo)});gi("2,7",xo);var os=!1,Zr,Jr,hr=[new it.Anchor(-ct.x,-ct.y),new it.Anchor(ct.x,-ct.y),new it.Anchor(ct.x,ct.y),new it.Anchor(-ct.x,ct.y)],ze=Ht.makePath(hr);ze.closed=!0;ze.fill=ie.colors.middleground;ze.noStroke();var wo={x:ct.x},as={x:Ht.width*1.5};ls();function Hh(t){os=!0,ze.visible=!0,Zr.start(),!t&&tn.sound&&tn.sound.stop().play()}function zh(){ze.fill=ie.colors.middleground}function Uh(){hr[0].set(-ct.x,-ct.y),hr[1].set(ct.x,-ct.y),hr[2].set(ct.x,ct.y),hr[3].set(-ct.x,ct.y)}function ls(){Zr&&Zr.stop(),Jr&&Jr.stop(),ze.visible=!1,os=!1,Math.random()>.5?(ze.translation.set(-ct.x,ct.y),as.x=Ht.width*1.5):(ze.translation.set(Ht.width*1.5,ct.y),as.x=-ct.x),wo.x=ct.x,Zr=new Ri(ze.translation).to(wo,Ii*.5).easing(Ce.Exponential.Out).onComplete(()=>Jr.start()),Jr=new Ri(ze.translation).to(as,Ii*.5).easing(Ce.Exponential.In).onComplete(ls)}var tn={start:Hh,update:zh,resize:Uh,clear:ls,playing:function(){return os},hash:"2,1",name:"wipe",sounds:[]};gi(tn.hash,tn);var fs=!1,rn,en,fr=[new it.Anchor(-ct.x,-ct.y),new it.Anchor(ct.x,-ct.y),new it.Anchor(ct.x,ct.y),new it.Anchor(-ct.x,ct.y)],Ue=Ht.makePath(fr);Ue.closed=!0;Ue.fill=ie.colors.highlight;Ue.noStroke();var ko={y:ct.y},hs={y:0};To();function Vh(t){fs=!0,Ue.visible=!0,rn.start(),!t&&nn.sound&&nn.sound.stop().play()}function Wh(){Ue.fill=ie.colors.highlight}function $h(){fr[0].set(-ct.x,-ct.y),fr[1].set(ct.x,-ct.y),fr[2].set(ct.x,ct.y),fr[3].set(-ct.x,ct.y)}function To(){rn&&rn.stop(),en&&en.stop(),Ue.visible=!1,fs=!1,Math.random()>.5?(Ue.translation.set(ct.x,-ct.y),hs.y=Ht.height*1.5):(Ue.translation.set(ct.x,Ht.height*1.5),hs.y=-ct.y),ko.y=ct.y,rn=new Ri(Ue.translation).to(ko,Ii*.5).easing(Ce.Exponential.Out).onComplete(()=>en.start()),en=new Ri(Ue.translation).to(hs,Ii*.5).easing(Ce.Exponential.In)}var nn={start:Vh,update:Wh,resize:$h,clear:To,playing:function(){return fs},hash:"1,1",name:"veil",sounds:[]};gi(nn.hash,nn);(0,ne.default)(()=>{let t=(0,ne.default)("#content"),e=(0,ne.default)("#hint"),r=(0,ne.default)("#credits"),s=(0,ne.default)("#embed"),a=(0,ne.default)("#merchandise"),c=(0,ne.default)(window),f,p,y,_,T,E=!1,A=!1,x=!1,k=Rn(function(){if(E){k();return}e.fadeIn()},2e4),N=Rn(function(){if(Jn.y>_-64){N();return}t.css("top",0)},1e3),M=document.createElement("audio");M.addEventListener("canplay",R,!1),M.src=`${Gr}silent.mp3`,M.preload="auto",M.load();function R(){c.bind("click",L).bind("visibilitychange",q),M.removeEventListener("canplay",R,!1),z()}function L(ot){A=!0,M.play(),c.unbind("click",L)}function q(){/hidden/i.test(document.visibilityState)&&A&&(A=!1,c.unbind("click",L).bind("click",L))}function z(){Ht.appendTo(t[0]),ss.updateAudio(),(0,ne.default)("#embed-button").click(rt=>{rt.preventDefault(),e.fadeOut(),a.fadeOut(),s.fadeIn(l)});let ot=!0;(0,ne.default)("#merchandise-button").click(rt=>{rt.preventDefault(),ot&&(a.css({opacity:1,display:"none",zIndex:0}),ot=!1),e.fadeOut(),s.fadeOut(),a.fadeIn(()=>{E=!0,x=!0})}),(0,ne.default)("#close-merchandise").click(rt=>{rt.preventDefault(),E=!1,x=!1,a.fadeOut()}),c.bind("resize",function(rt){y=c.width(),_=c.height(),tt(rt)}).bind("mousemove",function(rt){E||url.boolean("kiosk")||(Jn.set(rt.clientX,rt.clientY),At())}).bind("keydown",function(rt,_t){if(rt.metaKey||rt.ctrlKey)return;rt.preventDefault();let yt=rt.which||_t,K;switch(yt){case 81:K="0,0";break;case 87:K="0,1";break;case 69:K="0,2";break;case 82:K="0,3";break;case 84:K="0,4";break;case 89:K="0,5";break;case 85:K="0,6";break;case 73:K="0,7";break;case 79:K="0,8";break;case 80:K="0,9";break;case 65:K="1,0";break;case 83:K="1,1";break;case 68:K="1,2";break;case 70:K="1,3";break;case 71:K="1,4";break;case 72:K="1,5";break;case 74:K="1,6";break;case 75:K="1,7";break;case 76:K="1,8";break;case 90:K="2,0";break;case 88:K="2,1";break;case 67:K="2,2";break;case 86:K="2,3";break;case 66:K="2,4";break;case 78:K="2,5";break;case 77:K="2,6";break;case 32:K="3,0";break}gt(K),Wt()}),navigator.maxTouchPoints>1?(e.find(".message").html("Press anywhere on the screen and turn up speakers"),St()):(r.css("display","block"),e.find(".message").html("Press any key, A to Z or spacebar, and turn up speakers")),Ht.bind("update",function(){Qs(),ie.update(),f&&(p.needsUpdate.forEach(G),f.update())}).play(),c.trigger("resize"),navigator.requestMIDIAccess&&navigator.requestMIDIAccess().then(J,mt),setTimeout(()=>{if((0,ne.default)("#lobby").fadeOut(st),url.boolean("kiosk")){(0,ne.default)(document.body).addClass("kiosk"),Wt(),e.fadeIn();return}else if(/merchandise/ig.test(url.hash)){(0,ne.default)("#merchandise-button").trigger("click");return}e.fadeIn()},1e3)}function H(ot){s.has(ot.target).length||(s.fadeOut(function(){E=!1}),c.unbind("click",H))}function l(){E=!0,s.find("textarea").select(),c.bind("click",H)}function tt(){if(!f)return;y=c.width(),_=c.height(),T=y>=_;let ot=p.length;p.forEach((rt,_t)=>{let yt=rt.length,K,Ft,Jt,$t;T?(K=y/yt,Ft=_/ot):(K=y/ot,Ft=_/yt),rt.width=K,rt.height=Ft,K/=2,Ft/=2,rt.forEach((It,Rt)=>{let Lt=It.vertices;T?(Jt=y*(Rt+.5)/yt,$t=_*(_t+.5)/ot):(Jt=y*(_t+.5)/ot,$t=_*(Rt+.5)/yt),Lt[0].set(-K,-Ft),Lt[1].set(K,-Ft),Lt[2].set(K,Ft),Lt[3].set(-K,Ft),It.translation.set(Jt,$t),It.visible=!0})})}function G(ot){ot.opacity+=-ot.opacity*.2,ot.opacity<=.1&&(ot.opacity=0,delete p.needsUpdate[ot.id])}function st(){window.localStorage&&window.localStorage.getItem("visited")||(gt("0,9"),gt("2,6"),gt("1,7"),gt("2,1"),window.localStorage&&window.localStorage.setItem("visited",!0))}function J(ot){let rt=[],_t=[],yt=[],K=(0,ne.default)(".midi-connections"),Ft={21:"2,0",23:"2,1",24:"2,2",26:"2,3",28:"2,4",29:"2,5",31:"2,6",33:"1,0",35:"1,1",36:"1,2",38:"1,3",40:"1,4",41:"1,5",43:"1,6",45:"1,7",47:"1,8",48:"0,0",50:"0,1",52:"0,2",53:"0,3",55:"0,4",57:"0,5",59:"0,6",60:"0,7",62:"0,8",64:"0,9",65:"2,0",67:"2,1",69:"2,2",71:"2,3",72:"2,4",74:"2,5",76:"2,6",77:"1,0",79:"1,1",81:"1,2",83:"1,3",84:"1,4",86:"1,5",88:"1,6",89:"1,7",91:"1,8",93:"0,0",95:"0,1",96:"0,2",98:"0,3",100:"0,4",101:"0,5",103:"0,6",105:"0,7",107:"0,8",108:"0,9",22:"3,0",106:"3,0"},Jt={};for(let Lt in Ft){let Nt=Ft[Lt];Jt[Nt]=Lt}window.onmidistatechange=$t,window.onmidimessage=It,ot.addEventListener("statechange",$t),$t({target:ot}),J.dispatch=function(Lt){let jt=Jt[Lt],lt=100;if(!jt)return;let Yt=[144,jt,lt],Se=[128,jt,0];for(let Ge=0;Ge<_t.length;Ge++){let _i=_t[Ge];_i.send(Yt),_i.send(Se,Date.now()+100)}window.webkit&&(window.webkit.messageHandlers.midi.postMessage(Yt),setTimeout(function(){window.webkit.messageHandlers.midi.postMessage(Se)},100))};function $t(Lt){let Nt=Lt.target,jt;rt.length=yt.length=0;for(let lt of Nt.inputs.values())Q(rt,lt)||(rt.push(lt),yt.push(lt.name)),lt.onmidimessage=It;for(let lt of Nt.outputs.values())Q(_t,lt)||_t.push(lt);if(yt.length<=0){K.html("Disconnected from all MIDI devices");return}else if(yt.length<=1)jt=yt[0];else if(yt.length<=2)jt=yt[0]+" and "+yt[1];else{let lt=yt.pop();jt=`${yt.join(", ")}, and ${lt}`,yt.push(lt)}K.html(`Connected to these MIDI devices:, ${jt}`),show()}function It(Lt){let Nt=Lt.data[0],jt=Lt.data[1],lt=Lt.data.length>2?Lt.data[2]:0;switch(Nt){case 144:lt>0&&Rt(jt,lt);break}}function Rt(Lt){let Nt=Ft[Lt];Nt&&(J.receiving=!0,gt(Nt),Wt(),J.receiving=!1)}}function mt(){window.console&&window.console.log&&window.console.log("Unable to connect to MIDI")}function Q(ot,rt){for(let _t=0;_t<ot.length;_t++)if(ot[_t].id===rt.id)return!0;return!1}function St(){f=new Two({fullscreen:!0}).appendTo(t[0]),f.renderer.domElement.id="ui",p=new Array(3),p.width=p.height=32,p.needsUpdate={},p.map={},p[0]=Ei(10).map(It),p[1]=Ei(9).map(It),p[2]=Ei(8).map(It),f.update();let ot=[],rt,_t,yt,K,Ft,Jt,$t;t.bind("touchstart",function(lt){rt=lt.originalEvent,each(rt.touches,Lt)}).bind("touchmove",function(lt){rt=lt.originalEvent,each(rt.touches,Nt)}).bind("touchstart touchmove touchend touchcancel",function(lt){if(A&&!(x||(0,ne.default)(lt.target).hasClass("ios-app-store")))return lt.preventDefault(),!1}),p.forEach((lt,Yt)=>{lt.forEach(function(Se,Ge){let _i=Se._renderer.elem,mi=`${Yt},${Ge}`;p.map[mi]=Se,(0,ne.default)(_i).css({cursor:"pointer"}).bind("mousedown touchstart",function(yi){rt=yi.originalEvent,jt(mi,Se)})})});function It(){let lt=f.makeRectangle(0,0,p.width,p.height);return lt.noFill().noStroke(),lt.opacity=0,lt.visible=!1,lt}function Rt(lt,Yt){return K=p.length,T?(Ft=Yi(Math.floor(K*Yt/_),0,K-1),K=p[Ft].length,Jt=Yi(Math.floor(K*lt/y),0,K-1)):(Ft=Yi(Math.floor(K*lt/y),0,K-1),K=p[Ft].length,Jt=Yi(Math.floor(K*Yt/_),0,K-1)),`${Ft},${Jt}`}function Lt(lt){_t=lt.clientX,yt=lt.clientY,ot[lt.identifier]={id:Rt(_t,yt,_t,yt),x:_t,y:yt}}function Nt(lt){_t=lt.clientX,yt=lt.clientY,$t=Rt(_t,yt,ot[lt.identifier].x,ot[lt.identifier].y),ot[lt.identifier]&&ot[lt.identifier].id!==$t&&(jt($t,p.map[$t]),ot[lt.identifier].id=$t),ot[lt.identifier].x=_t,ot[lt.identifier].y=yt}function jt(lt,Yt){gt(lt),Wt(),ie.get().isDark?Yt.fill="rgba(255, 255, 255, 0.3)":Yt.fill="rgba(0, 0, 0, 0.3)",Yt.opacity=1,p.needsUpdate[Yt.id]=Yt}}function gt(ot,rt){let _t=ss.map[ot];_t&&(_t.playing&&_t.clear(),_t.start(rt),window.gtag&&window.gtag("event","animation",{trigger:ot})),!J.receiving&&J.dispatch&&J.dispatch(ot)}function Wt(){e.fadeOut(),k()}function At(){t.css("top",`${-64}px`),N()}});window.console&&window.console.log&&window.console.log("Check out the code at http://github.com/jonobr1/Patatap");})();
/*!
 * jQuery JavaScript Library v3.7.0
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-05-11T18:29Z
 */
